{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/About.jsx","webpack:///./src/FAQ.jsx","webpack:///./src/Index.jsx","webpack:///./src/Privacy.jsx","webpack:///./src/Stream.jsx","webpack:///./src/Streams.jsx","webpack:///./src/ToS.jsx","webpack:///./src/actions/ActionTypes.js","webpack:///./src/actions/accountMap.js","webpack:///./src/actions/info.js","webpack:///./src/actions/settings.js","webpack:///./src/components/forms/VirtualMachineForm.jsx","webpack:///./src/components/modals/CreateVMModal.jsx","webpack:///./src/components/modals/SettingsModal.jsx","webpack:///./src/components/modals/settings/AudioVideo.jsx","webpack:///./src/components/modals/settings/InputMapper.jsx","webpack:///./src/components/modals/settings/Site.jsx","webpack:///./src/components/stream/CheckboxSettings.jsx","webpack:///./src/components/stream/Picture.jsx","webpack:///./src/components/stream/lagless/laglessBar/LaglessBar.jsx","webpack:///./src/components/stream/lagless/laglessBar/Ping.jsx","webpack:///./src/components/stream/lagless/laglessView/ControllerView.jsx","webpack:///./src/components/stream/lagless/laglessView/HoverMenu.jsx","webpack:///./src/components/stream/lagless/laglessView/LaglessCanvas.jsx","webpack:///./src/components/stream/lagless/laglessView/LaglessView.jsx","webpack:///./src/components/stream/streamInfo/StreamInfo.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/PlayerInfo.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/player/ControlQueue.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/player/Player.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/player/QueueButton.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/player/TurnTimer.jsx","webpack:///./src/components/stream/streamInfo/playerInfo/player/TurnTimers.jsx","webpack:///./src/components/streams/StreamList.jsx","webpack:///./src/components/streams/StreamsAppBar.jsx","webpack:///./src/components/streams/StreamsDrawer.jsx","webpack:///./src/components/streams/StreamsFooter.jsx","webpack:///./src/features/players.js","webpack:///./src/libs/jsmpeg/jsmpeg.wasm.js","webpack:///./src/libs/jsmpeg/src/ajax.js","webpack:///./src/libs/jsmpeg/src/buffer.js","webpack:///./src/libs/jsmpeg/src/canvas2d.js","webpack:///./src/libs/jsmpeg/src/decoder.js","webpack:///./src/libs/jsmpeg/src/mp2-wasm.js","webpack:///./src/libs/jsmpeg/src/mp2.js","webpack:///./src/libs/jsmpeg/src/mpeg1-wasm.js","webpack:///./src/libs/jsmpeg/src/mpeg1.js","webpack:///./src/libs/jsmpeg/src/player.js","webpack:///./src/libs/jsmpeg/src/ts.js","webpack:///./src/libs/jsmpeg/src/utils.js","webpack:///./src/libs/jsmpeg/src/wasm-module.js","webpack:///./src/libs/jsmpeg/src/webaudio.js","webpack:///./src/libs/jsmpeg/src/webgl.js","webpack:///./src/libs/jsmpeg/src/websocket.js","webpack:///./src/libs/lagless/lagless2.js","webpack:///./src/libs/lagless/lagless4.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/settings.js","webpack:///./src/reducers/stream/accountMap.js","webpack:///./src/reducers/stream/index.js","webpack:///./src/reducers/stream/info.js","webpack:///./src/reducers/stream/waitlist.js","webpack:///./src/reducers/streams/index.js","webpack:///./src/reducers/streams/streamList.js","webpack:///./src/sagas/account/index.js","webpack:///./src/sagas/stream/index.js","webpack:///./src/sagas/stream/players.js","webpack:///./src/shared/components/account/ConnectAccounts.jsx","webpack:///./src/shared/components/account/PopoverMenu.jsx","webpack:///./src/shared/components/account/Username.jsx","webpack:///./src/shared/components/account/UsernameDropdown.jsx","webpack:///./src/shared/components/chat/Chat.jsx","webpack:///./src/shared/components/chat/MemberList.jsx","webpack:///./src/shared/components/chat/Message.jsx","webpack:///./src/shared/components/chat/MessageList.jsx","webpack:///./src/shared/components/chat/SendMessageForm.jsx","webpack:///./src/shared/components/forms/LoginForm.jsx","webpack:///./src/shared/components/forms/RegisterForm.jsx","webpack:///./src/shared/components/general/Loading.jsx","webpack:///./src/shared/components/general/MyAlert.jsx","webpack:///./src/shared/components/general/MyAppBar.jsx","webpack:///./src/shared/components/general/MyCheckbox.jsx","webpack:///./src/shared/components/general/MySlider.jsx","webpack:///./src/shared/components/general/ThemeSelector.jsx","webpack:///./src/shared/components/general/VolumeSlider.jsx","webpack:///./src/shared/components/icons/Badge.jsx","webpack:///./src/shared/components/modals/AccountModal.jsx","webpack:///./src/shared/components/modals/LoginRegisterModal.jsx","webpack:///./src/shared/features/alert.js","webpack:///./src/shared/features/chat.js","webpack:///./src/shared/features/client.js","webpack:///./src/shared/features/time.js","webpack:///./src/shared/libs/LoadCircle.js","webpack:///./src/shared/libs/inputHandler/DeviceStates.js","webpack:///./src/shared/libs/inputHandler/GamepadWrapper.js","webpack:///./src/shared/libs/inputHandler/InputHandler.js","webpack:///./src/shared/libs/inputHandler/KeyboardWrapper.js","webpack:///./src/shared/libs/inputHandler/TouchWrapper.js","webpack:///./src/shared/libs/inputHandler/VirtualController.js","webpack:///./src/shared/libs/inputHandler/VirtualKeyboard.js","webpack:///./src/shared/libs/inputHandler/VirtualMouse.js","webpack:///./src/shared/libs/inputHandler/VirtualTouchpad.js","webpack:///./src/shared/libs/utils.js","webpack:///./src/shared/sagas/chat.js","webpack:///./src/shared/sagas/client.js","webpack:///./src/sockets/account/client.js","webpack:///./src/sockets/account/index.js","webpack:///./src/sockets/stream/accountMap.js","webpack:///./src/sockets/stream/chat.js","webpack:///./src/sockets/stream/client.js","webpack:///./src/sockets/stream/index.js","webpack:///./src/sockets/stream/players.js","webpack:///./src/sockets/stream/time.js","webpack:///ws (ignored)","webpack:///util (ignored)","webpack:///util (ignored)?4216"],"names":["classNames","require","styles","theme","root","display","justifyContent","padding","color","palette","primary","contrastText","backgroundColor","background","default","main","flexDirection","width","height","image","cursor","marginLeft","marginRight","back","marginBottom","card","media","imagesContainer","flexWrap","donationButtons","twitch","About","PureComponent","constructor","props","render","classes","history","push","window","location","mapStateToProps","state","mapDispatchToProps","dispatch","updateSettings","settings","container","QA","commands","subCommands","marginTop","device","laptop","FAQ","LoginRegisterModal","AccountModal","CreateVMModal","ToS","Privacy","Streams","Stream","Index","Component","localforage","getItem","then","value","Object","assign","JSON","parse","currentPlayer","largescreen","fullscreen","mobileMode","hideChat","hideNav","store","isBanned","banned","themeName","type","secondary","paper","getTheme","preloadedState","stream","info","online","exists","streamSettings","videoType","controllerCount","playerCount","allowGuestPlayers","chat","messages","userids","players","controlQueues","turnTimers","controllerStates","time","server","lastServerUpdate","ping","accountMap","waitlist","streams","streamList","keyboardControls","controllerControls","mouseControls","touchControls","realKeyboardMouse","controllerView","audioThree","analogStickMode","dpadSwap","TDSConfig","volume","form","i","turnStartTime","forfeitStartTime","turnLength","forfeitLength","btns","axes","sagaMiddleware","reducer","rootReducer","middleware","accountConnection","path","transports","run","handleAccountActions","socket","currentValue","subscribe","previousValue","getState","setState","onbeforeunload","console","log","setItem","stringify","componentDidMount","shouldComponentUpdate","nextProps","nextState","test","pathname","href","replaceState","ReactDOM","document","getElementById","iframe","borderRadius","StreamsAppBar","Picture","Chat","StreamInfo","gridTemplateColumns","gridTemplateAreas","gridGap","tablet","data","destroyStream","hostConnection","hostServerIP","hostServerPort","handleStreamActions","videoServerIP","videoConnection","videoServerPort","loadCircle","LoadCircle","start","emit","success","openAlert","title","reason","Lagless2","audio","video","maxAudioLag","videoBufferSize","Lagless4","mouseEnabled","checkLoading","setTimeout","setStreamVolume","player","currentTime","stop","restart","username","match","params","updateStreamInfo","getStream","disableAFK","pause","removeAllListeners","destroy","alert","reload","webkitIsFullScreen","mozFullScreen","msFullscreenElement","inputHandler","mouse","toggle","dispatchEvent","Event","changed","clearTimeout","afkTimer","afk","afkTime","currentInputMode","activeElement","indexOf","client","userid","joinLeavePlayerControlQueue","cNum","joinLeave","length","enqueueSnackbar","variant","preventDuplicate","anchorOrigin","vertical","horizontal","autoHideDuration","obj","controller","keys","keyboard","buttons","toString","repeat","substr","Math","random","toFixed","InputHandler","init","loadingCheckTimer","setInterval","streamOnline","connected","addEventListener","exitFullscreen","sendInputTimer","loggedIn","pollDevices","sendControllerState","event","keyCode","preventDefault","exitPointerLock","componentWillUnmount","clearInterval","resetSettings","realMode","getStreamInfo","componentDidUpdate","prevProps","prevState","count","streamInfo","keyboardEnabled","updateClient","updateMessages","withRouter","withSnackbar","drawerOpen","triggered","toggleDrawer","bind","updateDimensions","innerWidth","removeEventListener","bool","RECEIVE_MESSAGE","SEND_MESSAGE","UPDATE_MESSAGES","UPDATE_CONTROL_QUEUES","UPDATE_VIEWERS","UPDATE_WAITLISTS","UPDATE_TURN_EXPIRATIONS","UPDATE_TURN_LENGTHS","UPDATE_VOLUME","AUTHENTICATE","UPDATE_CLIENT_INFO","CHANGE_USERNAME","RECEIVE_USERNAME_MAP","RECEIVE_ACCOUNT_MAP","UPDATE_CONTROLLER_STATE","UPDATE_SETTINGS","UPDATE_PLAYER_CONTROL_QUEUES","UPDATE_PLAYER_TURN_START_TIMES","UPDATE_PLAYER_TURN_LENGTHS","UPDATE_PLAYER_CONTROLLER_STATE","JOIN_PLAYER_CONTROL_QUEUE","LEAVE_PLAYER_CONTROL_QUEUE","UPDATE_SERVER_TIME","UPDATE_LAST_SERVER_UPDATE","UPDATE_PING","RECEIVE_STREAMS","LOGIN","REGISTER","UPDATE_STREAM_INFO","receiveAccountMap","map","types","payload","validate","values","errors","requiredFields","forEach","field","email","renderTextField","label","input","meta","touched","invalid","error","custom","renderCheckbox","onChange","renderTOS","renderRadioGroup","rest","renderFromHelper","renderSelectField","children","labelWidth","id","undefined","userSelect","overflowY","alignSelf","dropdownContainer","gridColumn","border","margin","VirtualMachineForm","TOSAgreed","target","checked","windowTitles","dshowDevices","audioDeviceNames","qualityProfile","onUpdateFormProfile","handleSubmit","pristine","reset","submitting","getResolutionMenuItems","getFPSMenuItems","agreeTOS","onStopMachine","ownProps","initialValues","videoBitrate","VirtualMachineForm2","enableReinitialize","selector","controls","av","site","goBack","profileName","formInitialValues","profiles","args","authToken","streamTitle","description","region","windowTitle","windowTitleDropdown","audioDevice","audioDeviceDropdown","videoDevice","videoDeviceDropdown","resolution","audioBufferSize","groupOfPictures","captureRate","framerate","capture","offsetX","offsetY","controlSwitch","virtualXboxControllers","qmin","qmax","forfeitTime","perfect","ultraHigh","high","medium","low","ultraLow","handleClose","handleStartMachine","handleStopMachine","handleUpdateFormProfile","SettingsModal","handleChange","update","controllerIndex","which","tabs","replace","AudioVideo","MAP_BUTTON_NAMES","DISPLAY_BUTTON_NAMES","BUTTON_LAYOUTS","xbox","DS4","proController","DISPLAY_AXIS_NAMES","MAP_AXIS_NAMES","DISPLAY_KEYBOARD_NAMES","MAP_KEYBOARD_NAMES","ControllerMapper","mapAxisTimer","mapButtonTimer","currentMapping","mapButton","mapAxis","waiting","lastChangedButton","lastChangedIndex","parseInt","DISPLAY_NAMES","MAP_NAMES","btn","axis","currentMappingNamed","detectedType","listItem","KeyboardMapper","mapKey","lastPressedKey","mapKeyTimer","toUpperCase","controllerRemapper","keyboardRemapper","list","maxHeight","rootClass","rail","track","thumb","boxShadow","active","sliderSettings","lineHeight","InputMapperModal","autoSelectGamepad","whichTab","gamepadWrapper","activeGamepadIndex","gamepads","gamepadIndex","controllers","unshift","rescanGamepads","deadzone","sensitivity","Array","e","Site","CheckboxSettings","getElementsByTagName","toggleAudioThree","body","scrollTop","documentElement","gridArea","overflow","gridRow","pictureClasses","dark","light","LaglessBar","setVolume","destination","resetEnqueuedTime","Ping","controllerRoot","zIndex","position","leftOverlay","left","opacity","rightOverlay","right","transparent","leftStick1","top","leftStick2","pointerEvents","rightStick1","rightStick2","dpad","abxy","xboxabxy","fontSize","fontWeight","content","clipPath","backgroundImage","button","otherButtons","textShadow","highlighted","trigger1","borderBottomLeftRadius","borderBottomRightRadius","trigger2","borderTopLeftRadius","borderTopRightRadius","xboxHighlighted","hide","ControllerView","x","cstate","y","x2","sqrt","y2","scale","stick","leftStickRef","current","clientWidth","rightStickRef","React","createRef","ControllerState","touchpad","touchWrapper","leftStick","rightStick","controllerState","highlightedClass","abxyClass","overlay","hideControllers","origin","lstick","transform","getLeftStickTransform","up","down","minus","l","zl","rstick","getRightStickTransform","a","b","plus","home","r","zr","settingsButtons","HoverMenu","enabled","mouseAlertOpen","graphicsCanvasRef","videoClasses","open","handleMouseLeave","handleVolumeChange","handleToggleControllerView","handleRequestMouse","handleToggleFullscreen","handleCloseMouseAlert","enableMouseControls","textAlign","LaglessCanvas","hoverMenuOpen","videoCanvas","handleClick","handleMouseEnter","notFullscreen","offlineMessage","flexGrow","alignItems","LaglessView","laglessClasses","controllerNumber","isXbox","controllerType","displayLagless","waitlisted","overflowX","PlayerInfo","mapPlayers","ControlQueue","getQueue","queue","num","listItemClasses","Player","choosePlayer","index","QueueButton","controlQueue","buttonText","joinLeaveQueue","turnText","forfeitText","turn","forfeit","TurnTimer","getBarText","name","timeLeft","getStyle","percent","isTurn","override","textClass","TurnTimers","interval","Date","now","n","serverTime","turnTimeLeft","turnTimeLeftPercent","forfeitTimeLeft","forfeitTimeLeftPercent","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerClose","DUMMY_URL","StreamList","cards","thumbnailURL","renderStreams","withTheme","grow","breakpoints","search","shape","common","white","spacing","searchIcon","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","mobileMenu","handleAccount","handleProjectDiscord","menuButton","handleToggleDrawer","desktop","mobile","handleLoginRegister","drawerWidth","flexShrink","appBar","toolbar","mixins","drawerPaper","StreamsDrawer","mobileOpen","anchorEl","mobileMoreAnchorEl","drawer","handleDrawerToggle","bottom","StreamsFooter","playersSlice","initialState","reducers","updatePlayerControlQueues","action","queues","updatePlayerTurnStartTimes","turnStartTimes","forfeitStartTimes","updatePlayerTurnLengths","turnLengths","forfeitLengths","updatePlayerControllerState","actions","WASM_BINARY_INLINED","AjaxSource","url","options","request","XMLHttpRequest","onreadystatechange","readyState","DONE","status","onLoad","response","onprogress","onProgress","responseType","send","secondsHeadroom","abort","ev","progress","loaded","total","established","completed","onEstablishedCallback","onCompletedCallback","write","streaming","onSourceEstablished","onSourceCompleted","BitBuffer","bufferOrLength","mode","size","newBytes","Uint8Array","byteLength","min","set","bytes","sizeNeeded","bytePos","available","copyWithin","subarray","buffers","isArrayOfBuffers","totalLength","MODE","EXPAND","newSize","max","resize","evict","appendSingleBuffer","buffer","code","findNextStartCode","offset","currentByte","remaining","read","shift","mask","peek","EVICT","CanvasRenderer","canvas","imageData","context","getImageData","w","h","ctx","fillStyle","fillRect","cb","cr","YCbCrToRGBA","putImageData","rgba","w2","yIndex1","yIndex2","yNext2Lines","cIndex","cNextLine","rgbaIndex1","rgbaIndex2","rgbaNext2Lines","cols","rows","ccb","ccr","g","row","col","y1","y3","y4","createElement","getContext","BaseDecoder","bits","pts","baseWrite","collectTimestamps","timestamps","startTime","decodedTime","bytesWritten","bufferWrite","canPlay","timestampIndex","ts","bufferSetIndex","advanceDecodedTime","seconds","newTimestampIndex","currentIndex","bufferGetIndex","defineProperty","get","getCurrentTime","MP2WASM","module","instance","warn","functions","exports","decoder","mp2_decoder_create","bufferSize","bufferMode","mp2_decoder_destroy","mp2_decoder_get_index","mp2_decoder_set_index","initializeWasmDecoder","ptr","mp2_decoder_get_write_ptr","heapU8","mp2_decoder_did_write","decodedBytes","mp2_decoder_decode","sampleRate","mp2_decoder_get_sample_rate","leftPtr","mp2_decoder_get_left_channel_ptr","rightPtr","mp2_decoder_get_right_channel_ptr","leftOffset","Float32Array","BYTES_PER_ELEMENT","rightOffset","heapF32","SAMPLES_PER_FRAME","play","elapsedTime","onDecodeCallback","enqueuedTime","onAudioDecode","wasmModule","MP2","pos","decoded","decodeFrame","sync","version","layer","hasCRC","FRAME_SYNC","VERSION","MPEG_1","LAYER","II","bitrateIndex","sampleRateIndex","SAMPLE_RATE","MPEG_2","privat","bound","JOINT_STEREO","skip","MONO","bitrate","BIT_RATE","frameSize","tab3","sblimit","tab1","tab2","QUANT_LUT_STEP_1","QUANT_LUT_STEP_2","sb","allocation","readAllocation","channels","ch","scaleFactorInfo","sf","scaleFactor","outPos","part","granule","readSamples","sample","p","VPos","MatrixTransform","V","U","dIndex","vIndex","D","outChannel","j","tab4","QUANT_LUT_STEP_3","qtab","QUANT_LUT_STEP4","QUANT_TAB","q","val","SCALEFACTOR_BASE","adj","levels","group","s","ss","d","dp","t01","t02","t03","t04","t05","t06","t07","t08","t09","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","SYNTHESIS_WINDOW","Int32Array","MPEG_2_5","III","I","STEREO","DUAL_CHANNEL","Uint16Array","Uint32Array","A","B","C","MPEG1WASM","mpeg1_decoder_create","mpeg1_decoder_destroy","mpeg1_decoder_get_index","mpeg1_decoder_set_index","mpeg1_decoder_get_write_ptr","mpeg1_decoder_did_write","hasSequenceHeader","mpeg1_decoder_has_sequence_header","loadSequnceHeader","frameRate","mpeg1_decoder_get_frame_rate","codedSize","mpeg1_decoder_get_coded_size","mpeg1_decoder_get_width","mpeg1_decoder_get_height","decodeFirstFrame","decode","didDecode","mpeg1_decoder_decode","ptrY","mpeg1_decoder_get_y_ptr","ptrCr","mpeg1_decoder_get_cr_ptr","ptrCb","mpeg1_decoder_get_cb_ptr","dy","dcr","dcb","onVideoDecode","MPEG1","findStartCode","START","SEQUENCE","decodeSequenceHeader","PICTURE","decodePicture","codeTable","newWidth","newHeight","PICTURE_RATE","initBuffers","customIntraQuantMatrix","ZIG_ZAG","intraQuantMatrix","idx","customNonIntraQuantMatrix","nonIntraQuantMatrix","DEFAULT_INTRA_QUANT_MATRIX","DEFAULT_NON_INTRA_QUANT_MATRIX","mbWidth","mbHeight","mbSize","codedWidth","codedHeight","halfWidth","halfHeight","currentY","Uint8ClampedArray","currentY32","currentCr","currentCr32","currentCb","currentCb32","forwardY","forwardY32","forwardCr","forwardCr32","forwardCb","forwardCb32","skipOutput","currentFrame","pictureType","PICTURE_TYPE","PREDICTIVE","fullPelForward","forwardFCode","forwardRSize","forwardF","EXTENSION","USER_DATA","SLICE_FIRST","SLICE_LAST","decodeSlice","rewind","INTRA","tmpY","tmpY32","tmpCr","tmpCr32","tmpCb","tmpCb32","slice","sliceBegin","macroblockAddress","motionFwH","motionFwHPrev","motionFwV","motionFwVPrev","dcPredictorY","dcPredictorCr","dcPredictorCb","quantizerScale","decodeMacroblock","nextBytesAreStartCode","increment","t","readHuffman","MACROBLOCK_ADDRESS_INCREMENT","mbRow","mbCol","copyMacroblock","mbTable","MACROBLOCK_TYPE","macroblockType","macroblockIntra","macroblockMotFw","decodeMotionVectors","cbp","CODE_BLOCK_PATTERN","block","decodeBlock","MOTION","abs","motionH","motionV","sY","sCr","sCb","scan","H","oddH","oddV","src","dest","last","dY","dCb","dCr","cr1","cr2","cb1","cb2","quantMatrix","predictor","dctSize","DCT_DC_SIZE_LUMINANCE","DCT_DC_SIZE_CHROMINANCE","differential","blockData","level","coeff","DCT_COEFF","dezigZagged","PREMULTIPLIER_MATRIX","destArray","destIndex","CopyValueToDestination","IDCT","CopyBlockToDestination","AddValueToDestination","AddBlockToDestination","b1","b3","b4","b6","b7","tmp1","tmp2","m0","x0","x1","x3","x4","y5","y6","y7","Int16Array","Int8Array","MACROBLOCK_TYPE_INTRA","MACROBLOCK_TYPE_PREDICTIVE","MACROBLOCK_TYPE_B","source","autoplay","visibilityState","unpauseOnShow","wantsToPlay","animationId","requestAnimationFrame","paused","cancelAnimationFrame","isPlaying","audioOut","seek","onPause","renderer","startOffset","renderProgress","onPlay","updateForStreaming","updateForStaticFile","notEnoughData","headroom","demuxer","targetTime","lateTime","frameTime","resume","loop","onEnded","onStalled","SIOSource","TS","connect","disableWebAssembly","WASM","IsSupported","GetModule","disableGl","WebGLRenderer","STREAM","VIDEO_1","WebAudioOut","AUDIO_1","setCurrentTime","getVolume","pauseWhenHidden","showHide","ready","startLoading","wasm","loadFromBuffer","streamId","pesPacketInfo","currentLength","leftoverBytes","has","parsePacket","leftoverCount","resync","end","transportError","payloadStart","transportPriority","pid","transportScrambling","adaptationField","continuityCounter","pidsToStreamIds","pi","packetComplete","adaptationFieldLength","packetLength","ptsDtsFlag","headerLength","payloadBeginIndex","p32_30","p29_15","p14_0","payloadLength","packetStart","complete","packetAddData","hasPadding","guessVideoFrameEnd","byteIndex","foundSync","PACK_HEADER","SYSTEM_HEADER","PROGRAM_MAP","PRIVATE_1","PADDING","PRIVATE_2","DIRECTORY","Now","performance","CreateVideoElements","elements","querySelectorAll","VideoElement","Fill","array","fill","Base64ToArrayBuffer","base64","binary","atob","charCodeAt","onInitCallback","callback","ajax","moduleInfo","readDylinkSection","memory","WebAssembly","Memory","initial","env","__memory_base","table","Table","tableSize","element","__table_base","c_abort","__assert_fail","c_assertFail","sbrk","c_sbrk","stackSave","stackRestore","brk","align","memorySize","stackSize","instantiate","results","__post_instantiate","createHeapViews","heapU32","addr","pow","memoryAlignment","ceil","previousBrk","bytesNeeded","pagesNeeded","pageSize","arguments","next","readVarUint","ret","mul","byte","matchNextBytes","expected","sectionSize","tableAlignment","CACHED_MODULE","unlockTimer","gain","disconnect","_connections","close","CachedContext","unlocked","wallclockStartTime","createBuffer","getChannelData","createBufferSource","unlockCallback","checkIfUnlocked","attempt","playbackState","PLAYING_STATE","FINISHED_STATE","AudioContext","webkitAudioContext","createGain","NeedsUnlocking","getEnqueuedTime","navigator","userAgent","gl","deleteTexture","TEXTURE0","textureY","TEXTURE1","textureCb","TEXTURE2","textureCr","useProgram","deleteProgram","program","loadingProgram","bindBuffer","ARRAY_BUFFER","deleteBuffer","vertexBuffer","viewport","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","uniform1i","getUniformLocation","vsh","fsh","createProgram","attachShader","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","texImage2D","LUMINANCE","UNSIGNED_BYTE","getError","loc","uniform1f","drawArrays","TRIANGLE_STRIP","isClampedArray","h2","shouldCreateUnclampedViews","updateTexture","unit","activeTexture","hasTextureData","texSubImage2D","contextCreateOptions","preserveDrawingBuffer","alpha","depth","stencil","antialias","premultipliedAlpha","isContextLost","SHADER","FRAGMENT_YCRCB_TO_RGBA","join","FRAGMENT_LOADING","VERTEX_IDENTITY","vertexAttr","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","vertexCoords","bufferData","STATIC_DRAW","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","allowsClampedTextureData","WebGLRenderingContext","err","reconnectTimeoutId","shouldAttemptReconnect","reconnectInterval","on","onOpen","onClose","onMessage","isFirstChunk","callbacks","times","fps","graphicsCanvas","onVideoDecodeRef","peer","SimplePeer","initiator","trickle","signal","URL","createObjectURL","srcObject","newSettings","key","streamReducer","streamsReducer","handleActions","concat","handlePlayersActions","minHeight","connectWithButton","twitchLogo","googleLogo","youtubeLogo","discordLogo","ConnectAccounts","connectAccountOrLogin","showTOS","canDelete","connectedAccounts","validUsernames","includes","onRemoveAccount","PopoverMenu","Username","popoverOpen","ref","style","handleOpenPopover","handleClosePopover","UsernameDropdown","getUsernameList","usernames","usernameIndex","tab","handleChangeTab","MemberList","members","hasOwnProperty","account","messagesEnd","rootRef","shouldScroll","getMemberList","isMod","roles","mod","sendMessage","text","wordBreak","links","user","pad","getTimeStamp","hours","getHours","getMinutes","linkRenderer","string","linkExp","split","k","stopPropagation","Message","isReplay","isLastMessage","mention","myUsername","isDev","icons","host","sub","Children","toArray","onClick","MessageList","voting","getSnapshotBeforeUpdate","messageList","scrollHeight","offsetHeight","snapshot","mapMessages","message","el","float","clear","Loading","messageBox","outlineOffset","outline","messageBoxContainer","textField","flex","listStyle","selected","suggestion","SendMessageForm","rta","token","char","suggestions","toLowerCase","command","entity","textareaRef","setAttribute","component","TextField","dataProvider","getEmojiSuggestions","renderCharSuggestion","output","item","caretPosition","getUsernameSuggestions","renderNameSuggestion","getCommandSuggestions","handleTextChange","handleKeyPress","sleep","ms","Promise","resolve","LoginForm","radioButton","RegisterForm","captchaCompleted","local","completeCaptcha","MyAlert","closeAlert","maxWidth","fullWidth","sectionDesktop","sectionMobile","MyAppBar","handleMobileMenuClose","currentTarget","isMobileMenuOpen","Boolean","renderMobileMenu","handleMenuClose","rootClasses","handleMobileMenuOpen","MyCheckbox","slider","MySlider","handleLocalChange","bounce","bounceTimer","countDown","countUp","handleAfterChange","bounceInterval","thumbClass","activeClass","railClass","trackClass","step","options2","ThemeSelector","handleMenuItemClick","switchTheme","themeIndex","option","minWidth","svg","VolumeSlider","onMute","onMax","verticalAlign","Badge","center","logout","topBar","getTime","handleLogout","handleRemoveAccount","timePlayed","emailVerified","createAnAccount","connectAnAccount","login","Cookie","expires","clientInfo","queryString","verified","register","handleLoginForm","handleRegisterForm","authenticate","alertSlice","chatSlice","receiveMessage","splice","pinged","clientSlice","streamKey","accountAuthed","hostAuthed","changeUsernameIndex","timeSlice","updateServerTime","updatePing","updateLastServerUpdate","radius","lineWidth","beginPath","strokeStyle","arc","stroke","clearRect","offsets","PI","drawCircle","centerX","centerY","radi","colors","speed","timer","prop","gyro","accel","isPressed","unset","z","MouseState","dx","dScroll","scroll","middle","KeyboardState","TouchState","touches","GamepadWrapper","connectHandler","disconnectHandler","pollTimer","pollGamepads","gamepad","addGamepad","removeGamepad","getGamepads","webkitGetGamepads","haveEvents","scanGamepads","callbacksAfterPoll","InputState","setControllerState","setKeyboardState","setMouseState","isMobile","keyboardWrapper","KeyboardWrapper","TouchWrapper","VirtualController","VirtualKeyboard","VirtualMouse","VirtualTouchpad","inputState","oldInputState","oldInputStateString","updatedState","poll","getControllerState","inCanvas","updatedStateString","exception","MODS","handleKeydown","handleKeyup","resetModifiers","modifiers","ctrl","pressedKeys","tagName","srcElement","keycode","pks","werePressedKeys","disableKeys","IS_MAC","platform","alt","capslock","backspace","enter","return","esc","escape","space","del","delete","pageup","pagedown","btnList","leftButtons","leftZone","rightZone","leftJoyStick","zone","catchDistance","restOpacity","fadeTime","rightJoyStick","nipplejs","bindJoysticks","stickSize","s1","s2","frontPosition","sticks","lx","ly","leftActive","rx","ry","rightActive","names","isLeftButton","idToFind","ongoingTouches","identifier","changedTouches","clientX","clientY","activeTargets","getName","elementFromPoint","classList","ongoingTouchIndexById","oldTarget","newTarget","handleTouchStart","handleTouchEnd","handleTouchCancel","handleTouchMove","restPos","AxisSettings","AxisMapping","activationThreshold","aboveOrBelow","ButtonMapping","isAnalog","ButtonState","pressed","reg","res","exec","oldState","lastChangedAxis","triggerIndexes","autoSelectInterval","detectControllerType","mapping","oldPressed","oldValue","newPressed","newValue","triggerIndex","sort","ax","newState","SPECIAL_KEYS","oldControllerState","kW","LU","wasPressed","wasPressedKeyCodes","LD","LL","LR","RU","RD","RL","RR","newKeycodes","getPressedKeyCodes","kstate","String","fromCharCode","newControllerState","keysToTrack","stickAttack","stickReturn","substring","pointerLockElement","round","relativeMode","mouseMoveTimer","movementX","movementY","mstate","canvasRatio","rect","getBoundingClientRect","btnMap","deltaY","requestPointerLock","mozRequestPointerLock","mozExitPointerLock","onPointerLockChange","enterCanvas","exitCanvas","getMouseInput1","getMouseInput2","getMouseInput3","passive","handleContextMenu","tstate","getCookie","dc","cookie","prefix","begin","decodeURI","setCookie","date","setTime","toUTCString","clamp","precision","multiplier","msToTime","milliseconds","minutes","replaceAll","toggleFullscreen","elem","fullScreenElement","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","setToPercentParent","$","parentHeight","parent","wait","mathZoom","normalizeVector","vector","norm","deleteAllCookies","cookies","eqPos","fixedLengthString","getStickString","padStart","getAverage","reduce","pick","o","interpolateColor","color1","color2","factor","result","interpolateColors","steps","stepFactor","interpolatedColorArray","Number","handleChatActions","handleClientActions","socketid","getAccountInfo","remove","clientEvents","handleEvents","accountMapEvents","chatSocketEvents","playersEvents","timeEvents","avgSize","latency"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"bundles/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/Index.jsx\",\"vendors~index\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\nlet classNames = require(\"classnames\");\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"3%\",\n\t\tcolor: theme.palette.primary.contrastText,\n\t\tbackgroundColor: theme.palette.background.default,\n\t},\n\tmain: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\twidth: \"85%\",\n\t\theight: \"100%\",\n\t\tpadding: \"3%\",\n\t},\n\timage: {\n\t\tcursor: \"pointer\",\n\t\tmarginLeft: \"auto\",\n\t\tmarginRight: \"auto\",\n\t},\n\tback: {\n\t\tmarginBottom: \"10px\",\n\t\twidth: \"30%\",\n\t\tmarginLeft: \"auto\",\n\t\t// marginRight: \"auto\",\n\t},\n\tcard: {\n\t\twidth: 345,\n\t},\n\tmedia: {\n\t\theight: 300,\n\t},\n\timagesContainer: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\tpadding: \"10px\",\n\t\tflexWrap: \"wrap\",\n\t\tmarginBottom: \"10px\",\n\t},\n\tdonationButtons: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttwitch: {\n\t\tmarginLeft: \"auto\",\n\t\tmarginRight: \"auto\",\n\t},\n});\n\nclass About extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Paper elevation={0} className={classes.root}>\n\t\t\t\t<Paper elevation={3} className={classes.main}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.back}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.history.push(\"/\");\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tBack\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<h2>About the project</h2>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis website is developed and maintained by{\" \"}\n\t\t\t\t\t\t<a href=\"https://github.com/fossephate\">Matthew Fosse</a>.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThe whole idea behind the project is that you can use a keyboard or controller\n\t\t\t\t\t\tto try out games on these consoles from anywhere with just a web browser.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className={classes.imagesContainer}>\n\t\t\t\t\t\t<Card className={classes.card} elevation={5}>\n\t\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\t\t\t\timage=\"/images/about/about5.jpg\"\n\t\t\t\t\t\t\t\t\ttitle=\"Photo 1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography component=\"p\">\n\t\t\t\t\t\t\t\t\t\tThe consoles are hosted in Central Florida, and the server is\n\t\t\t\t\t\t\t\t\t\tcurrently located in Virginia.\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<Card className={classes.card} elevation={5}>\n\t\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\t\t\t\timage=\"/images/about/about2.jpg\"\n\t\t\t\t\t\t\t\t\ttitle=\"Photo 2\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t<Typography component=\"p\">The whole setup</Typography>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThe games, consoles, and server costs to run this project are primarily funded\n\t\t\t\t\t\tthrough{\" \"}\n\t\t\t\t\t\t<a href=\"https://twitch.tv/remotegames/subscribe/\">Twitch subscriptions</a>{\" \"}\n\t\t\t\t\t\tand donations. If you like the project consider supporting it with the links\n\t\t\t\t\t\tbelow.\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div className={classes.donationButtons}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tborder=\"0\"\n\t\t\t\t\t\t\t// width=\"130\"\n\t\t\t\t\t\t\talt=\"Donate with Twitch\"\n\t\t\t\t\t\t\tsrc=\"/images/about/twdonatebutton.png\"\n\t\t\t\t\t\t\tclassName={classes.image}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\twindow.location = \"https://streamlabs.com/remotegames/\";\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tborder=\"0\"\n\t\t\t\t\t\t\t// width=\"130\"\n\t\t\t\t\t\t\talt=\"Join the Discord Server\"\n\t\t\t\t\t\t\tsrc=\"/images/about/discordbutton.png\"\n\t\t\t\t\t\t\tclassName={classes.image}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\twindow.location = \"https://discord.io/tpns/\";\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tborder=\"0\"\n\t\t\t\t\t\t\t// width=\"130\"\n\t\t\t\t\t\t\talt=\"Donate with Paypal\"\n\t\t\t\t\t\t\tsrc=\"/images/about/ppdonatebutton.png\"\n\t\t\t\t\t\t\tclassName={classes.image}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\twindow.location = \"https://paypal.me/fossephate/\";\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName={classes.twitch}\n\t\t\t\t\t\tsrc=\"https://player.twitch.tv/?channel=remotegames&muted=false&autoplay=true\"\n\t\t\t\t\t\theight=\"360\"\n\t\t\t\t\t\twidth=\"640\"\n\t\t\t\t\t\tframeBorder=\"0\"\n\t\t\t\t\t\tscrolling=\"no\"\n\t\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateSettings: (settings) => {\n\t\t\tdispatch(updateSettings(settings));\n\t\t},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps,\n\t),\n)(About);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Button, List, ListItem, ListItemText } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tpadding: \"3%\",\r\n\t\tcolor: theme.palette.primary.contrastText,\r\n\t\tbackgroundColor: theme.palette.background.default,\r\n\t},\r\n\tmain: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\twidth: \"98%\",\r\n\t\theight: \"100%\",\r\n\t\tpadding: \"2%\",\r\n\t},\r\n\timage: {\r\n\t\tcursor: \"pointer\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t},\r\n\tback: {\r\n\t\tmarginBottom: \"10px\",\r\n\t\twidth: \"30%\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t// marginRight: \"auto\",\r\n\t},\r\n\tcard: {\r\n\t\twidth: 345,\r\n\t},\r\n\tmedia: {\r\n\t\theight: 300,\r\n\t},\r\n\timagesContainer: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tpadding: \"10px\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\tmarginBottom: \"10px\",\r\n\t},\r\n\tdonationButtons: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttwitch: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t},\r\n\r\n\tcontainer: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tpadding: \"10px\",\r\n\t},\r\n\tQA: {\r\n\t\twidth: \"99%\",\r\n\t\tpadding: \"2%\",\r\n\t\tmarginBottom: \"40px\",\r\n\t},\r\n\tcommands: {\r\n\t\twidth: \"99%\",\r\n\t\tpadding: \"2%\",\r\n\t},\r\n\tsubCommands: {\r\n\t\tpadding: \"10px\",\r\n\t\tmarginTop: \"20px\",\r\n\t\tmarginBottom: \"20px\",\r\n\t},\r\n\t[device.laptop]: {\r\n\t\tcontainer: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t},\r\n\t\tQA: {\r\n\t\t\twidth: \"49%\",\r\n\t\t\tmarginBottom: \"0\",\r\n\t\t},\r\n\t\tcommands: {\r\n\t\t\twidth: \"49%\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass FAQ extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper elevation={0} className={classes.root}>\r\n\t\t\t\t<Paper elevation={3} className={classes.main}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tclassName={classes.back}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<h2>Frequently Asked Questions and Commands</h2>\r\n\r\n\t\t\t\t\t<Paper elevation={0} className={classes.container}>\r\n\t\t\t\t\t\t<Paper elevation={3} className={classes.QA}>\r\n\t\t\t\t\t\t\t<h2>FAQ</h2>\r\n\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: How does this work?</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: If you're looking for looking for the\r\n\t\t\t\t\t\t\t\t\t\tsource code, use the \"!source\" command, if you just want the TLDR: I\r\n\t\t\t\t\t\t\t\t\t\tuse a capture card to get the Nintendo Switch's screen, I use a micro\r\n\t\t\t\t\t\t\t\t\t\tcontroller (Arduino) that acts like a Pro Controller, and use a Python\r\n\t\t\t\t\t\t\t\t\t\tscript to send it input. If you have any other questions, just ask\r\n\t\t\t\t\t\t\t\t\t\t@fosse on the discord server.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: Why can't I use the Plus/Home/Capture button?</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: It's reserved for special roles, it's setup\r\n\t\t\t\t\t\t\t\t\t\tlike this to prevent abuse.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: What's the friend code for the Twitch account?</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: SW-4621-9617-9306.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: How do I change the game?</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: Use \"!goto [game]\" to switch between games,\r\n\t\t\t\t\t\t\t\t\t\tfor a list of games, use \"!games\".\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: Something is wrong / broken, what do I do?</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: If someone isn't there to help on stream,\r\n\t\t\t\t\t\t\t\t\t\tcontact a mod or @fosse on the discord server.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>Q: I want a longer turn! xxx is too short.</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: If you subscribe on twitch and use it to\r\n\t\t\t\t\t\t\t\t\t\tlogin, your turn length is doubled.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\tQ: Do the same commands used on the stream/site work on this server\r\n\t\t\t\t\t\t\t\t\t\t\tas well?\r\n\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;A: No, they don't, they're only meant for the\r\n\t\t\t\t\t\t\t\t\t\tstream/site.\r\n\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t<Paper elevation={3} className={classes.commands}>\r\n\t\t\t\t\t\t\t<h2>Stream Commands</h2>\r\n\r\n\t\t\t\t\t\t\t<Paper elevation={2} className={classes.subCommands}>\r\n\t\t\t\t\t\t\t\t<h4>Commands for Everyone</h4>\r\n\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!commands</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Gives you a list of commands.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!goto [game]</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;use without brackets to switch games, use\r\n\t\t\t\t\t\t\t\t\t\t\t!games for a list of games.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!games or !gamelist or !goto or !xboxgames or !xboxgamelist</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Shows the list of games currently available\r\n\t\t\t\t\t\t\t\t\t\t\t(switch or xbox).\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!playing</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Shows who is currently playing.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!source</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Links you to the source code for the\r\n\t\t\t\t\t\t\t\t\t\t\tproject.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!site</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Links you to https://remotegames.io.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!discord</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Links you to the discord invite.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!fc</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Gives you the friend code to the Twitch\r\n\t\t\t\t\t\t\t\t\t\t\taccount.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!restart1 or !restart2 or !restart3</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;refreshes the corresponding stream.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![mod | plus | sub | ban]list</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;(no brackets) lists people in the\r\n\t\t\t\t\t\t\t\t\t\t\tcorresponding group.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t\t<Paper elevation={2} className={classes.subCommands}>\r\n\t\t\t\t\t\t\t\t<h4>Commands for Plus level users</h4>\r\n\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\tPlus level users can use the Plus / Start button in games.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!lock</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Is there a disaster? Maybe someone is being\r\n\t\t\t\t\t\t\t\t\t\t\tbad and is about to nuke the Switch? Type !lock to lock the controls\r\n\t\t\t\t\t\t\t\t\t\t\tuntil a mod can fix it.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!fixcontrollers</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;If the controller order gets messed up, use\r\n\t\t\t\t\t\t\t\t\t\t\tthis command to fix it.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!rr [user - optional]</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Try it and see what happens!\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t\t<Paper elevation={2} className={classes.subCommands}>\r\n\t\t\t\t\t\t\t\t<h4>Commands for Mods</h4>\r\n\t\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\tMods can do basically everything, including Home / Capture\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!restartscript</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Restarts the python script.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!restartserver</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Restarts the server, you shouldn't have to\r\n\t\t\t\t\t\t\t\t\t\t\tuse this.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![give | remove]plus [user]</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Gives or removes plus permission from\r\n\t\t\t\t\t\t\t\t\t\t\t[user].\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![temp | perma]ban [user]</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Temporarily or permanently bans [user].\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![disable | enable]chat</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Disables or enables Chat commands.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![disable | enable]goto</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Disables or enables !goto.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>![setturnlength | setforfeitlength] [time in seconds]</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Change the amount of time for turns and\r\n\t\t\t\t\t\t\t\t\t\t\tforfeits.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!lock or !unlock</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;Lock or unlock the Switch if it is locked.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>!forcegoto or !xboxforcegoto</b>\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;!goto but without the democracy.\r\n\t\t\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tThe games, consoles, and server costs to run this project are primarily funded\r\n\t\t\t\t\t\tthrough{\" \"}\r\n\t\t\t\t\t\t<a href=\"https://twitch.tv/remotegames/subscribe/\">Twitch subscriptions</a>{\" \"}\r\n\t\t\t\t\t\tand donations. If you like the project consider supporting it with the links\r\n\t\t\t\t\t\tbelow.\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<div className={classes.donationButtons}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tborder=\"0\"\r\n\t\t\t\t\t\t\t// width=\"130\"\r\n\t\t\t\t\t\t\talt=\"Donate with Twitch\"\r\n\t\t\t\t\t\t\tsrc=\"/images/about/twdonatebutton.png\"\r\n\t\t\t\t\t\t\tclassName={classes.image}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\twindow.location = \"https://streamlabs.com/remotegames/\";\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tborder=\"0\"\r\n\t\t\t\t\t\t\t// width=\"130\"\r\n\t\t\t\t\t\t\talt=\"Join the Discord Server\"\r\n\t\t\t\t\t\t\tsrc=\"/images/about/discordbutton.png\"\r\n\t\t\t\t\t\t\tclassName={classes.image}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\twindow.location = \"https://discord.io/tpns/\";\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tborder=\"0\"\r\n\t\t\t\t\t\t\t// width=\"130\"\r\n\t\t\t\t\t\t\talt=\"Donate with Paypal\"\r\n\t\t\t\t\t\t\tsrc=\"/images/about/ppdonatebutton.png\"\r\n\t\t\t\t\t\t\tclassName={classes.image}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\twindow.location = \"https://paypal.me/fossephate/\";\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tclassName={classes.twitch}\r\n\t\t\t\t\t\tsrc=\"https://player.twitch.tv/?channel=remotegames&muted=false&autoplay=true\"\r\n\t\t\t\t\t\theight=\"360\"\r\n\t\t\t\t\t\twidth=\"640\"\r\n\t\t\t\t\t\tframeBorder=\"0\"\r\n\t\t\t\t\t\tscrolling=\"no\"\r\n\t\t\t\t\t\tallowFullScreen={true}\r\n\t\t\t\t\t></iframe>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(FAQ);\r\n","// react:\r\nimport React, { Component, Suspense, lazy } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n// react-router:\r\nimport { Route, Switch } from \"react-router\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\n// modals:\r\n// import LoginRegisterModal from \"components/modals/LoginRegisterModal.jsx\";\r\n// import AccountModal from \"components/modals/AccountModal.jsx\";\r\n// import InputMapperModal from \"components/modals/InputMapperModal.jsx\";\r\nconst LoginRegisterModal = lazy(() =>\r\n\timport(\"shared/components/modals/LoginRegisterModal.jsx\"),\r\n);\r\nconst AccountModal = lazy(() => import(\"shared/components/modals/AccountModal.jsx\"));\r\nconst CreateVMModal = lazy(() => import(\"src/components/modals/CreateVMModal.jsx\"));\r\n// const InputMapperModal = lazy(() => import(\"components/modals/InputMapperModal.jsx\"));\r\n\r\n// material ui:\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport Loading from \"shared/components/general/Loading.jsx\";\r\nimport MyAlert from \"shared/components/general/MyAlert.jsx\";\r\n\r\nconst About = lazy(() => import(\"src/About.jsx\"));\r\nconst FAQ = lazy(() => import(\"src/FAQ.jsx\"));\r\nconst ToS = lazy(() => import(\"src/ToS.jsx\"));\r\nconst Privacy = lazy(() => import(\"src/Privacy.jsx\"));\r\nconst Streams = lazy(() => import(\"src/Streams.jsx\"));\r\nconst Stream = lazy(() => import(\"src/Stream.jsx\"));\r\n\r\n// notistack:\r\nimport { SnackbarProvider } from \"notistack\";\r\n\r\n// redux:\r\nimport { Provider } from \"react-redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\nimport updateClient from \"shared/features/client.js\";\r\n\r\n// redux-saga:\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport handleAccountActions from \"src/sagas/account/index.js\";\r\nimport handleAccountEvents from \"src/sockets/account/index.js\";\r\n\r\n// libs:\r\nimport socketio from \"socket.io-client\";\r\nimport localforage from \"localforage\";\r\n\r\nclass Index extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttheme: this.getTheme(\"dark\"),\r\n\t\t};\r\n\r\n\t\tlet preloadedState = {\r\n\t\t\tstream: {\r\n\t\t\t\tinfo: {\r\n\t\t\t\t\tonline: false,\r\n\t\t\t\t\texists: false,\r\n\t\t\t\t\t// videoType: \"mpeg1\",\r\n\t\t\t\t\t// controllerCount: 1,\r\n\t\t\t\t\tstreamSettings: {\r\n\t\t\t\t\t\tvideoType: \"mpeg1\",\r\n\t\t\t\t\t\tcontrollerCount: 1,\r\n\t\t\t\t\t\tplayerCount: 4,\r\n\t\t\t\t\t\tallowGuestPlayers: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tchat: {\r\n\t\t\t\t\tmessages: [],\r\n\t\t\t\t\tuserids: [],\r\n\t\t\t\t},\r\n\t\t\t\tplayers: {\r\n\t\t\t\t\tcontrolQueues: [],\r\n\t\t\t\t\tturnTimers: [],\r\n\t\t\t\t\tcontrollerStates: [],\r\n\t\t\t\t},\r\n\t\t\t\ttime: {\r\n\t\t\t\t\tserver: 0, // server time (in ms)\r\n\t\t\t\t\tlastServerUpdate: 0, // when it was last updated (in ms)\r\n\t\t\t\t\tping: 0,\r\n\t\t\t\t},\r\n\t\t\t\taccountMap: {},\r\n\t\t\t\twaitlist: [],\r\n\t\t\t},\r\n\r\n\t\t\tstreams: {\r\n\t\t\t\tstreamList: [],\r\n\t\t\t},\r\n\r\n\t\t\tsettings: {\r\n\t\t\t\tkeyboardControls: true,\r\n\t\t\t\tcontrollerControls: true,\r\n\t\t\t\tmouseControls: false,\r\n\t\t\t\ttouchControls: false,\r\n\t\t\t\tmobileMode: false,\r\n\t\t\t\trealKeyboardMouse: true,\r\n\t\t\t\tcontrollerView: false,\r\n\t\t\t\tfullscreen: false,\r\n\t\t\t\tlargescreen: true,\r\n\t\t\t\thideChat: false,\r\n\t\t\t\thideNav: false,\r\n\t\t\t\taudioThree: false,\r\n\t\t\t\tanalogStickMode: false,\r\n\t\t\t\tdpadSwap: false,\r\n\t\t\t\tTDSConfig: false,\r\n\r\n\t\t\t\tcurrentPlayer: 0,\r\n\t\t\t\tvolume: 50,\r\n\t\t\t\ttheme: \"dark\",\r\n\t\t\t},\r\n\r\n\t\t\tform: {},\r\n\t\t};\r\n\r\n\t\tfor (\r\n\t\t\tlet i = 0;\r\n\t\t\ti < /*preloadedState.stream.info.streamSettings.controllerCount*/ 20;\r\n\t\t\ti++\r\n\t\t) {\r\n\t\t\tpreloadedState.stream.players.turnTimers.push({\r\n\t\t\t\tturnStartTime: 0,\r\n\t\t\t\tforfeitStartTime: 0,\r\n\t\t\t\tturnLength: 0,\r\n\t\t\t\tforfeitLength: 0,\r\n\t\t\t});\r\n\t\t\tpreloadedState.stream.players.controlQueues.push([]);\r\n\t\t\tpreloadedState.stream.players.controllerStates.push({\r\n\t\t\t\tbtns: 0,\r\n\t\t\t\taxes: [0, 0, 0, 0, 0, 0],\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.sagaMiddleware = createSagaMiddleware();\r\n\r\n\t\tthis.store = configureStore({\r\n\t\t\treducer: rootReducer,\r\n\t\t\tpreloadedState: preloadedState,\r\n\t\t\tmiddleware: [this.sagaMiddleware],\r\n\t\t});\r\n\r\n\t\tthis.accountConnection = socketio(\"https://remotegames.io\", {\r\n\t\t\tpath: \"/8099/socket.io\",\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\r\n\t\twindow.accountConnection = this.accountConnection;\r\n\r\n\t\t// listen to events and dispatch actions:\r\n\t\thandleAccountEvents(this.accountConnection, this.store.dispatch);\r\n\r\n\t\t// handle outgoing events & listen to actions:\r\n\t\t// and maybe dispatch more actions:\r\n\t\tthis.sagaMiddleware.run(handleAccountActions, {\r\n\t\t\tsocket: this.accountConnection,\r\n\t\t\tdispatch: this.store.dispatch,\r\n\t\t});\r\n\r\n\t\tlet currentValue = null;\r\n\t\tthis.store.subscribe(() => {\r\n\t\t\tlet previousValue = currentValue;\r\n\t\t\tcurrentValue = this.store.getState().settings.theme;\r\n\t\t\tif (previousValue !== currentValue && previousValue !== null) {\r\n\t\t\t\tthis.setState({ theme: this.getTheme(currentValue) });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\twindow.onbeforeunload = () => {\r\n\t\t\tconsole.log(\"saving settings\");\r\n\t\t\tlocalforage.setItem(\"settings\", JSON.stringify(this.store.getState().settings));\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// store.dispatch(updateSettings({ theme: \"spooky\" }));\r\n\t}\r\n\r\n\tloadState = () => {\r\n\t\t// Get stored preferences\r\n\t\tlocalforage.getItem(\"settings\").then((value) => {\r\n\t\t\tlet settings = {};\r\n\t\t\t// if they exist, write them\r\n\t\t\tif (value) {\r\n\t\t\t\tsettings = Object.assign({}, JSON.parse(value));\r\n\t\t\t\tsettings.currentPlayer = 0; // same as above\r\n\t\t\t\tsettings.largescreen = false;\r\n\t\t\t\tsettings.fullscreen = false;\r\n\t\t\t\tsettings.mobileMode = false;\r\n\t\t\t\tsettings.hideChat = false;\r\n\t\t\t\tsettings.hideNav = false;\r\n\t\t\t}\r\n\t\t\tstore.dispatch(updateSettings({ ...settings }));\r\n\t\t\t// check if banned:\r\n\t\t\tlocalforage.getItem(\"banned\").then((value) => {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.store.dispatch(updateClient({ isBanned: true }));\r\n\t\t\t\t\twindow.banned = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.banned = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tgetTheme = (themeName) => {\r\n\t\tlet theme = {};\r\n\t\tswitch (themeName) {\r\n\t\t\tcase \"light\":\r\n\t\t\t\ttheme = {\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\ttype: \"light\",\r\n\t\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\t\tmain: \"#2181ff\", // #2181ff\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\t\tmain: \"#ff3b3b\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\tpaper: \"#fafafa\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ogdark\":\r\n\t\t\t\ttheme = {\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\ttype: \"dark\",\r\n\t\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\t\tmain: \"#2181ff\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\t\tmain: \"#ff3b3b\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\tpaper: \"#424242\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dark\":\r\n\t\t\t\ttheme = {\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\ttype: \"dark\",\r\n\t\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\t\tmain: \"#0d52a9\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\t\t// main: \"#a90d0d\",\r\n\t\t\t\t\t\t\tmain: \"#404040\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\tpaper: \"#202020\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"spooky\":\r\n\t\t\t\ttheme = {\r\n\t\t\t\t\tpalette: {\r\n\t\t\t\t\t\ttype: \"dark\",\r\n\t\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\t\tmain: \"#ff7930\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\t\tmain: \"#000\",\r\n\t\t\t\t\t\t\t// main: \"#a73ae7\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbackground: {\r\n\t\t\t\t\t\t\tpaper: \"#2f2f2f\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn createMuiTheme(theme);\r\n\t};\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering index\");\r\n\r\n\t\tif (/^\\/download/.test(window.location.pathname)) {\r\n\t\t\twindow.location.href = \"https://remotegames.io/8099/download/\";\r\n\t\t\twindow.history.replaceState(\"\", \"\", \"/\");\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Provider store={this.store}>\r\n\t\t\t\t<ThemeProvider theme={this.state.theme}>\r\n\t\t\t\t\t<SnackbarProvider maxSnack={3}>\r\n\t\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t\t<BrowserRouter>\r\n\t\t\t\t\t\t\t{/* selects the first matching path: */}\r\n\t\t\t\t\t\t\t{/* <Switch> */}\r\n\t\t\t\t\t\t\t<Suspense fallback={<Loading />}>\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/about\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <About {...props} />;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/FAQ\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <FAQ {...props} />;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/privacy\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Privacy {...props} />;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/tos\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <ToS {...props} />;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* </Suspense> */}\r\n\t\t\t\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tpath=\"/u/:username\"\r\n\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Stream\r\n\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\tstore={store}\r\n\t\t\t\t\t\t\t\t\t\t\tsagaMiddleware={sagaMiddleware}\r\n\t\t\t\t\t\t\t\t\t\t\taccountConnection={accountConnection}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t{/* </Suspense> */}\r\n\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/(login|register)\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LoginRegisterModal {...props} history={this.props.history} />\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/create\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CreateVMModal {...props} accountConnection={this.accountConnection} history={this.props.history} />\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/account\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <AccountModal {...props} history={this.props.history} />;\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/(s|controls|settings)/:username?\"\r\n\t\t\t\t\t\t\t\t\t\t// path=\"/s/:username?\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Stream\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsagaMiddleware={this.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccountConnection={this.accountConnection}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* order matters here, can't do exact path or /login and /register break: */}\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Streams\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore={this.store}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccountConnection={this.accountConnection}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsagaMiddleware={this.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t<MyAlert />\r\n\t\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t\t</BrowserRouter>\r\n\t\t\t\t\t</SnackbarProvider>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Index;\r\n\r\nReactDOM.render(<Index />, document.getElementById(\"root\"));\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tpadding: \"3%\",\r\n\t\tcolor: theme.palette.primary.contrastText,\r\n\t\tbackgroundColor: theme.palette.background.default,\r\n\t},\r\n\tmain: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\twidth: \"98%\",\r\n\t\theight: \"100%\",\r\n\t\tpadding: \"2%\",\r\n\t},\r\n\timage: {\r\n\t\tcursor: \"pointer\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t},\r\n\tback: {\r\n\t\tmarginBottom: \"10px\",\r\n\t\twidth: \"30%\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t// marginRight: \"auto\",\r\n\t},\r\n\tiframe: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"6090px\",\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\tborderRadius: \"5px\",\r\n\t},\r\n\t[device.laptop]: {},\r\n});\r\n\r\nclass Privacy extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper elevation={0} className={classes.root}>\r\n\t\t\t\t<Paper elevation={3} className={classes.main}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tclassName={classes.back}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tclassName={classes.iframe}\r\n\t\t\t\t\t\tsrc=\"https://remotegames.io/privacy.html\"\r\n\t\t\t\t\t\tframeBorder=\"0\"\r\n\t\t\t\t\t></iframe>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Privacy);\r\n","// react:\r\nimport React, { Component, Suspense, lazy } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, Switch, withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateClient } from \"shared/features/client.js\";\r\nimport { updateMessages } from \"shared/features/chat.js\";\r\nimport { joinLeavePlayerControlQueue } from \"src/features/players.js\";\r\nimport { updateStreamInfo } from \"src/actions/info.js\";\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\nimport { openAlert } from \"shared/features/alert.js\";\r\n\r\n// redux-saga:\r\n// import spawn from \"redux-saga\";\r\nimport handleStreamActions from \"src/sagas/stream/index.js\";\r\nimport handleStreamEvents from \"src/sockets/stream/index.js\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// import { Snackbar } from \"@material-ui/core\";\r\n\r\nimport SettingsModal from \"src/components/modals/SettingsModal.jsx\";\r\n\r\n// notistack:\r\n\r\nimport { withSnackbar } from \"notistack\";\r\n\r\n// main components:\r\nimport Loading from \"shared/components/general/Loading.jsx\";\r\nconst StreamsAppBar = lazy(() => import(\"src/components/streams/StreamsAppBar.jsx\"));\r\nconst Picture = lazy(() => import(\"src/components/stream/Picture.jsx\"));\r\nconst Chat = lazy(() => import(\"shared/components/chat/Chat.jsx\"));\r\nconst StreamInfo = lazy(() => import(\"src/components/stream/streamInfo/StreamInfo.jsx\"));\r\n\r\n// components:\r\n\r\n// secondary components:\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device, deleteAllCookies, getStickString } from \"shared/libs/utils.js\";\r\nimport InputHandler from \"shared/libs/inputHandler/InputHandler.js\";\r\nimport LoadCircle from \"shared/libs/LoadCircle.js\";\r\nimport localforage from \"localforage\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n// rr:\r\nimport Lagless2 from \"libs/lagless/lagless2.js\";\r\nimport Lagless4 from \"libs/lagless/lagless4.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"grid\",\r\n\t\tgridTemplateColumns: \"minmax(50%, 75%) minmax(100px, 25%)\",\r\n\t\tgridTemplateAreas: `\r\n\t\t\t\"nav login\"\r\n\t\t\t\"picture picture\"\r\n\t\t\t\"chat chat\"\r\n\t\t\t\"info info\"`,\r\n\t\twidth: \"100%\",\r\n\t\tgridGap: \"5px\",\r\n\t\t// accomodate for grid gap:\r\n\t\tpadding: \"0px 5px 5px 5px\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tgridTemplateColumns: \"minmax(50%, 75%) minmax(300px, 25%)\",\r\n\t\t\tgridTemplateAreas: `\r\n\t\t\t\t\"nav login\"\r\n\t\t\t\t\"picture chat\"\r\n\t\t\t\t\"info info\"`,\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n};\r\n\r\nclass Stream extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.afkTime = 1000 * 60 * 60; // 1 hour\r\n\t\tthis.afkTimer = null;\r\n\t\tthis.stream = null;\r\n\t\tthis.hostConnection = null;\r\n\t\tthis.videoConnection = null;\r\n\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.inputHandler = new InputHandler();\r\n\t\tthis.inputHandler.init();\r\n\t\t// todo:\r\n\t\twindow.inputHandler = this.inputHandler; // for lagless canvas\r\n\r\n\t\tthis.loadingCheckTimer = null;\r\n\t\tthis.loadCircle = null;\r\n\t}\r\n\r\n\tgetStream = (data) => {\r\n\r\n\t\tthis.destroyStream();\r\n\r\n\t\tconsole.log(\"@@@@ GET STREAM CALLED @@@\");\r\n\r\n\t\t// if (this.props.controllerCount === 0 && this.props.settings.controllerView) {\r\n\t\t// \tthis.props.updateSettings({\r\n\t\t// \t\tcontrollerView: false,\r\n\t\t// \t\tlargescreen: true,\r\n\t\t// \t\trealKeyboardMouse: true,\r\n\t\t// \t});\r\n\t\t// } else if (this.props.controllerCount > 0 && !this.props.settings.controllerView) {\r\n\t\t// \tthis.props.updateSettings({\r\n\t\t// \t\tcontrollerView: true,\r\n\t\t// \t\tlargescreen: false,\r\n\t\t// \t\trealKeyboardMouse: false,\r\n\t\t// \t});\r\n\t\t// }\r\n\r\n\t\t// if (!this.props.client.loggedIn) {\r\n\t\t// \tif (tryCount < 3) {\r\n\t\t// \t\tsetTimeout(() => {\r\n\t\t// \t\t\tthis.recieveStream(data, tryCount + 1);\r\n\t\t// \t\t}, 1000);\r\n\t\t// \t\treturn;\r\n\t\t// \t} else {\r\n\t\t// \t\talert(\"You need to login to see the stream!\");\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tthis.hostConnection = socketio(`https://${data.hostServerIP}`, {\r\n\t\t\tpath: `/${data.hostServerPort}/socket.io`,\r\n\t\t\ttransports: [\"websocket\"],\r\n\t\t});\r\n\t\twindow.hostConnection = this.hostConnection;\r\n\r\n\t\t// listen to events and dispatch actions:\r\n\t\thandleStreamEvents(this.hostConnection, this.props.store.dispatch);\r\n\t\t// handle outgoing events & listen to actions:\r\n\t\t// and maybe dispatch more actions:\r\n\t\tthis.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t\tsocket: this.hostConnection,\r\n\t\t\tdispatch: this.props.store.dispatch,\r\n\t\t});\r\n\r\n\t\twindow.sagaMiddleware = this.props.sagaMiddleware;\r\n\r\n\t\tif (!data.videoServerIP) {\r\n\t\t\tconsole.log(\"something went wrong, (video server IP missing)\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.videoConnection = socketio(`https://${data.videoServerIP}`, {\r\n\t\t\tpath: `/${data.videoServerPort}/socket.io`,\r\n\t\t\t// transports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t\ttransports: [\"websocket\"],\r\n\t\t});\r\n\t\twindow.videoConnection = this.videoConnection;\r\n\r\n\t\t// lagless setup:\r\n\r\n\t\tthis.loadCircle = new LoadCircle(document.getElementById(\"graphicsCanvas\"));\r\n\t\tthis.loadCircle.start(640, 360);\r\n\r\n\t\tthis.videoConnection.emit(\"requestVideo\", null, (data) => {\r\n\t\t\tif (!data.success) {\r\n\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (data.videoType === \"mpeg1\") {\r\n\t\t\t\t\tthis.stream = new Lagless2({\r\n\t\t\t\t\t\tvideoConnection: this.videoConnection,\r\n\t\t\t\t\t\taudio: true,\r\n\t\t\t\t\t\tvideo: true,\r\n\t\t\t\t\t\tmaxAudioLag: 0.5,\r\n\t\t\t\t\t\tvideoBufferSize: 1024 * 1024,\r\n\t\t\t\t\t\t// videoBufferSize: data.streamSettings.videoBufferSize * 1024,\r\n\t\t\t\t\t\t// audioBufferSize: data.streamSettings.audioBufferSize * 1024,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (data.videoType === \"webRTC\") {\r\n\t\t\t\t\tthis.stream = new Lagless4({\r\n\t\t\t\t\t\tvideoConnection: this.videoConnection,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.props.controllerCount > 0 && !this.props.settings.controllerView) {\r\n\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t\t\trealKeyboardMouse: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (this.props.mouseEnabled && this.props.settings.controllerView) {\r\n\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\tcontrollerView: false,\r\n\t\t\t\t\t\tlargescreen: true,\r\n\t\t\t\t\t\trealKeyboardMouse: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.stream.start(\r\n\t\t\t\t\tdocument.getElementById(\"videoCanvas\"),\r\n\t\t\t\t\tdocument.getElementById(\"graphicsCanvas\"),\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\tthis.checkLoading();\r\n\r\n\t\t\t\twindow.stream = this.stream;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// setTimeout(this.updateStreamCanvas, 1000);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setStreamVolume(this.props);\r\n\t\t}, 500);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setStreamVolume(this.props);\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tcheckLoading = () => {\r\n\t\tif (this.props.videoType === \"mpeg1\") {\r\n\t\t\tif (this.stream.player.currentTime > 0) {\r\n\t\t\t\tthis.loadCircle.stop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (this.props.videoType === \"webRTC\") {\r\n\t\t\t// this.stream.start(document.getElementById(\"videoCanvas\"));\r\n\t\t\tthis.loadCircle.stop();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetTimeout(this.checkLoading, 250);\r\n\t};\r\n\r\n\tupdateStreamCanvas = () => {\r\n\r\n\t\tthis.stream.restart(\r\n\t\t\tdocument.getElementById(\"videoCanvas\"),\r\n\t\t\tdocument.getElementById(\"graphicsCanvas\"),\r\n\t\t);\r\n\t};\r\n\r\n\tgetStreamInfo = () => {\r\n\t\tthis.props.accountConnection.emit(\r\n\t\t\t\"getStreamInfo\",\r\n\t\t\t{ username: this.props.match.params.username },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.props.updateStreamInfo({ ...data, online: true });\r\n\t\t\t\t\tthis.getStream(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// todo: 404 page\r\n\t\t\t\t\tif (data.reason === \"ACCOUNT_NOT_FOUND\") {\r\n\t\t\t\t\t\t// todo:\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.props.updateStreamInfo({\r\n\t\t\t\t\t\tonline: false,\r\n\t\t\t\t\t\texists: data.reason !== \"ACCOUNT_NOT_FOUND\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// check if really online:\r\n\t\tthis.props.updateStreamInfo({ online: true });\r\n\r\n\t\tsetInterval(() => {\r\n\t\t\tif (!this.props.streamOnline && this.props.accountConnection.connected) {\r\n\t\t\t\tthis.props.updateStreamInfo({ online: true });\r\n\t\t\t}\r\n\t\t}, 5000);\r\n\r\n\t\tthis.afkTimer = setTimeout(this.afk, this.afkTime);\r\n\r\n\t\t// fullscreen:\r\n\t\tdocument.addEventListener(\"webkitfullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"mozfullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"fullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"MSFullscreenChange\", this.exitFullscreen, false);\r\n\r\n\t\t// lagless setup:\r\n\r\n\t\tthis.sendInputTimer = setInterval(() => {\r\n\t\t\tif (!this.props.client.loggedIn && !this.props.allowGuestPlayers) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.inputHandler.pollDevices(this.props.settings.touchControls);\r\n\t\t\tthis.sendControllerState();\r\n\t\t}, 1000 / 120);\r\n\r\n\t\t// todo: remove this when component unmounts:\r\n\t\twindow.addEventListener(\r\n\t\t\t\"keydown\",\r\n\t\t\t(event) => {\r\n\t\t\t\t// escape, f11\r\n\t\t\t\tif ([27, 122].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\r\n\t\t\t\t\t// turn off mouse controls:\r\n\t\t\t\t\tthis.inputHandler.mouse.toggle(false);\r\n\t\t\t\t}\r\n\t\t\t\t// prevent space bar scrolling:\r\n\t\t\t\t// if ([32].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t// \tevent.preventDefault();\r\n\t\t\t\t// }\r\n\t\t\t\t// prevent arrow key & spacebar scrolling:\r\n\t\t\t\tif ([38, 40, 32].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\t// check if chat isn't focused:\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tdocument.activeElement !== document.getElementById(\"messageBox\") &&\r\n\t\t\t\t\t\tdocument.activeElement.type !== \"textarea\" &&\r\n\t\t\t\t\t\tdocument.activeElement.type !== \"text\"\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// escape:\r\n\t\t\t\tif ([27].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\tdocument.exitPointerLock();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfalse,\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.sendInputTimer);\r\n\r\n\t\tfor (let i = 0; i < 9; i++) {\r\n\t\t\tthis.props.joinLeavePlayerControlQueue({ cNum: i, joinLeave: \"leave\" });\r\n\t\t}\r\n\r\n\t\tthis.destroyStream();\r\n\r\n\t\t// this.props.updateMessages([]);\r\n\r\n\t\t// save settings on close:\r\n\t\tconsole.log(\"saving settings\");\r\n\t\tlocalforage.setItem(\"settings\", JSON.stringify(this.props.settings));\r\n\t}\r\n\r\n\tafk = () => {\r\n\t\tif (window.disableAFK) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.stream) {\r\n\t\t\tthis.stream.pause();\r\n\t\t}\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.removeAllListeners();\r\n\t\t\tthis.hostConnection.destroy();\r\n\t\t}\r\n\t\talert(\"Are you still there?\");\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\t// https://stackoverflow.com/questions/10706070/how-to-detect-when-a-page-exits-fullscreen\r\n\texitFullscreen = () => {\r\n\t\tif (\r\n\t\t\t!document.webkitIsFullScreen &&\r\n\t\t\t!document.mozFullScreen &&\r\n\t\t\t!document.msFullscreenElement\r\n\t\t) {\r\n\t\t\t// this.toggleFullscreen(false);\r\n\r\n\t\t\t// from checkbox settings:\r\n\t\t\t// todo: not this:\r\n\t\t\tconsole.log(\"exiting fullscreen\");\r\n\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\t\t\tthis.props.updateSettings({\r\n\t\t\t\tfullscreen: false,\r\n\t\t\t\t// largescreen: false,\r\n\t\t\t\t// controllerView: true,\r\n\t\t\t\thideChat: false,\r\n\t\t\t\thideNav: false,\r\n\t\t\t\tmobileMode: false,\r\n\t\t\t\ttouchControls: false,\r\n\t\t\t});\r\n\r\n\t\t\t// if (this.props.controllerCount === 0 && this.props.settings.controllerView) {\r\n\t\t\t// \tthis.props.updateSettings({\r\n\t\t\t// \t\tcontrollerView: false,\r\n\t\t\t// \t\tlargescreen: true,\r\n\t\t\t// \t\trealKeyboardMouse: true,\r\n\t\t\t// \t});\r\n\t\t\t// } else if (this.props.controllerCount > 0 && !this.props.settings.controllerView) {\r\n\t\t\t// \tthis.props.updateSettings({\r\n\t\t\t// \t\tcontrollerView: true,\r\n\t\t\t// \t\tlargescreen: false,\r\n\t\t\t// \t\trealKeyboardMouse: false,\r\n\t\t\t// \t});\r\n\t\t\t// }\r\n\r\n\t\t\tif (this.props.settings.realKeyboardMouse && this.props.settings.controllerView) {\r\n\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\tcontrollerView: false,\r\n\t\t\t\t\tlargescreen: true,\r\n\t\t\t\t});\r\n\t\t\t} else if (\r\n\t\t\t\t!this.props.settings.realKeyboardMouse &&\r\n\t\t\t\t!this.props.settings.controllerView\r\n\t\t\t) {\r\n\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// turn off mouse controls:\r\n\t\t\tthis.inputHandler.mouse.toggle(false);\r\n\t\t}\r\n\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t};\r\n\r\n\tresetSettings() {\r\n\t\tdeleteAllCookies();\r\n\t\t// localforage.clear().then(() => {\r\n\t\t// \twindow.location.href = \"https://remotegames.io\";\r\n\t\t// });\r\n\t}\r\n\r\n\tsendControllerState = () => {\r\n\t\tif (!this.inputHandler.changed) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.inputHandler.changed = false;\r\n\t\t}\r\n\r\n\t\tif (window.banned) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tclearTimeout(this.afkTimer);\r\n\t\tthis.afkTimer = setTimeout(this.afk, this.afkTime);\r\n\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"keyboard\" &&\r\n\t\t\t!this.props.settings.keyboardControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"controller\" &&\r\n\t\t\t!this.props.settings.controllerControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"touchpad\" &&\r\n\t\t\t!this.props.settings.touchControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// return if chat is focused:\r\n\t\t// if (document.activeElement === document.getElementById(\"messageBox\")) {\r\n\t\tif (\r\n\t\t\tdocument.activeElement.type === \"text\" ||\r\n\t\t\tdocument.activeElement.type === \"textarea\" ||\r\n\t\t\tdocument.activeElement === document.getElementById(\"messageBox\")\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// return if trying to re-map inputs:\r\n\t\tif (window.location.pathname.indexOf(\"/controls\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (window.location.pathname.indexOf(\"/settings\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// if not in the queue, attempt to join it:\r\n\t\tif (\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].indexOf(\r\n\t\t\t\tthis.props.client.userid,\r\n\t\t\t) == -1\r\n\t\t) {\r\n\t\t\tthis.props.joinLeavePlayerControlQueue({\r\n\t\t\t\tcNum: this.props.settings.currentPlayer,\r\n\t\t\t\tjoinLeave: \"join\",\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].indexOf(\r\n\t\t\t\tthis.props.client.userid,\r\n\t\t\t) > 0 &&\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].length > 0\r\n\t\t) {\r\n\t\t\tthis.props.enqueueSnackbar(\"It's not your turn yet!\", {\r\n\t\t\t\tvariant: \"warning\",\r\n\t\t\t\tpreventDuplicate: true,\r\n\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t},\r\n\t\t\t\tautoHideDuration: 1000,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj = {\r\n\t\t\t...this.inputHandler.getState(),\r\n\t\t\tcNum: -1,\r\n\t\t};\r\n\t\tobj.btns = obj.controller.btns;\r\n\t\tobj.axes = obj.controller.axes;\r\n\t\tobj.keys = obj.keyboard.keys;\r\n\t\t\r\n\t\tif (obj.cNum === -1) {\r\n\t\t\tobj.cNum = this.props.settings.currentPlayer;\r\n\t\t}\r\n\r\n\t\tlet buttons = obj.controller.btns.toString(2);\r\n\t\tbuttons = \"0\".repeat(18).substr(buttons.length) + buttons;\r\n\r\n\t\tif (!this.props.settings.realKeyboardMouse) {\r\n\t\t\tconsole.log(\r\n\t\t\t\tobj.cNum,\r\n\t\t\t\tbuttons,\r\n\t\t\t\tgetStickString(obj.axes[0]),\r\n\t\t\t\tgetStickString(obj.axes[1]),\r\n\t\t\t\tgetStickString(obj.axes[2]),\r\n\t\t\t\tgetStickString(obj.axes[3]),\r\n\t\t\t\tgetStickString(obj.axes[4]),\r\n\t\t\t\tgetStickString(obj.axes[5]),\r\n\t\t\t\tMath.random().toFixed(3),\r\n\t\t\t\t// fixedLengthString(obj.axes[0], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[1], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[2], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[3], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[4], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[5], \"0\", 3),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t// console.log(obj.keys, obj.mouse, Math.random().toFixed(3));\r\n\t\t\t// console.log(obj.mouse);\r\n\t\t}\r\n\r\n\t\t// let s1x = getStickString(obj.axes[0]);\r\n\t\t// let s1y = getStickString(obj.axes[1]);\r\n\t\t// console.log(` 0 ${s1y[2]} 0\\n ${s1x[0]} 0 ${s1x[2]}\\n 0 ${s1y[0]} 0`);\r\n\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.emit(\"inputState\", obj);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"the socket is null!\");\r\n\t\t}\r\n\t};\r\n\r\n\tsetStreamVolume = (props) => {\r\n\t\tif (this.stream) {\r\n\t\t\tif (this.props.videoType === \"mpeg1\") {\r\n\t\t\t\tthis.stream.player.volume = props.settings.volume / 100;\r\n\t\t\t} else if (this.props.videoType === \"webRTC\") {\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tdestroyStream = () => {\r\n\t\tconsole.log(\"@@ DESTROYING STREAM @@\");\r\n\t\tif (this.stream && this.stream.player) {\r\n\t\t\tthis.stream.player.pause();\r\n\t\t\tthis.stream.player.destroy();\r\n\t\t\tthis.stream.player = null;\r\n\t\t}\r\n\t\tif (this.stream) {\r\n\t\t\tthis.stream.pause();\r\n\t\t\tthis.stream.destroy();\r\n\t\t\tthis.stream = null;\r\n\t\t\twindow.stream = null;\r\n\t\t}\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.removeAllListeners();\r\n\t\t\tthis.hostConnection.destroy();\r\n\t\t}\r\n\t\tif (this.videoConnection) {\r\n\t\t\tthis.videoConnection.removeAllListeners();\r\n\t\t\tthis.videoConnection.destroy();\r\n\t\t}\r\n\t};\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// update stream volume:\r\n\t\tthis.setStreamVolume(nextProps);\r\n\r\n\t\tthis.inputHandler.realMode = nextProps.settings.realKeyboardMouse;\r\n\r\n\t\tif (JSON.stringify(this.props.client) != JSON.stringify(nextProps.client)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.hideNav != nextProps.settings.hideNav) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.hideChat != nextProps.settings.hideChat) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.controllerView != nextProps.settings.controllerView) {\r\n\t\t\tthis.inputHandler.mouse.toggle(false);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.fullscreen != nextProps.settings.fullscreen) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.streamOnline != nextProps.streamOnline) {\r\n\t\t\tif (nextProps.streamOnline) {\r\n\t\t\t\tthis.getStreamInfo();\r\n\t\t\t} else {\r\n\t\t\t\tthis.destroyStream();\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.theme != nextProps.settings.theme) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (JSON.stringify(this.props.location) != JSON.stringify(nextProps.location)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.state != nextState) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// all settings:\r\n\t\tif (JSON.stringify(this.props.settings) != JSON.stringify(nextProps.settings)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\t// if (this.props.settings.controllerView != prevProps.settings.controllerView) {\r\n\t\t// \t// console.log(\"now\");\r\n\t\t// \t// setTimeout(this.updateStreamCanvas, 500);\r\n\t\t// \tthis.updateStreamCanvas();\r\n\t\t// }\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering stream.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (window.location.pathname == \"/reset\") {\r\n\t\t\tthis.resetSettings();\r\n\t\t\talert(\r\n\t\t\t\t\"Try logging in again, if it doesn't work, try clicking the reset all settings button and try again.\",\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Suspense fallback={<Loading />}>\r\n\t\t\t\t\t<StreamsAppBar\r\n\t\t\t\t\t\thistory={this.props.history}\r\n\t\t\t\t\t\thide={this.props.settings.fullscreen || this.props.settings.hideNav}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Picture />\r\n\t\t\t\t\t<Chat hide={this.props.settings.hideChat} />\r\n\t\t\t\t\t<StreamInfo />\r\n\t\t\t\t</Suspense>\r\n\r\n\t\t\t\t{/* selects the first matching path: */}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn <SettingsModal {...props} inputHandler={this.inputHandler} />;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcontrolQueues: state.stream.players.controlQueues,\r\n\t\tclient: state.client,\r\n\t\tsettings: state.settings,\r\n\t\tplayerCount: state.stream.players.count,\r\n\t\tstreamOnline: state.stream.info.online,\r\n\t\tstreamInfo: state.stream.info,\r\n\t\tvideoType: state.stream.info.streamSettings.videoType,\r\n\t\tcontrollerCount: state.stream.info.streamSettings.controllerCount,\r\n\t\tmouseEnabled: state.stream.info.streamSettings.mouseEnabled,\r\n\t\tkeyboardEnabled: state.stream.info.streamSettings.keyboardEnabled,\r\n\t\tallowGuestPlayers: state.stream.info.streamSettings.allowGuestPlayers,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t\tjoinLeavePlayerControlQueue: (data) => {\r\n\t\t\tdispatch(joinLeavePlayerControlQueue(data));\r\n\t\t},\r\n\t\tupdateClient: (client) => {\r\n\t\t\tdispatch(updateClient(client));\r\n\t\t},\r\n\t\tupdateMessages: (messages) => {\r\n\t\t\tdispatch(updateMessages(messages));\r\n\t\t},\r\n\t\tupdateStreamInfo: (data) => {\r\n\t\t\tdispatch(updateStreamInfo(data));\r\n\t\t},\r\n\t\topenAlert: (data) => {\r\n\t\t\tdispatch(openAlert(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\twithSnackbar,\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Stream);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// react-router:\nimport { withRouter } from \"react-router\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// main components:\nimport StreamsAppBar from \"src/components/streams/StreamsAppBar.jsx\";\nimport StreamList from \"src/components/streams/StreamList.jsx\";\nimport StreamsDrawer from \"src/components/streams/StreamsDrawer.jsx\";\nimport StreamsFooter from \"src/components/streams/StreamsFooter.jsx\";\n\n// secondary components:\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// components:\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport { device } from \"shared/libs/utils.js\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\twidth: \"100%\",\n\t},\n\t[device.tablet]: {\n\t\troot: {},\n\t},\n\t[device.laptop]: {\n\t\troot: {},\n\t},\n});\n\nclass Streams extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstreams: [],\n\t\t\tdrawerOpen: true,\n\t\t};\n\n\t\tthis.triggered = false;\n\n\t\tthis.toggleDrawer = this.toggleDrawer.bind(this);\n\t}\n\n\tupdateDimensions() {\n\t\tif (window.innerWidth < 900 && this.state.drawerOpen) {\n\t\t\tthis.setState({ drawerOpen: false });\n\t\t}\n\t\tif (window.innerWidth > 1000) {\n\t\t\tthis.setState({ drawerOpen: true });\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.accountConnection.emit(\"getStreams\", null, (data) => {\n\t\t\tthis.setState({ streams: data.streams });\n\t\t});\n\n\t\twindow.addEventListener(\"resize\", this.updateDimensions.bind(this));\n\t\tthis.updateDimensions();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"resize\", this.updateDimensions.bind(this));\n\t}\n\n\ttoggleDrawer(bool) {\n\t\tif (typeof bool === \"boolean\") {\n\t\t\tthis.setState({ drawerOpen: !this.state.drawerOpen });\n\t\t} else {\n\t\t\tthis.setState({ drawerOpen: bool });\n\t\t}\n\t\tthis.setState({ drawerOpen: !this.state.drawerOpen });\n\t}\n\n\trender() {\n\t\tconsole.log(\"re-rendering streams.\");\n\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<StreamsAppBar\n\t\t\t\t\tdrawerOpen={this.state.drawerOpen}\n\t\t\t\t\thandleToggleDrawer={this.toggleDrawer}\n\t\t\t\t/>\n\t\t\t\t<StreamsDrawer\n\t\t\t\t\tdrawerOpen={this.state.drawerOpen}\n\t\t\t\t\thandleToggleDrawer={this.toggleDrawer}\n\t\t\t\t/>\n\t\t\t\t<StreamList drawerOpen={this.state.drawerOpen} streams={this.state.streams} />\n\n\t\t\t\t<StreamsFooter drawerOpen={this.state.drawerOpen} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstreamList: state.streams.streamList,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default compose(\n\twithRouter,\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(Streams);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tpadding: \"3%\",\r\n\t\tcolor: theme.palette.primary.contrastText,\r\n\t\tbackgroundColor: theme.palette.background.default,\r\n\t},\r\n\tmain: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\twidth: \"98%\",\r\n\t\theight: \"100%\",\r\n\t\tpadding: \"2%\",\r\n\t},\r\n\timage: {\r\n\t\tcursor: \"pointer\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t},\r\n\tback: {\r\n\t\tmarginBottom: \"10px\",\r\n\t\twidth: \"30%\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t// marginRight: \"auto\",\r\n\t},\r\n\tiframe: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"auto\",\r\n\t\twidth: \"100%\",\r\n\t\theight: \"99960px\",\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\tborderRadius: \"5px\",\r\n\t},\r\n\t[device.laptop]: {},\r\n});\r\n\r\nclass ToS extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper elevation={0} className={classes.root}>\r\n\t\t\t\t<Paper elevation={3} className={classes.main}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tclassName={classes.back}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tclassName={classes.iframe}\r\n\t\t\t\t\t\tsrc=\"https://remotegames.io/tos.html\"\r\n\t\t\t\t\t\tframeBorder=\"0\"\r\n\t\t\t\t\t></iframe>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(ToS);\r\n","export const RECEIVE_MESSAGE = \"RECEIVE_MESSAGE\";\nexport const SEND_MESSAGE = \"SEND_MESSAGE\";\nexport const UPDATE_MESSAGES = \"UPDATE_MESSAGES\";\n\nexport const UPDATE_CONTROL_QUEUES = \"UPDATE_CONTROL_QUEUES\";\nexport const UPDATE_VIEWERS = \"UPDATE_VIEWERS\";\nexport const UPDATE_WAITLISTS = \"UPDATE_WAITLISTS\";\n\nexport const UPDATE_TURN_EXPIRATIONS = \"UPDATE_TURN_EXPIRATIONS\";\nexport const UPDATE_TURN_LENGTHS = \"UPDATE_TURN_LENGTHS\";\n\nexport const UPDATE_VOLUME = \"UPDATE_VOLUME\";\n\n// user info:\nexport const AUTHENTICATE = \"AUTHENTICATE\";\nexport const UPDATE_CLIENT_INFO = \"UPDATE_CLIENT_INFO\";\nexport const CHANGE_USERNAME = \"CHANGE_USERNAME\";\n\nexport const RECEIVE_USERNAME_MAP = \"RECEIVE_USERNAME_MAP\";\nexport const RECEIVE_ACCOUNT_MAP = \"RECEIVE_ACCOUNT_MAP\";\n\nexport const UPDATE_CONTROLLER_STATE = \"UPDATE_CONTROLLER_STATE\";\n\nexport const UPDATE_SETTINGS = \"UPDATE_SETTINGS\";\n\n// players:\nexport const UPDATE_PLAYER_CONTROL_QUEUES = \"UPDATE_PLAYER_CONTROL_QUEUES\";\nexport const UPDATE_PLAYER_TURN_START_TIMES = \"UPDATE_PLAYER_TURN_START_TIMES\";\nexport const UPDATE_PLAYER_TURN_LENGTHS = \"UPDATE_PLAYER_TURN_LENGTHS\";\nexport const UPDATE_PLAYER_CONTROLLER_STATE = \"UPDATE_PLAYER_CONTROLLER_STATE\";\n\nexport const JOIN_PLAYER_CONTROL_QUEUE = \"JOIN_PLAYER_CONTROL_QUEUE\";\nexport const LEAVE_PLAYER_CONTROL_QUEUE = \"LEAVE_PLAYER_CONTROL_QUEUE\";\n\n// time:\nexport const UPDATE_SERVER_TIME = \"UPDATE_SERVER_TIME\";\nexport const UPDATE_LAST_SERVER_UPDATE = \"UPDATE_LAST_SERVER_UPDATE\";\nexport const UPDATE_PING = \"UPDATE_PING\";\n\n// streams:\nexport const RECEIVE_STREAMS = \"RECEIVE_STREAMS\";\n\nexport const LOGIN = \"LOGIN\";\nexport const REGISTER = \"REGISTER\";\n\nexport const UPDATE_STREAM_INFO = \"UPDATE_STREAM_INFO\";\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const receiveAccountMap = (map) => {\r\n\treturn {\r\n\t\ttype: types.RECEIVE_ACCOUNT_MAP,\r\n\t\tpayload: {\r\n\t\t\tmap: map,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const updateStreamInfo = (data) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_STREAM_INFO,\r\n\t\tpayload: {\r\n\t\t\tdata: data,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const updateSettings = (settings) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_SETTINGS,\r\n\t\tpayload: {\r\n\t\t\tsettings: settings,\r\n\t\t},\r\n\t};\r\n};","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, formValueSelector } from \"redux-form\";\r\n\r\n// material ui:\r\nimport {\r\n\tTextField,\r\n\tCheckbox,\r\n\tInputLabel,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tLink,\r\n\tSelect,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tButton,\r\n\tMenuItem,\r\n\tOutlinedInput,\r\n} from \"@material-ui/core\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// const { desktopCapturer } = require(\"electron\");\r\n\r\n// imports:\r\n// const { execFile } = require(\"child_process\");\r\n// const app = require(\"electron\").remote.app;\r\n// const { spawn } = require(\"child_process\");\r\n\r\nconst validate = (values) => {\r\n\tconst errors = {};\r\n\tconst requiredFields = [\"username\", \"password1\", \"password2\", \"email\"];\r\n\trequiredFields.forEach((field) => {\r\n\t\tif (!values[field]) {\r\n\t\t\terrors[field] = \"Required\";\r\n\t\t}\r\n\t});\r\n\tif (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n\t\terrors.email = \"Invalid email address\";\r\n\t}\r\n\treturn errors;\r\n};\r\n\r\nconst renderTextField = ({\r\n\tlabel,\r\n\tinput,\r\n\tmeta: { touched, invalid, error },\r\n\t...custom\r\n}) => (\r\n\t<TextField\r\n\t\tlabel={label}\r\n\t\tplaceholder={label}\r\n\t\terror={touched && invalid}\r\n\t\thelperText={touched && error}\r\n\t\t{...input}\r\n\t\t{...custom}\r\n\t/>\r\n);\r\n\r\nconst renderCheckbox = ({ input, label }) => (\r\n\t<div>\r\n\t\t<FormControlLabel\r\n\t\t\tcontrol={\r\n\t\t\t\t<Checkbox checked={input.value ? true : false} onChange={input.onChange} />\r\n\t\t\t}\r\n\t\t\tlabel={label}\r\n\t\t/>\r\n\t</div>\r\n);\r\n\r\nconst renderTOS = ({ input }) => (\r\n\t<div>\r\n\t\t<Checkbox checked={input.value ? true : false} onChange={input.onChange} />\r\n\t\t<span>I have read and agree to the </span>\r\n\t\t<Link href=\"https://remotegames.io/tos.html\">Terms and Conditions</Link>\r\n\t</div>\r\n);\r\n\r\n// const radioButton = ({ input, ...rest }) => (\r\n// \t<FormControl>\r\n// \t\t<RadioGroup {...input} {...rest}>\r\n// \t\t\t<FormControlLabel\r\n// \t\t\t\tvalue=\"window\"\r\n// \t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n// \t\t\t\tlabel=\"Capture Window\"\r\n// \t\t\t/>\r\n// \t\t\t<FormControlLabel\r\n// \t\t\t\tvalue=\"desktop\"\r\n// \t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n// \t\t\t\tlabel=\"Capture Desktop\"\r\n// \t\t\t/>\r\n// \t\t</RadioGroup>\r\n// \t</FormControl>\r\n// );\r\n\r\nconst renderRadioGroup = ({ input, ...rest }) => (\r\n\t<RadioGroup\r\n\t\t{...input}\r\n\t\t{...rest}\r\n\t\tvalue={input.value}\r\n\t\tonChange={(event, value) => input.onChange(value)}\r\n\t/>\r\n);\r\n\r\nconst renderFromHelper = ({ touched, error }) => {\r\n\tif (!(touched && error)) {\r\n\t\treturn;\r\n\t} else {\r\n\t\treturn <FormHelperText>{touched && error}</FormHelperText>;\r\n\t}\r\n};\r\n\r\nconst renderSelectField = ({\r\n\tinput,\r\n\tlabel,\r\n\tmeta: { touched, error },\r\n\tchildren,\r\n\tvariant,\r\n\tlabelWidth,\r\n\t...custom\r\n}) => (\r\n\t<FormControl error={touched && error}>\r\n\t\t<InputLabel variant={variant} htmlFor={label + \"Select\"}>\r\n\t\t\t{label}\r\n\t\t</InputLabel>\r\n\t\t<Select\r\n\t\t\tautoWidth={true}\r\n\t\t\t{...input}\r\n\t\t\t{...custom}\r\n\t\t\tinputProps={\r\n\t\t\t\tvariant !== \"outlined\" && variant !== \"filled\"\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tid: label + \"Select\",\r\n\t\t\t\t\t\t\tlabelWidth: labelWidth,\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: undefined\r\n\t\t\t}\r\n\t\t\tinput={\r\n\t\t\t\tvariant === \"outlined\" ? (\r\n\t\t\t\t\t<OutlinedInput id={label + \"Select\"} labelWidth={labelWidth} />\r\n\t\t\t\t) : undefined\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Select>\r\n\t\t{renderFromHelper({ touched, error })}\r\n\t</FormControl>\r\n);\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"grid\",\r\n\t\tgridGap: \"10px\",\r\n\t\tpadding: \"25px\",\r\n\t\twidth: \"100%\",\r\n\t\tuserSelect: \"none\",\r\n\t\toverflowY: \"auto\",\r\n\t\talignSelf: \"center\",\r\n\r\n\t\t\"&>div\": {\r\n\t\t\tdisplay: \"grid\",\r\n\t\t\tgridTemplateColumns: \"1fr 1fr 1fr\",\r\n\t\t\tgridGap: \"10px\",\r\n\t\t},\r\n\t},\r\n\tbuttons: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// position: \"relative\",\r\n\t\t// marginLeft: \"5px\",\r\n\t\t// marginRight: \"5px\",\r\n\t\t// textAlign: \"center\",\r\n\t},\r\n\tdropdownContainer: {\r\n\t\tdisplay: \"flex\",\r\n\t\tgridColumn: \"1/3\",\r\n\t\tborder: \"2px solid #000\",\r\n\t\tborderRadius: \"5px\",\r\n\t\t// backgroundColor: \"#6a6a6a50\",\r\n\t\t\"&>div\": {\r\n\t\t\twidth: \"50%\",\r\n\t\t\t// backgroundColor: \"#6a6a6a50\",\r\n\t\t},\r\n\t\t\"&>div:first-child\": {\r\n\t\t\tmarginRight: \"10px\",\r\n\t\t},\r\n\t\tmargin: \"auto 0\",\r\n\t\tpadding: \"10px\",\r\n\t\t// \"&:before\": {\r\n\t\t// \tcontent: '\"\"',\r\n\t\t// \tborder: \"3px solid #000\",\r\n\t\t// \tborderRadius: \"5px\",\r\n\t\t// },\r\n\t},\r\n});\r\n\r\nclass VirtualMachineForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.windowTitles = [];\r\n\t\tthis.dshowDevices = [];\r\n\t\tthis.audioDeviceNames = [];\r\n\t\tthis.state = {\r\n\t\t\tTOSAgreed: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tif (this.props.qualityProfile !== nextProps.qualityProfile) {\r\n\t\t\tthis.props.onUpdateFormProfile(nextProps.qualityProfile);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tagreeTOS = (event) => {\r\n\t\tthis.setState({ TOSAgreed: event.target.checked });\r\n\t};\r\n\r\n\tgetFPSMenuItems = () => {\r\n\t\treturn [\r\n\t\t\t<MenuItem key={0} value={30}>\r\n\t\t\t\t30\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={1} value={20}>\r\n\t\t\t\t20\r\n\t\t\t</MenuItem>,\r\n\t\t];\r\n\t};\r\n\r\n\tgetResolutionMenuItems = () => {\r\n\t\treturn [\r\n\t\t\t<MenuItem key={0} value={1080}>\r\n\t\t\t\t1080\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={1} value={720}>\r\n\t\t\t\t720\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={2} value={540}>\r\n\t\t\t\t540\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={3} value={480}>\r\n\t\t\t\t480\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={1} value={360}>\r\n\t\t\t\t360\r\n\t\t\t</MenuItem>,\r\n\t\t\t<MenuItem key={1} value={240}>\r\n\t\t\t\t240\r\n\t\t\t</MenuItem>,\r\n\t\t];\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleSubmit,\r\n\t\t\tpristine,\r\n\t\t\treset,\r\n\t\t\tsubmitting,\r\n\t\t\tclasses,\r\n\t\t\tqualityProfile,\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={handleSubmit} className={classes.root}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"streamTitle\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Stream Title\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"thumbnailURL\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Thumbnail URL\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div style={{ display: \"block\" }}>\r\n\t\t\t\t\t<Field name=\"qualityProfile\" component={renderRadioGroup} row>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"ultraLow\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Ultra Low\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"low\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Low\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"medium\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Medium\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"high\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"High\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"ultraHigh\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Ultra High\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"custom\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Custom\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"perfect\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"Perfect\"\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"resolution\"\r\n\t\t\t\t\t\tcomponent={renderSelectField}\r\n\t\t\t\t\t\tlabel=\"Resolution\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tlabelWidth={80}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.getResolutionMenuItems()}\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"videoBitrate\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Video Bitrate (kb/s)\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"framerate\"\r\n\t\t\t\t\t\tcomponent={renderSelectField}\r\n\t\t\t\t\t\tlabel=\"Output FPS\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tlabelWidth={85}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.getFPSMenuItems()}\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{qualityProfile === \"custom\" && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"videoBufferSize\"\r\n\t\t\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\t\t\tlabel=\"Video Buffer Size\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"audioBufferSize\"\r\n\t\t\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\t\t\tlabel=\"Audio Buffer Size\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"groupOfPictures\"\r\n\t\t\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\t\t\tlabel=\"Group of Pictures\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"qmin\"\r\n\t\t\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\t\t\tlabel=\"QMin\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\tname=\"qmax\"\r\n\t\t\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\t\t\tlabel=\"QMax\"\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* <div style={{ display: \"block\" }}>\r\n\t\t\t\t\t<Field name=\"videoType\" component={renderRadioGroup} row>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"mpeg1\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"MPEG-1\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tvalue=\"webRTC\"\r\n\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\tlabel=\"WebRTC\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Field>\r\n\t\t\t\t</div> */}\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Field name=\"agree\" component={renderTOS} onChange={this.agreeTOS} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.buttons}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={pristine || submitting || !this.state.TOSAgreed}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tStart Virtual Machine\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={this.props.onStopMachine}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tStop Virtual Machine\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// let initialValues = {\r\n// \thost1: \"https://remotegames.io\",\r\n// \tport1: 8099,\r\n// \twidth: 1280,\r\n// \theight: 720,\r\n// \t// windowTitle: null,\r\n// \tresolution: 540,\r\n// \tvideoBitrate: 1,\r\n// \tcaptureRate: 30,\r\n// \tcapture: \"window\",\r\n// \toffsetX: 0,\r\n// \toffsetY: 0,\r\n// \tcontrollerCount: 1,\r\n// };\r\n\r\n// export default compose(\r\n// \twithStyles(styles),\r\n// \treduxForm({\r\n// \t\tform: \"VideoSettingsForm\", // a unique identifier for this form\r\n// \t\tvalidate,\r\n// \t\tinitialValues,\r\n// \t}),\r\n// )(VideoSettingsForm);\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn {\r\n\t\tinitialValues: {\r\n\t\t\tvideoBitrate: ownProps.videoBitrate,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n// Decorate with redux-form\r\nlet VirtualMachineForm2 = reduxForm({\r\n\tform: \"VirtualMachineForm\", // a unique identifier for this form\r\n\tenableReinitialize: true,\r\n\tvalidate,\r\n\t// initialValues,\r\n})(VirtualMachineForm);\r\n\r\n// Decorate with connect to read form values\r\nconst selector = formValueSelector(\"VirtualMachineForm\"); // <-- same as form name\r\nVirtualMachineForm2 = connect((state) => {\r\n\tconst qualityProfile = selector(state, \"qualityProfile\");\r\n\treturn {\r\n\t\tqualityProfile,\r\n\t};\r\n})(VirtualMachineForm2);\r\n\r\nexport default compose(withStyles(styles))(VirtualMachineForm2);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { /*Route, */ withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tTabs,\r\n\tTab,\r\n\tPaper,\r\n\tDialog,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\n\r\n// components:\r\n\r\nimport VirtualMachineForm from \"src/components/forms/VirtualMachineForm.jsx\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { openAlert } from \"shared/features/alert.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n\tcontrols: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tav: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tsite: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n});\r\n\r\nclass CreateVMModal extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.accountConnection = this.props.accountConnection;\r\n\r\n\t\tthis.state = {\r\n\t\t\tformInitialValues: {\r\n\t\t\t\tqualityProfile: \"medium\",\r\n\t\t\t\t// host1: \"https://remotegames.io\",\r\n\t\t\t\t// port1: 8099,\r\n\t\t\t\tstreamTitle: \"My Stream\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tregion: \"US East\",\r\n\t\t\t\twidth: 1280,\r\n\t\t\t\theight: 720,\r\n\t\t\t\twindowTitle: null,\r\n\t\t\t\twindowTitleDropdown: 0,\r\n\t\t\t\taudioDevice: null,\r\n\t\t\t\taudioDeviceDropdown: 0,\r\n\t\t\t\tvideoDevice: null,\r\n\t\t\t\tvideoDeviceDropdown: 0,\r\n\t\t\t\tresolution: 540,\r\n\t\t\t\tvideoBitrate: 1500,\r\n\t\t\t\tvideoBufferSize: 512,\r\n\t\t\t\taudioBufferSize: 128,\r\n\t\t\t\tgroupOfPictures: 60,\r\n\t\t\t\tcaptureRate: 60,\r\n\t\t\t\tframerate: 30,\r\n\t\t\t\tcapture: \"window\",\r\n\t\t\t\tvideoType: \"mpeg1\",\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\tcontrollerCount: 0,\r\n\t\t\t\tcontrolSwitch: false,\r\n\t\t\t\tvirtualXboxControllers: false,\r\n\t\t\t\tqmin: 4,\r\n\t\t\t\tqmax: 20,\r\n\t\t\t\tforfeitTime: 1000 * 5, // 5 seconds\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tthis.profiles = {\r\n\t\t\tdefault: {\r\n\t\t\t\twidth: 1920,\r\n\t\t\t\theight: 1080,\r\n\t\t\t\tcapture: \"desktop\",\r\n\t\t\t\taudioDevice: null,\r\n\t\t\t\twindowTitle: null,\r\n\t\t\t\tcontrollerCount: null,\r\n\t\t\t\toffsetX: null,\r\n\t\t\t\toffsetY: null,\r\n\t\t\t\tcontrolSwitch: null,\r\n\t\t\t\tvirtualXboxControllers: null,\r\n\t\t\t\tvideoBufferSize: null,\r\n\t\t\t\taudioBufferSize: null,\r\n\t\t\t\tcaptureRate: null,\r\n\t\t\t\tgroupOfPictures: null,\r\n\t\t\t},\r\n\r\n\t\t\tperfect: {\r\n\t\t\t\tvideoBitrate: 14000,\r\n\t\t\t\tresolution: 1080,\r\n\t\t\t\tqmin: 2,\r\n\t\t\t\tqmax: 8,\r\n\t\t\t},\r\n\r\n\t\t\tultraHigh: {\r\n\t\t\t\tvideoBitrate: 10000,\r\n\t\t\t\tresolution: 1080,\r\n\t\t\t\tqmin: 4,\r\n\t\t\t\tqmax: 12,\r\n\t\t\t},\r\n\r\n\t\t\thigh: {\r\n\t\t\t\tvideoBitrate: 8000,\r\n\t\t\t\tresolution: 720,\r\n\t\t\t\tqmin: 4,\r\n\t\t\t\tqmax: 16,\r\n\t\t\t},\r\n\r\n\t\t\tmedium: {\r\n\t\t\t\tvideoBitrate: 5000,\r\n\t\t\t\tresolution: 540,\r\n\t\t\t\tqmin: 4,\r\n\t\t\t\tqmax: 10,\r\n\t\t\t},\r\n\r\n\t\t\tlow: {\r\n\t\t\t\tvideoBitrate: 2500,\r\n\t\t\t\tresolution: 480,\r\n\t\t\t\tqmin: 4,\r\n\t\t\t\tqmax: 10,\r\n\t\t\t},\r\n\r\n\t\t\tultraLow: {\r\n\t\t\t\tvideoBitrate: 1000,\r\n\t\t\t\tresolution: 360,\r\n\t\t\t\tqmin: 6,\r\n\t\t\t\tqmax: 20,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t};\r\n\r\n\thandleUpdateFormProfile = (profileName) => {\r\n\t\tthis.setState({\r\n\t\t\tformInitialValues: {\r\n\t\t\t\t...this.state.formInitialValues,\r\n\t\t\t\t...this.profiles[profileName],\r\n\t\t\t\tqualityProfile: profileName,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\thandleStartMachine = (args) => {\r\n\r\n\t\tif (args.qualityProfile !== \"custom\") {\r\n\t\t\targs = { ...args, ...this.profiles.default };\r\n\t\t}\r\n\r\n\t\tconsole.log(args);\r\n\t\tthis.accountConnection.emit(\r\n\t\t\t\"startMachine\",\r\n\t\t\t{\r\n\t\t\t\tauthToken: this.props.authToken,\r\n\t\t\t\tstreamSettings: args,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.props.openAlert({ title: \"VM Created!\" });\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.props.history.push(`/s/${this.props.username}`);\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleStopMachine = () => {\r\n\t\tthis.accountConnection.emit(\r\n\t\t\t\"stopMachine\",\r\n\t\t\t{ authToken: this.props.authToken },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.props.openAlert({ title: \"success\" });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// this.accountConnection.emit(\r\n\t\t// \t\"getStreamSettings\",\r\n\t\t// \t{ authToken: this.props.authToken },\r\n\t\t// \t(data) => {\r\n\t\t// \t\tif (data.success) {\r\n\t\t// \t\t\tthis.setState({\r\n\t\t// \t\t\t\tformInitialValues: {\r\n\t\t// \t\t\t\t\t...this.state.formInitialValues,\r\n\t\t// \t\t\t\t\t...data.streamSettings,\r\n\t\t// \t\t\t\t},\r\n\t\t// \t\t\t});\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t// \t\t}\r\n\t\t// \t},\r\n\t\t// );\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconsole.log(\"re-rendering CreateVMModal.\");\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"lg\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tCreate a Virtual Machine\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t{/* <Tabs\r\n\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\tvalue={which}\r\n\t\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t// scrollable\r\n\t\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\t\tif (value === 0) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/av\");\r\n\t\t\t\t\t\t\t} else if (value === 1) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/controls\");\r\n\t\t\t\t\t\t\t} else if (value === 2) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/site\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tab label=\"Audio Video\" />\r\n\t\t\t\t\t\t<Tab label=\"Controls\" />\r\n\t\t\t\t\t\t<Tab label=\"Site\" />\r\n\t\t\t\t\t</Tabs> */}\r\n\r\n\t\t\t\t\t<VirtualMachineForm\r\n\t\t\t\t\t\tinitialValues={this.state.formInitialValues}\r\n\t\t\t\t\t\tonSubmit={this.handleStartMachine}\r\n\t\t\t\t\t\tonStopMachine={this.handleStopMachine}\r\n\t\t\t\t\t\tonUpdateFormProfile={this.handleUpdateFormProfile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusername: state.client.username,\r\n\t\tauthToken: state.client.authToken,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\topenAlert: (data) => {\r\n\t\t\tdispatch(openAlert(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(CreateVMModal);\r\n","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tTabs,\r\n\tTab,\r\n\tPaper,\r\n\tDialog,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\n\r\n// components:\r\n\r\nimport InputMapper from \"./settings/InputMapper.jsx\";\r\nimport Site from \"./settings/Site.jsx\";\r\nimport AudioVideo from \"./settings/AudioVideo.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n\tcontrols: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tav: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tsite: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n});\r\n\r\nclass SettingsModal extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.update = this.update.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t}\r\n\r\n\thandleClose() {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tinputHandler.controller.settings.controllerIndex = \"\" + event.target.value;\r\n\t\tthis.setState({});\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.setState({});\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconsole.log(\"re-rendering SettingsModal.\");\r\n\r\n\t\tlet which;\r\n\r\n\t\tswitch (this.props.history.location.pathname) {\r\n\t\t\tcase \"/settings/av\":\r\n\t\t\t\twhich = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"/settings/controls\":\r\n\t\t\t\twhich = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"/settings/site\":\r\n\t\t\t\twhich = 2;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\tvalue={which}\r\n\t\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t// scrollable\r\n\t\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\t\tif (value === 0) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/av\");\r\n\t\t\t\t\t\t\t} else if (value === 1) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/controls\");\r\n\t\t\t\t\t\t\t} else if (value === 2) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/site\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tab label=\"Audio Video\" />\r\n\t\t\t\t\t\t<Tab label=\"Controls\" />\r\n\t\t\t\t\t\t<Tab label=\"Site\" />\r\n\t\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/controls\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<InputMapper />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/site\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<Site />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/av\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<AudioVideo />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(SettingsModal);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n});\r\n\r\nclass AudioVideo extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div>test</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(AudioVideo);\r\n","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tListItemText,\r\n\tListItem,\r\n\tList,\r\n\tOutlinedInput,\r\n\tSelect,\r\n\tMenuItem,\r\n\tButton,\r\n\tPaper,\r\n\tTabs,\r\n\tTab,\r\n} from \"@material-ui/core\";\r\n\r\n// components:\r\nimport MySlider from \"shared/components/general/MySlider.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\nconst MAP_BUTTON_NAMES = [\r\n\t\"b\",\r\n\t\"a\",\r\n\t\"y\",\r\n\t\"x\",\r\n\t\"l\",\r\n\t\"r\",\r\n\t\"zl\",\r\n\t\"zr\",\r\n\t\"minus\",\r\n\t\"plus\",\r\n\t\"lstick\",\r\n\t\"rstick\",\r\n\t\"up\",\r\n\t\"down\",\r\n\t\"left\",\r\n\t\"right\",\r\n\t\"home\",\r\n];\r\n\r\nconst DISPLAY_BUTTON_NAMES = [\r\n\t\"B\",\r\n\t\"A\",\r\n\t\"Y\",\r\n\t\"X\",\r\n\t\"L\",\r\n\t\"R\",\r\n\t\"ZL\",\r\n\t\"ZR\",\r\n\t\"Minus\",\r\n\t\"Plus\",\r\n\t\"LStick\",\r\n\t\"RStick\",\r\n\t\"Up\",\r\n\t\"Down\",\r\n\t\"Left\",\r\n\t\"Right\",\r\n\t\"Home\",\r\n];\r\n\r\nconst BUTTON_LAYOUTS = {\r\n\txbox: [\r\n\t\t\"A\",\r\n\t\t\"B\",\r\n\t\t\"X\",\r\n\t\t\"Y\",\r\n\t\t\"LB\",\r\n\t\t\"RB\",\r\n\t\t\"LT\",\r\n\t\t\"RT\",\r\n\t\t\"Select\",\r\n\t\t\"Start\",\r\n\t\t\"LStick\",\r\n\t\t\"RStick\",\r\n\t\t\"Up\",\r\n\t\t\"Down\",\r\n\t\t\"Left\",\r\n\t\t\"Right\",\r\n\t\t\"Xbox\",\r\n\t],\r\n\tDS4: [\r\n\t\t\"❌\",\r\n\t\t\"⭕\",\r\n\t\t\"🟥\",\r\n\t\t\"🔺\",\r\n\t\t\"L1\",\r\n\t\t\"R1\",\r\n\t\t\"L2\",\r\n\t\t\"R2\",\r\n\t\t\"Share\",\r\n\t\t\"Options\",\r\n\t\t\"L3\",\r\n\t\t\"R3\",\r\n\t\t\"Up\",\r\n\t\t\"Down\",\r\n\t\t\"Left\",\r\n\t\t\"Right\",\r\n\t\t\"PS\",\r\n\t\t\"Touchpad\",\r\n\t],\r\n\tproController: [],\r\n};\r\n\r\nconst DISPLAY_AXIS_NAMES = [\"LX\", \"LY\", \"RX\", \"RY\"];\r\nconst MAP_AXIS_NAMES = [\"LX\", \"LY\", \"RX\", \"RY\"];\r\n\r\nconst DISPLAY_KEYBOARD_NAMES = [\r\n\t\"LU\",\r\n\t\"LD\",\r\n\t\"LL\",\r\n\t\"LR\",\r\n\t\"RU\",\r\n\t\"RD\",\r\n\t\"RL\",\r\n\t\"RR\",\r\n\t\"A\",\r\n\t\"B\",\r\n\t\"X\",\r\n\t\"Y\",\r\n\t\"Up\",\r\n\t\"Down\",\r\n\t\"Left\",\r\n\t\"Right\",\r\n\t\"LStick\",\r\n\t\"RStick\",\r\n\t\"L\",\r\n\t\"ZL\",\r\n\t\"R\",\r\n\t\"ZR\",\r\n\t\"Minus\",\r\n\t\"Plus\",\r\n\t\"Capture\",\r\n\t\"Home\",\r\n];\r\n\r\nconst MAP_KEYBOARD_NAMES = [\r\n\t\"LU\",\r\n\t\"LD\",\r\n\t\"LL\",\r\n\t\"LR\",\r\n\t\"RU\",\r\n\t\"RD\",\r\n\t\"RL\",\r\n\t\"RR\",\r\n\t\"a\",\r\n\t\"b\",\r\n\t\"x\",\r\n\t\"y\",\r\n\t\"up\",\r\n\t\"down\",\r\n\t\"left\",\r\n\t\"right\",\r\n\t\"lstick\",\r\n\t\"rstick\",\r\n\t\"l\",\r\n\t\"zl\",\r\n\t\"r\",\r\n\t\"zr\",\r\n\t\"minus\",\r\n\t\"plus\",\r\n\t\"capture\",\r\n\t\"home\",\r\n];\r\n\r\nclass ControllerMapper extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapAxisTimer = null;\r\n\t\tthis.mapButtonTimer = null;\r\n\t\tthis.currentMapping = \"unset\";\r\n\r\n\t\tthis.mapButton = this.mapButton.bind(this);\r\n\t\tthis.mapAxis = this.mapAxis.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\twaiting: false,\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tmapButton() {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tinputHandler.controller.lastChangedButton = null;\r\n\r\n\t\tthis.setState({ waiting: true });\r\n\r\n\t\tthis.mapButtonTimer = setInterval(() => {\r\n\t\t\tif (inputHandler.controller.lastChangedButton != null) {\r\n\t\t\t\tclearInterval(this.mapButtonTimer);\r\n\r\n\t\t\t\tif (this.props.type == \"button\") {\r\n\t\t\t\t\tlet lastChangedIndex = inputHandler.controller.lastChangedButton;\r\n\t\t\t\t\tlet which = parseInt(this.props.which);\r\n\r\n\t\t\t\t\tif (this.currentMapping !== \"unset\") {\r\n\t\t\t\t\t\tinputHandler.controller.settings.map.buttons[\r\n\t\t\t\t\t\t\tparseInt(this.currentMapping)\r\n\t\t\t\t\t\t].which = \"unset\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinputHandler.controller.settings.map.buttons[lastChangedIndex].type = \"button\";\r\n\t\t\t\t\tinputHandler.controller.settings.map.buttons[lastChangedIndex].which =\r\n\t\t\t\t\t\tMAP_BUTTON_NAMES[which];\r\n\t\t\t\t}\r\n\t\t\t\tif (this.props.type == \"axis\") {\r\n\t\t\t\t\t// todo: finish\r\n\t\t\t\t\t// inputHandler.controller.settings.map.buttons[parseInt(this.props.which)].type = \"axis\";\r\n\t\t\t\t\t// inputHandler.controller.settings.map.axes[parseInt(this.props.which)] = MAP_BUTTON_NAMES[inputHandler.controller.lastChangedButton];\r\n\t\t\t\t}\r\n\t\t\t\tinputHandler.controller.lastChangedButton = null;\r\n\t\t\t\tthis.setState({ waiting: false });\r\n\t\t\t\tthis.props.update();\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t}\r\n\r\n\tmapAxis() {\r\n\t\t// this.setState({waiting: true});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet DISPLAY_NAMES =\r\n\t\t\tthis.props.type == \"button\" ? DISPLAY_BUTTON_NAMES : DISPLAY_AXIS_NAMES;\r\n\t\tlet MAP_NAMES = this.props.type == \"button\" ? MAP_BUTTON_NAMES : MAP_AXIS_NAMES;\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tif (this.state.waiting) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t{`${DISPLAY_NAMES[this.props.which]}`} waiting for axis / button input...\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.currentMapping = \"unset\";\r\n\t\tif (this.props.type == \"button\") {\r\n\t\t\tfor (let i = 0; i < inputHandler.controller.settings.map.buttons.length; i++) {\r\n\t\t\t\tlet btn = inputHandler.controller.settings.map.buttons[i];\r\n\t\t\t\tif (btn.which === MAP_NAMES[this.props.which]) {\r\n\t\t\t\t\tthis.currentMapping = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (this.props.type == \"axis\") {\r\n\t\t\tfor (let i = 0; i < inputHandler.controller.settings.map.axes.length; i++) {\r\n\t\t\t\tlet axis = inputHandler.controller.settings.map.axes[i];\r\n\t\t\t\tif (axis.which === MAP_NAMES[this.props.which]) {\r\n\t\t\t\t\tthis.currentMapping = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet currentMappingNamed;\r\n\r\n\t\tif (inputHandler.controller.settings.detectedType !== null) {\r\n\t\t\tcurrentMappingNamed =\r\n\t\t\t\tBUTTON_LAYOUTS[inputHandler.controller.settings.detectedType][\r\n\t\t\t\t\tthis.currentMapping\r\n\t\t\t\t];\r\n\t\t} else {\r\n\t\t\tcurrentMappingNamed = this.currentMapping;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem className={classes.listItem}>\r\n\t\t\t\t<ListItemText>{`${DISPLAY_NAMES[this.props.which]}`}</ListItemText>\r\n\t\t\t\t<ListItemText>{currentMappingNamed}</ListItemText>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapButton}>\r\n\t\t\t\t\tMap To Button\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapAxis}>\r\n\t\t\t\t\tMap To Axis\r\n\t\t\t\t</Button>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass KeyboardMapper extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapAxisTimer = null;\r\n\t\tthis.mapButtonTimer = null;\r\n\r\n\t\tthis.mapKey = this.mapKey.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\twaiting: false,\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tmapKey() {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tinputHandler.keyboard.lastPressedKey = null;\r\n\r\n\t\tthis.setState({ waiting: true });\r\n\r\n\t\tthis.mapKeyTimer = setInterval(() => {\r\n\t\t\tif (inputHandler.keyboard.lastPressedKey != null) {\r\n\t\t\t\tclearInterval(this.mapKeyTimer);\r\n\r\n\t\t\t\tif (/^[a-z]$/.test(inputHandler.keyboard.lastPressedKey)) {\r\n\t\t\t\t\tinputHandler.keyboard.lastPressedKey = inputHandler.keyboard.lastPressedKey.toUpperCase();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinputHandler.keyboard.map[MAP_KEYBOARD_NAMES[parseInt(this.props.which)]] =\r\n\t\t\t\t\tinputHandler.keyboard.lastPressedKey;\r\n\t\t\t\tinputHandler.keyboard.lastPressedKey = null;\r\n\r\n\t\t\t\tthis.setState({ waiting: false });\r\n\t\t\t\tthis.props.update();\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tif (this.state.waiting) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t{`${DISPLAY_KEYBOARD_NAMES[this.props.which]}`} waiting for keypress...\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// let currentMapping = inputHandler.keyboard.map2[parseInt(this.props.which)];\r\n\t\tlet currentMapping =\r\n\t\t\tinputHandler.keyboard.map[MAP_KEYBOARD_NAMES[parseInt(this.props.which)]];\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem className={classes.listItem}>\r\n\t\t\t\t<ListItemText>{`${DISPLAY_KEYBOARD_NAMES[this.props.which]}`}</ListItemText>\r\n\t\t\t\t<ListItemText>{currentMapping}</ListItemText>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapKey}>\r\n\t\t\t\t\tMap To Key\r\n\t\t\t\t</Button>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n\tcontrollerRemapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"15px\",\r\n\t},\r\n\tkeyboardRemapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"15px\",\r\n\t},\r\n\tlist: {\r\n\t\tmaxHeight: \"400px\",\r\n\t\toverflowY: \"auto\",\r\n\t},\r\n\tlistItem: {\r\n\t\t\"& > div\": {\r\n\t\t\twidth: \"10%\",\r\n\t\t},\r\n\t},\r\n\r\n\t// slider:\r\n\trootClass: {\r\n\t\twidth: \"50%\",\r\n\t},\r\n\trail: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\ttrack: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\tthumb: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\t\"&:hover\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 9px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t\t\"&:active\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\t\"span&\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16) !important\",\r\n\t\t},\r\n\t},\r\n\r\n\t// slider settings:\r\n\tsliderSettings: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"15px 0px\",\r\n\r\n\t\t\"& > div\": {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tlineHeight: \"28px\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tpadding: \"10px\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass InputMapperModal extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\twhichTab: 0,\r\n\t\t};\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t};\r\n\r\n\thandleChange = (event) => {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tinputHandler.controller.settings.controllerIndex = \"\" + event.target.value;\r\n\t\tthis.setState({});\r\n\t};\r\n\r\n\trescanGamepads = () => {\r\n\t\twindow.inputHandler.controller.autoSelectGamepad();\r\n\t\tthis.update();\r\n\t};\r\n\r\n\tupdate = () => {\r\n\t\tthis.setState({});\r\n\t};\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconsole.log(\"re-rendering InputMapper.\");\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tlet gamepadWrapper = inputHandler.gamepadWrapper;\r\n\r\n\t\tlet activeGamepadIndex = inputHandler.controller.settings.controllerIndex;\r\n\r\n\t\tlet gamepads = [];\r\n\t\tfor (let gamepadIndex in gamepadWrapper.controllers) {\r\n\t\t\tgamepads.push(\r\n\t\t\t\t<MenuItem key={gamepadIndex} value={gamepadIndex}>\r\n\t\t\t\t\t{gamepadWrapper.controllers[gamepadIndex].id}\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// show that no gamepad is selected if one isn't:\r\n\t\tif (activeGamepadIndex == null && gamepads.length > 0) {\r\n\t\t\t// set to 0 so we render this:\r\n\t\t\tactiveGamepadIndex = 0;\r\n\t\t\t// prepend so it's first:\r\n\t\t\tgamepads.unshift(\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNo gamepad selected\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (gamepads.length == 0 || activeGamepadIndex == null) {\r\n\t\t\tactiveGamepadIndex = 0;\r\n\t\t\tgamepads.push(\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNo gamepads detected\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tvalue={this.state.whichTab}\r\n\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t// scrollable\r\n\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\tthis.setState({ whichTab: value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label=\"Controller\" />\r\n\t\t\t\t\t<Tab label=\"Keyboard\" />\r\n\t\t\t\t\t{/* <Tab label=\"Mouse\" /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t{this.state.whichTab === 0 && (\r\n\t\t\t\t\t<Paper className={classes.controllerRemapper} elevation={4}>\r\n\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\tActive Gamepad Type:\r\n\t\t\t\t\t\t\t{\" \" + (inputHandler.controller.settings.detectedType || \"Unknown\")}\r\n\t\t\t\t\t\t</ListItemText>\r\n\r\n\t\t\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={activeGamepadIndex}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\tinput={<OutlinedInput labelWidth={0} />}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{gamepads}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.rescanGamepads}>\r\n\t\t\t\t\t\t\t\tRescan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Paper elevation={4} className={classes.sliderSettings}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tStick Deadzone: {inputHandler.controller.settings.axes[0].deadzone}\r\n\t\t\t\t\t\t\t\t<MySlider\r\n\t\t\t\t\t\t\t\t\trootClass={classes.rootClass}\r\n\t\t\t\t\t\t\t\t\tthumbClass={classes.thumb}\r\n\t\t\t\t\t\t\t\t\tactiveClass={classes.active}\r\n\t\t\t\t\t\t\t\t\trailClass={classes.rail}\r\n\t\t\t\t\t\t\t\t\ttrackClass={classes.track}\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={1}\r\n\t\t\t\t\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\t\t\t\t\thandleChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\tfor (\r\n\t\t\t\t\t\t\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ti < inputHandler.controller.settings.axes.length;\r\n\t\t\t\t\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinputHandler.controller.settings.axes[i].deadzone = value;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={inputHandler.controller.settings.axes[0].deadzone}\r\n\t\t\t\t\t\t\t\t\tbounceInterval={100}\r\n\t\t\t\t\t\t\t\t\tdelay={500}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tStick Sensitivity: {inputHandler.controller.settings.axes[0].sensitivity}\r\n\t\t\t\t\t\t\t\t<MySlider\r\n\t\t\t\t\t\t\t\t\trootClass={classes.rootClass}\r\n\t\t\t\t\t\t\t\t\tthumbClass={classes.thumb}\r\n\t\t\t\t\t\t\t\t\tactiveClass={classes.active}\r\n\t\t\t\t\t\t\t\t\trailClass={classes.rail}\r\n\t\t\t\t\t\t\t\t\ttrackClass={classes.track}\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={3}\r\n\t\t\t\t\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\t\t\t\t\thandleChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\tfor (\r\n\t\t\t\t\t\t\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ti < inputHandler.controller.settings.axes.length;\r\n\t\t\t\t\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinputHandler.controller.settings.axes[i].sensitivity = value;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={inputHandler.controller.settings.axes[0].sensitivity}\r\n\t\t\t\t\t\t\t\t\tbounceInterval={100}\r\n\t\t\t\t\t\t\t\t\tdelay={500}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t<Paper elevation={2} style={{ marginTop: 15 }}>\r\n\t\t\t\t\t\t\t<List className={classes.list}>\r\n\t\t\t\t\t\t\t\t{[...Array(17)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<ControllerMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{[...Array(4)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<ControllerMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"axis\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.whichTab === 1 && (\r\n\t\t\t\t\t<Paper className={classes.keyboardRemapper} elevation={4}>\r\n\t\t\t\t\t\t<Paper elevation={2}>\r\n\t\t\t\t\t\t\t<List className={classes.list}>\r\n\t\t\t\t\t\t\t\t{[...Array(26)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<KeyboardMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\tinputHandler={inputHandler}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(InputMapperModal);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport CheckboxSettings from \"components/stream/CheckboxSettings.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n});\r\n\r\nclass Site extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<CheckboxSettings />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(Site);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { List, ListItem, Paper } from \"@material-ui/core\";\r\n\r\n// components:\r\nimport MyCheckbox from \"shared/components/general/MyCheckbox.jsx\";\r\nimport ThemeSelector from \"shared/components/general/ThemeSelector.jsx\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\n\r\n// libs:\r\nimport { toggleFullscreen } from \"shared/libs/utils.js\";\r\n\r\nclass CheckboxSettings extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Paper elevation={5}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Keyboard Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ keyboardControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.keyboardControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Controller Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.controllerControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Touch Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ touchControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.touchControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Real keyboard / mouse\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ realKeyboardMouse: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.realKeyboardMouse}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Show Controller View\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerView: state });\r\n\t\t\t\t\t\t\t\tif (state && this.props.settings.largescreen) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ largescreen: false });\r\n\t\t\t\t\t\t\t\t} else if (!state && !this.props.settings.largescreen) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ largescreen: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.controllerView}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Mobile Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ mobileMode: state, touchControls: state });\r\n\t\t\t\t\t\t\t\t// if (state && this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ controllerView: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && !this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ controllerView: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t// if (state && !this.props.settings.hideChat) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideChat: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && this.props.settings.hideChat) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideChat: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t// if (state && !this.props.settings.hideNav) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideNav: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && this.props.settings.hideNav) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideNav: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\t\tif (state) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\thideChat: true,\r\n\t\t\t\t\t\t\t\t\t\thideNav: true,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: true,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\thideChat: false,\r\n\t\t\t\t\t\t\t\t\t\thideNav: false,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.mobileMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Audio 3.0\"}\r\n\t\t\t\t\t\t\thandleChange={this.props.toggleAudioThree}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.audioThree}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ThemeSelector />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Fullscreen Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tif (state) {\r\n\t\t\t\t\t\t\t\t\t// $(document).scrollTop(0);\r\n\t\t\t\t\t\t\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t\t\t\t\t\t\t\t\t// $(\"body\").addClass(\"hideScrollbar\");\r\n\t\t\t\t\t\t\t\t\t// $(\"#root\").children()[0].style.padding = \"0\";\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\tfullscreen: state,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: false,\r\n\t\t\t\t\t\t\t\t\t\thideChat: true,\r\n\t\t\t\t\t\t\t\t\t\thideNav: true,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// console.log(\"exiting fullscreen\");\r\n\t\t\t\t\t\t\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\t\t\t\t\t\t\t\t\t// $(\"#root\").children()[0].style.padding = \"\";\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\tfullscreen: state,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\thideChat: false,\r\n\t\t\t\t\t\t\t\t\t\thideNav: false,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.fullscreen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Mouse Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {this.props.updateSettings({ mouseControls: state })}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.mouseControls}/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Touch Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {this.props.updateSettings({ touchControls: state })}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.touchControls}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Analog Stick Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ analogStickMode: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.analogStickMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"DPad Swap\"}\r\n\t\t\t\t\t\t\thandleChange={this.toggleDpadSwap}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.dpadSwap}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"3Ds config\"}\r\n\t\t\t\t\t\t\thandleChange={this.toggleTDSConfig}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.TDSConfig}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Hide Chat\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ hideChat: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.hideChat}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Hide Nav Bar\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ hideNav: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.hideNav}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Controller View\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerView: state });\r\n\t\t\t\t\t\t\t\tif (state && this.props.settings.largescreen) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ largescreen: false });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.controllerView}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// export default JoinLeaveQueueButton;\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsettings: state.settings,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckboxSettings);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\nimport LaglessView from \"./lagless/laglessView/LaglessView.jsx\";\r\nimport LaglessBar from \"./lagless/laglessBar/LaglessBar.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport classNames from \"classnames\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tgridArea: \"picture\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// justifyContent: \"space-between\",\r\n\t\twidth: \"100%\",\r\n\t\tpadding: \"5px\",\r\n\t\tmargin: 0,\r\n\t\toverflow: \"hidden\",\r\n\t\t// height: \"calc(47vw)\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\t// height: \"calc(34vw)\",\r\n\t\t},\r\n\t},\r\n\thideChat: {\r\n\t\tgridColumn: \"1/3\",\r\n\t},\r\n\tfullscreen: {\r\n\t\tgridRow: \"1\",\r\n\t\tgridColumn: \"1/3\",\r\n\t\tpadding: \"0px\",\r\n\t},\r\n});\r\n\r\nclass Picture extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet pictureClasses = classNames(classes.root, {\r\n\t\t\t[classes.hideChat]: this.props.hideChat || this.props.fullscreen,\r\n\t\t\t[classes.fullscreen]: this.props.fullscreen,\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"picture\" elevation={3} className={pictureClasses}>\r\n\t\t\t\t<LaglessView />\r\n\t\t\t\t<LaglessBar />\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\thideChat: state.settings.hideChat,\r\n\t\tfullscreen: state.settings.fullscreen,\r\n\t};\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps))(Picture);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// react-router:\nimport { withRouter } from \"react-router\";\n\n// components:\nimport VolumeSlider from \"shared/components/general/VolumeSlider.jsx\";\n// import ViewerDropdown from \"./ViewerDropdown.jsx\";\nimport Ping from \"./Ping.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n// icons:\n// import KeyboardIcon from \"@material-ui/icons/Keyboard\";\n// import VideogameAssetIcon from \"@material-ui/icons/VideogameAsset\";\nimport { Settings as SettingsIcon, Sync as SyncIcon } from \"@material-ui/icons\";\n// import { KeyboardIcon, VideogameAssetIcon} from \"@material-ui/icons\";\nimport { Paper, Button } from \"@material-ui/core\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// redux:\nimport { connect } from \"react-redux\";\nimport { updateSettings } from \"src/actions/settings.js\";\n\n// jss:\n\nconst styles = (theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignSelf: \"center\",\n\t\twidth: \"100%\",\n\t\tpadding: \"4px 0px\",\n\t\tmarginTop: \"5px\",\n\t\t// marginTop: \"-40px\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"dark\"\n\t\t\t\t? theme.palette.primary.dark\n\t\t\t\t: theme.palette.primary.light,\n\t\t// opacity: 0,\n\t\t// zIndex: 1,\n\t\t// transition: \"all 400ms ease-in-out\",\n\t\t// \"&:hover\": {\n\t\t// opacity: 1,\n\t\t// },\n\t},\n});\n\nclass LaglessBar extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\thandleChange = (value) => {\n\t\tthis.props.setVolume(parseInt(value));\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<Paper id=\"laglessBar\" className={classes.root} elevation={3}>\n\t\t\t\t{/* <ViewerDropdown accountMap={this.props.accountMap} /> */}\n\t\t\t\t{/* <VolumeSlider\n\t\t\t\t\tvalue={this.props.volume}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tonMute={() => {\n\t\t\t\t\t\tthis.props.setVolume(0);\n\t\t\t\t\t}}\n\t\t\t\t\tonMax={() => {\n\t\t\t\t\t\tthis.props.setVolume(100);\n\t\t\t\t\t}}\n\t\t\t\t/> */}\n\t\t\t\t{/* <Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.history.push(\"/controls/controller\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\"Controls \"}\n\t\t\t\t\t<KeyboardIcon />|<VideogameAssetIcon />\n\t\t\t\t</Button> */}\n\n\t\t\t\t{this.props.videoType === \"mpeg1\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.stream.player.audio.destination.resetEnqueuedTime();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tSync Audio <SyncIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.history.push(\"/settings/site\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\"Settings \"}\n\t\t\t\t\t<SettingsIcon />\n\t\t\t\t</Button>\n\n\t\t\t\t<Ping />\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tvolume: state.settings.volume,\n\t\taccountMap: state.stream.accountMap,\n\t\tvideoType: state.stream.info.streamSettings.videoType,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetVolume: (volume) => {\n\t\t\tdispatch(updateSettings({ volume: volume }));\n\t\t},\n\t};\n};\n\n// export default connect(mapStateToProps, mapDispatchToProps)(LaglessBar);\nexport default compose(\n\twithRouter,\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(LaglessBar);\n","// react:\r\nimport React, { Component, PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// icons:\r\n\r\n// components:\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\tcolor: theme.palette.primary.contrastText,\r\n\t\tpadding: \"5px\",\r\n\t},\r\n});\r\n\r\nclass Ping extends PureComponent {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.root} elevation={3}>\r\n\t\t\t\t{this.props.ping}ms\r\n\t\t\t</Paper>\r\n\t\t);\r\n\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tping: state.stream.time.ping,\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps),\r\n)(Ping);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// libs:\r\nimport { ControllerState } from \"shared/libs/inputHandler/DeviceStates.js\";\r\nimport classNames from \"classnames\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\tcontrollerRoot: {\r\n\t\tzIndex: 100,\r\n\t\tbackground: \"transparent\",\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"13.4%\",\r\n\t},\r\n\tleftOverlay: {\r\n\t\tleft: 0,\r\n\t\twidth: \"18.4%\",\r\n\t\tposition: \"absolute\",\r\n\t\topacity: 0.5,\r\n\t},\r\n\trightOverlay: {\r\n\t\tright: 0,\r\n\t\twidth: \"18.4%\",\r\n\t\tposition: \"absolute\",\r\n\t\topacity: 0.5,\r\n\t},\r\n\ttransparent: {\r\n\t\topacity: 0.5,\r\n\t},\r\n\tleftStick1: {\r\n\t\tposition: \"absolute\",\r\n\t\twidth: \"37%\",\r\n\t\theight: \"12%\",\r\n\t\tleft: \"34.9%\",\r\n\t\ttop: \"19.8%\",\r\n\t\tborderRadius: \"50%\",\r\n\t},\r\n\tleftStick2: {\r\n\t\tposition: \"absolute\",\r\n\t\tbackground: \"#FF3C28\",\r\n\t\twidth: \"50%\",\r\n\t\theight: \"50%\",\r\n\t\tleft: \"25%\",\r\n\t\ttop: \"25%\",\r\n\t\tpointerEvents: \"none\",\r\n\t\tborderRadius: \"50%\",\r\n\t},\r\n\trightStick1: {\r\n\t\tposition: \"absolute\",\r\n\t\twidth: \"37%\",\r\n\t\theight: \"12%\",\r\n\t\tleft: \"28%\",\r\n\t\ttop: \"47.2%\",\r\n\t\tborderRadius: \"50%\",\r\n\t},\r\n\trightStick2: {\r\n\t\tposition: \"absolute\",\r\n\t\tbackground: \"#0AB9E6\",\r\n\t\twidth: \"50%\",\r\n\t\theight: \"50%\",\r\n\t\tleft: \"25%\",\r\n\t\ttop: \"25%\",\r\n\t\tpointerEvents: \"none\",\r\n\t\tborderRadius: \"50%\",\r\n\t},\r\n\timage: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n\tdpad: {\r\n\t\tposition: \"absolute\",\r\n\t\tbackground: \"transparent\",\r\n\t\twidth: \"85.25%\",\r\n\t\theight: \"27.75%\",\r\n\t\tleft: \"10%\",\r\n\t\ttop: \"39%\",\r\n\t\t\"& .up\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"34.8%\",\r\n\t\t\ttop: \"9.5%\",\r\n\t\t},\r\n\t\t\"& .down\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"34.8%\",\r\n\t\t\ttop: \"62.5%\",\r\n\t\t},\r\n\t\t\"& .left\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"7%\",\r\n\t\t\ttop: \"36%\",\r\n\t\t},\r\n\t\t\"& .right\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"63%\",\r\n\t\t\ttop: \"36%\",\r\n\t\t},\r\n\t},\r\n\tabxy: {\r\n\t\tposition: \"absolute\",\r\n\t\tbackground: \"transparent\",\r\n\t\twidth: \"85.25%\",\r\n\t\theight: \"27.75%\",\r\n\t\tleft: \"3%\",\r\n\t\ttop: \"12%\",\r\n\t\t\"& .a\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"63.2%\",\r\n\t\t\ttop: \"34.5%\",\r\n\t\t},\r\n\t\t\"& .b\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"35.2%\",\r\n\t\t\ttop: \"61%\",\r\n\t\t},\r\n\t\t\"& .x\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"35.2%\",\r\n\t\t\ttop: \"8%\",\r\n\t\t},\r\n\t\t\"& .y\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"7.2%\",\r\n\t\t\ttop: \"34.5%\",\r\n\t\t},\r\n\t},\r\n\txboxabxy: {\r\n\t\tposition: \"absolute\",\r\n\t\tbackground: \"transparent\",\r\n\t\twidth: \"85.25%\",\r\n\t\theight: \"27.75%\",\r\n\t\tleft: \"3%\",\r\n\t\ttop: \"12%\",\r\n\t\tfontSize: \"large\",\r\n\t\tfontWeight: \"bold\",\r\n\r\n\t\t\"& :after\": {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: \"0px\",\r\n\t\t\tleft: \"0px\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// height: \"50%\",\r\n\t\t\t// backgroundImage: \"linear-gradient(rgba(255,255,255,0.8),rgba(255,255,255,0.2))\",\r\n\t\t\t// borderTopLeftRadius: \"50%\",\r\n\t\t\t// borderTopRightRadius: \"50%\",\r\n\t\t\t// clipPath: \"circle(61% at 50% 100%)\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\theight: \"100%\",\r\n\t\t\tclipPath: \"circle(60% at 80% 0%)\",\r\n\t\t\tbackgroundImage:\r\n\t\t\t\t\"linear-gradient(45deg, rgba(255,255,255,0.1),rgba(255,255,255,0.3))\",\r\n\t\t\tborderRadius: \"50%\",\r\n\t\t},\r\n\r\n\t\t\"& .a\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"63.2%\",\r\n\t\t\ttop: \"34.5%\",\r\n\t\t\tcolor: \"#E53136\",\r\n\t\t\tbackgroundImage: \"linear-gradient(45deg, #000, #333)\",\r\n\t\t},\r\n\t\t\"& .b\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"35.2%\",\r\n\t\t\ttop: \"61%\",\r\n\t\t\tcolor: \"#91C85C\",\r\n\t\t\tbackgroundImage: \"linear-gradient(45deg, #000, #333)\",\r\n\t\t},\r\n\t\t\"& .x\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"35.2%\",\r\n\t\t\ttop: \"8%\",\r\n\t\t\tcolor: \"#FCE504\",\r\n\t\t\tbackgroundImage: \"linear-gradient(45deg, #000, #333)\",\r\n\t\t},\r\n\t\t\"& .y\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"7.2%\",\r\n\t\t\ttop: \"34.5%\",\r\n\t\t\tcolor: \"#0399DC\",\r\n\t\t\tbackgroundImage: \"linear-gradient(45deg, #000, #333)\",\r\n\t\t},\r\n\t},\r\n\tbutton: {\r\n\t\tbackground: \"rgba(50, 50, 50, 0.2)\",\r\n\t\twidth: \"32%\",\r\n\t\theight: \"32%\",\r\n\t\tborder: \"2px solid #333\",\r\n\t\tborderRadius: \"50%\",\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\totherButtons: {\r\n\t\tcolor: \"#FFFFFF\",\r\n\t\ttextShadow: \"2px 2px 4px #000000\",\r\n\t\t/* less round */\r\n\t\tborderRadius: \"10px !important\",\r\n\t\t\"& .minus\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"66%\",\r\n\t\t\ttop: \"6%\",\r\n\t\t\twidth: \"32%\",\r\n\t\t\theight: \"9%\",\r\n\t\t},\r\n\t\t\"& .capture\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"54%\",\r\n\t\t\ttop: \"67.5%\",\r\n\t\t\twidth: \"32%\",\r\n\t\t\theight: \"9%\",\r\n\t\t},\r\n\t\t\"& .l\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"1%\",\r\n\t\t\ttop: \"6%\",\r\n\t\t\twidth: \"60%\",\r\n\t\t\theight: \"6%\",\r\n\t\t},\r\n\t\t\"& .zl\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"1%\",\r\n\t\t\ttop: \"0%\",\r\n\t\t\twidth: \"60%\",\r\n\t\t\theight: \"6%\",\r\n\t\t},\r\n\t\t\"& .plus\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"1%\",\r\n\t\t\ttop: \"6%\",\r\n\t\t\twidth: \"32%\",\r\n\t\t\theight: \"9%\",\r\n\t\t},\r\n\t\t\"& .home\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"14%\",\r\n\t\t\ttop: \"67.5%\",\r\n\t\t\twidth: \"32%\",\r\n\t\t\theight: \"9%\",\r\n\t\t},\r\n\t\t\"& .r\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"40%\",\r\n\t\t\ttop: \"6%\",\r\n\t\t\twidth: \"60%\",\r\n\t\t\theight: \"6%\",\r\n\t\t},\r\n\t\t\"& .zr\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: \"40%\",\r\n\t\t\ttop: \"0%\",\r\n\t\t\twidth: \"60%\",\r\n\t\t\theight: \"6%\",\r\n\t\t},\r\n\t},\r\n\thighlighted: {\r\n\t\tbackground: \"rgba(80, 187, 80, 0.7)\",\r\n\t},\r\n\ttrigger1: {\r\n\t\theight: \"50%\",\r\n\t\tborderRadius: \"10px\",\r\n\t\tborderBottomLeftRadius: \"0\",\r\n\t\tborderBottomRightRadius: \"0\",\r\n\t\tzIndex: \"100\",\r\n\t},\r\n\ttrigger2: {\r\n\t\theight: \"50%\",\r\n\t\tbackground: \"rgba(80, 187, 80, 0.7)\",\r\n\t\tborderRadius: \"10px\",\r\n\t\tborderTopLeftRadius: \"0\",\r\n\t\tborderTopRightRadius: \"0\",\r\n\t},\r\n\r\n\txboxHighlighted: {\r\n\t\tbackground: \"rgba(68, 68, 68, 0.7)\",\r\n\t\t\"&.a,&.b,&.x,&.y\": {\r\n\t\t\tbackground: \"rgba(68, 68, 68, 1) !important\",\r\n\t\t},\r\n\t},\r\n\thide: {\r\n\t\tdisplay: \"none\",\r\n\t},\r\n});\r\n\r\nclass ControllerView extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.leftStickRef = React.createRef();\r\n\t\tthis.rightStickRef = React.createRef();\r\n\r\n\t\tthis.cstate = new ControllerState();\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tgetLeftStickTransform = () => {\r\n\t\tlet x = this.cstate.axes[0];\r\n\t\tlet y = this.cstate.axes[1];\r\n\r\n\t\ty *= -1;\r\n\r\n\t\tlet x2 = x * Math.sqrt(1 - (y * y) / 2) * 32;\r\n\t\tlet y2 = y * Math.sqrt(1 - (x * x) / 2) * 32;\r\n\t\t// let scale = window.outerWidth / 1920;\r\n\r\n\t\tlet scale = 1;\r\n\t\tlet stick = this.leftStickRef.current;\r\n\t\tif (stick) {\r\n\t\t\tscale = stick.clientWidth / 55;\r\n\t\t}\r\n\t\tx2 *= scale;\r\n\t\ty2 *= scale;\r\n\r\n\t\treturn `${x2}px, ${y2}px`;\r\n\t};\r\n\r\n\tgetRightStickTransform = () => {\r\n\t\tlet x = this.cstate.axes[2];\r\n\t\tlet y = this.cstate.axes[3];\r\n\r\n\t\ty *= -1;\r\n\r\n\t\tlet x2 = x * Math.sqrt(1 - (y * y) / 2) * 32;\r\n\t\tlet y2 = y * Math.sqrt(1 - (x * x) / 2) * 32;\r\n\r\n\t\tlet scale = 1;\r\n\t\tlet stick = this.rightStickRef.current;\r\n\t\tif (stick) {\r\n\t\t\tscale = stick.clientWidth / 55;\r\n\t\t}\r\n\t\tx2 *= scale;\r\n\t\ty2 *= scale;\r\n\r\n\t\treturn `${x2}px, ${y2}px`;\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.inputHandler.touchpad.touchWrapper.init(\r\n\t\t\tthis.leftStickRef.current,\r\n\t\t\tthis.rightStickRef.current,\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tif (window.inputHandler.touchpad.touchWrapper.leftStick) {\r\n\t\t\twindow.inputHandler.touchpad.touchWrapper.leftStick.destroy();\r\n\t\t}\r\n\t\tif (window.inputHandler.touchpad.touchWrapper.rightStick) {\r\n\t\t\twindow.inputHandler.touchpad.touchWrapper.rightStick.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\t// if (!this.props.displayControllers) {\r\n\t\t// \treturn this.props.children;\r\n\t\t// }\r\n\r\n\t\tthis.cstate.setState(this.props.controllerState);\r\n\r\n\t\tlet highlightedClass;\r\n\t\tlet abxyClass;\r\n\t\tif (this.props.type === \"joycon\") {\r\n\t\t\thighlightedClass = classes.highlighted;\r\n\t\t\tabxyClass = classes.abxy;\r\n\t\t} else if (this.props.type === \"xbox\") {\r\n\t\t\thighlightedClass = classes.xboxHighlighted;\r\n\t\t\tabxyClass = classes.xboxabxy;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classNames(classes.controllerRoot, {\r\n\t\t\t\t\t\t[classes.leftOverlay]: this.props.overlay,\r\n\t\t\t\t\t\t[classes.hide]: this.props.hideControllers,\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={classNames(classes.image, {\r\n\t\t\t\t\t\t\t[classes.transparent]: this.props.overlay,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tsrc={`${window.location.origin}/images/leftJoyCon2.png`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={this.leftStickRef}\r\n\t\t\t\t\t\tclassName={classNames(classes.leftStick1, {\r\n\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.lstick,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.leftStick2}\r\n\t\t\t\t\t\t\tstyle={{ transform: `translate(${this.getLeftStickTransform()})` }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.dpad}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"up\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.up,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"down\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.down,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"left\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.left,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"right\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.right,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.otherButtons}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"minus\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.minus,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"capture\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.capture,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"l\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.l,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"click-passthrough\">\r\n\t\t\t\t\t\t\t\t{this.props.type === \"xbox\" ? \"LB\" : \"L\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classNames(classes.button, classes.otherButtons, \"zl\")}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classNames(classes.trigger1, {\r\n\t\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.zl,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.type === \"xbox\" ? \"LT\" : \"ZL\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.trigger2}\r\n\t\t\t\t\t\t\t\tstyle={{ width: this.cstate.axes[4] * 100 + \"%\" }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.props.children}\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classNames(classes.controllerRoot, {\r\n\t\t\t\t\t\t[classes.rightOverlay]: this.props.overlay,\r\n\t\t\t\t\t\t[classes.hide]: this.props.hideControllers,\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName={classNames(classes.image, {\r\n\t\t\t\t\t\t\t[classes.transparent]: this.props.overlay,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tsrc={`${window.location.origin}/images/rightJoyCon2.png`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tref={this.rightStickRef}\r\n\t\t\t\t\t\tclassName={classNames(classes.rightStick1, {\r\n\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.rstick,\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classes.rightStick2}\r\n\t\t\t\t\t\t\tstyle={{ transform: `translate(${this.getRightStickTransform()})` }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={abxyClass}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"a\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.a,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.type === \"xbox\" && \"A\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"b\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.b,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.type === \"xbox\" && \"B\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"x\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.x,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.type === \"xbox\" && \"X\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, \"y\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.y,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.props.type === \"xbox\" && \"Y\"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.otherButtons}>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"plus\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.plus,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"home\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.home,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classNames(classes.button, classes.otherButtons, \"r\", {\r\n\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.r,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"click-passthrough\">\r\n\t\t\t\t\t\t\t\t{this.props.type === \"xbox\" ? \"RB\" : \"R\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classNames(classes.button, classes.otherButtons, \"zr\")}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classNames(classes.trigger1, {\r\n\t\t\t\t\t\t\t\t\t[highlightedClass]: this.cstate.buttons.zr,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.props.type === \"xbox\" ? \"RT\" : \"ZR\"}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classes.trigger2}\r\n\t\t\t\t\t\t\t\tstyle={{ width: this.cstate.axes[5] * 100 + \"%\" }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(ControllerView);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\nimport VolumeSlider from \"shared/components/general/VolumeSlider.jsx\";\r\n\r\n// material ui:\r\nimport {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n\tPaper,\r\n\tIconButton,\r\n} from \"@material-ui/core\";\r\n\r\n// icons:\r\nimport {\r\n\tFullscreen as FullscreenIcon,\r\n\tFullscreenExit as FullscreenExitIcon,\r\n\tMouse as MouseIcon,\r\n\tSportsEsports as SportsEsportsIcon,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport classNames from \"classnames\";\r\nimport { toggleFullscreen } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\topacity: 0.5,\r\n\t\tposition: \"absolute\",\r\n\t\talignSelf: \"flex-end\",\r\n\t},\r\n\tsettingsButtons: {\r\n\t\tdisplay: \"flex\",\r\n\t\t// justifyContent: \"flex-end\",\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n});\r\n\r\nclass HoverMenu extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmouseAlertOpen: false,\r\n\t\t};\r\n\t}\r\n\r\n\thandleVolumeChange = (value) => {\r\n\t\tthis.props.updateSettings({ volume: parseInt(value) });\r\n\t};\r\n\r\n\thandleRequestMouse = () => {\r\n\t\tif (this.props.loggedIn && !window.inputHandler.mouse.settings.enabled) {\r\n\t\t\tthis.setState({ mouseAlertOpen: true });\r\n\t\t}\r\n\t};\r\n\r\n\thandleCloseMouseAlert = () => {\r\n\t\tthis.setState({ mouseAlertOpen: false });\r\n\t\twindow.inputHandler.mouse.toggle(false);\r\n\t};\r\n\r\n\tenableMouseControls = () => {\r\n\t\tthis.setState({ mouseAlertOpen: false });\r\n\r\n\t\t// let id = null;\r\n\t\t// if (this.props.videoType === \"mpeg1\") {\r\n\t\t// \tid = \"canvas\";\r\n\t\t// } else if (this.props.videoType === \"webRTC\") {\r\n\t\t// \tid = \"video\";\r\n\t\t// }\r\n\t\t// window.inputHandler.mouse.init(document.getElementById(id));\r\n\r\n\t\twindow.inputHandler.mouse.init(this.props.graphicsCanvasRef.current);\r\n\t\twindow.inputHandler.mouse.toggle(true);\r\n\t\twindow.inputHandler.keyboard.init();\r\n\t\twindow.inputHandler.keyboard.toggle(true);\r\n\t};\r\n\r\n\thandleToggleControllerView = () => {\r\n\t\tlet state = !this.props.settings.controllerView;\r\n\t\tthis.props.updateSettings({ controllerView: state });\r\n\t\tif (state && this.props.settings.largescreen) {\r\n\t\t\tthis.props.updateSettings({ largescreen: false });\r\n\t\t} else if (!state && !this.props.settings.largescreen) {\r\n\t\t\tthis.props.updateSettings({ largescreen: true });\r\n\t\t}\r\n\t\tsetTimeout(() => {\r\n\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t}, 200);\r\n\t};\r\n\r\n\thandleToggleFullscreen = () => {\r\n\t\tlet state = !this.props.settings.fullscreen;\r\n\t\tif (state) {\r\n\t\t\t// $(document).scrollTop(0);\r\n\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t\t\t// $(\"body\").addClass(\"hideScrollbar\");\r\n\t\t\t// $(\"#root\").children()[0].style.padding = \"0\";\r\n\t\t\tthis.props.updateSettings({\r\n\t\t\t\tfullscreen: state,\r\n\t\t\t\tcontrollerView: false,\r\n\t\t\t\thideChat: true,\r\n\t\t\t\thideNav: true,\r\n\t\t\t});\r\n\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t} else {\r\n\t\t\t// console.log(\"exiting fullscreen\");\r\n\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\t\t\t// $(\"#root\").children()[0].style.padding = \"\";\r\n\t\t\tthis.props.updateSettings({\r\n\t\t\t\tfullscreen: state,\r\n\t\t\t\tlargescreen: false,\r\n\t\t\t\tcontrollerView: true,\r\n\t\t\t\thideChat: false,\r\n\t\t\t\thideNav: false,\r\n\t\t\t});\r\n\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t}\r\n\t};\r\n\r\n\thandleMouseLeave = () => {};\r\n\r\n\trender() {\r\n\t\tconst { classes, videoClasses } = this.props;\r\n\r\n\t\tif (!this.props.open) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Paper\r\n\t\t\t\tclassName={classNames(classes.root, videoClasses)}\r\n\t\t\t\tonMouseEnter={this.handleMouseLeave}\r\n\t\t\t\tonMouseLeave={this.handleMouseLeave}\r\n\t\t\t>\r\n\t\t\t\t<VolumeSlider\r\n\t\t\t\t\tvalue={this.props.volume}\r\n\t\t\t\t\thandleChange={this.handleVolumeChange}\r\n\t\t\t\t\tonMute={() => {\r\n\t\t\t\t\t\tthis.props.updateSettings({ volume: 0 });\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonMax={() => {\r\n\t\t\t\t\t\tthis.props.updateSettings({ volume: 100 });\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={classes.settingsButtons}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\tonClick={this.handleToggleControllerView}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SportsEsportsIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton color=\"inherit\" className=\"\" onClick={this.handleRequestMouse}>\r\n\t\t\t\t\t\t<MouseIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton color=\"inherit\" className=\"\" onClick={this.handleToggleFullscreen}>\r\n\t\t\t\t\t\t{this.props.settings.fullscreen ? <FullscreenExitIcon /> : <FullscreenIcon />}\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.mouseAlertOpen}\r\n\t\t\t\t\tonClose={this.handleCloseMouseAlert}\r\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Activate Mouse Controls?\"}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t\tEnabling this will let you control the stream with your mouse.\r\n\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleCloseMouseAlert} color=\"primary\">\r\n\t\t\t\t\t\t\tNo\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.enableMouseControls}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tYes\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tvolume: state.settings.volume,\r\n\t\tsettings: state.settings,\r\n\t\tloggedIn: state.client.loggedIn,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(HoverMenu);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\nimport HoverMenu from \"./HoverMenu.jsx\";\n\n// material ui:\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from \"@material-ui/core\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport classNames from \"classnames\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\t// marginLeft: \"5px\",\n\t\t// marginRight: \"5px\",\n\t\ttextAlign: \"center\",\n\t},\n\toverlay: {\n\t\tposition: \"absolute\",\n\t},\n});\n\nclass LaglessCanvas extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// this.videoRef = React.createRef();\n\t\tthis.graphicsCanvasRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\thoverMenuOpen: false,\n\t\t};\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({ hoverMenuOpen: true });\n\t};\n\n\thandleMouseEnter = () => {\n\t\tthis.setState({ hoverMenuOpen: true });\n\t};\n\n\thandleMouseLeave = (event) => {\n\t\tthis.setState({ hoverMenuOpen: false });\n\t};\n\n\trender() {\n\t\tconst { classes, videoClasses } = this.props;\n\n\t\tlet videoCanvas = null;\n\t\tif (this.props.videoType === \"mpeg1\") {\n\t\t\tvideoCanvas = (\n\t\t\t\t<canvas\n\t\t\t\t\tid=\"videoCanvas\"\n\t\t\t\t\t// onClick={this.handleClick}\n\t\t\t\t\tclassName={videoClasses}\n\t\t\t\t\t// ref={this.videoRef}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (this.props.videoType === \"webRTC\") {\n\t\t\tvideoCanvas = (\n\t\t\t\t<video\n\t\t\t\t\tid=\"videoCanvas\"\n\t\t\t\t\t// onClick={this.handleClick}\n\t\t\t\t\tclassName={videoClasses}\n\t\t\t\t\t// ref={this.videoRef}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{ display: \"contents\" }}\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t>\n\t\t\t\t{videoCanvas}\n\t\t\t\t<canvas\n\t\t\t\t\tid=\"graphicsCanvas\"\n\t\t\t\t\tclassName={classNames(videoClasses, classes.overlay)}\n\t\t\t\t\tref={this.graphicsCanvasRef}\n\t\t\t\t\tstyle={{ position: \"absolute\" }}\n\t\t\t\t\twidth=\"1280\"\n\t\t\t\t\theight=\"720\"\n\t\t\t\t/>\n\n\t\t\t\t<HoverMenu\n\t\t\t\t\topen={this.state.hoverMenuOpen}\n\t\t\t\t\tvideoClasses={videoClasses}\n\t\t\t\t\tgraphicsCanvasRef={this.graphicsCanvasRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tvideoType: state.stream.info.streamSettings.videoType,\n\t\tloggedIn: state.client.loggedIn,\n\t};\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(LaglessCanvas);\n","// react:\nimport React, { PureComponent } from \"react\";\n\nimport LaglessCanvas from \"./LaglessCanvas.jsx\";\nimport ControllerView from \"./ControllerView.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport classNames from \"classnames\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\t// marginLeft: \"5px\",\n\t\t// marginRight: \"5px\",\n\t\ttextAlign: \"center\",\n\t},\n\tnotFullscreen: {\n\t\twidth: \"73.2%\",\n\t\t// alignSelf: \"center\",\n\t},\n\tofflineMessage: {\n\t\tdisplay: \"flex\",\n\t\tflexGrow: 1,\n\t\tfontSize: \"1.5em\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\theight: \"30vw\",\n\t\t// minHeight: \"550px\",\n\t},\n\tfullscreen: {\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\tborder: \"none\",\n\t},\n});\n\nclass LaglessView extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\tlet laglessClasses = classNames(classes.root, {\n\t\t\t[classes.fullscreen]: this.props.largescreen || this.props.fullscreen,\n\t\t});\n\n\t\t// let displayLagless = this.props.loggedIn && !this.props.waitlisted;\n\t\t// let displayLagless = true;\n\n\t\tif (!this.props.streamOnline) {\n\t\t\twindow.inputHandler.mouse.toggle(false);\n\t\t}\n\n\t\tlet videoClasses = classNames({\n\t\t\t[classes.fullscreen]: this.props.largescreen || this.props.fullscreen,\n\t\t\t[classes.notFullscreen]: !(this.props.largescreen || this.props.fullscreen),\n\t\t});\n\n\t\tlet controllerNumber = 0;\n\n\t\tlet isXbox = false;\n\t\tlet controllerType = isXbox ? \"xbox\" : \"joycon\";\n\n\t\tlet displayLagless = this.props.streamOnline ? (\n\t\t\t<LaglessCanvas videoClasses={videoClasses} />\n\t\t) : (\n\t\t\t<div className={classes.offlineMessage}>This stream is offline.</div>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={laglessClasses}>\n\t\t\t\t{/* {this.props.controllerView ? (\n\t\t\t\t\t<ControllerView\n\t\t\t\t\t\toverlay={this.props.mobileMode}\n\t\t\t\t\t\tcontrollerState={this.props.controllerStates[controllerNumber]}\n\t\t\t\t\t\ttype={controllerType}\n\t\t\t\t\t>\n\t\t\t\t\t\t{displayLagless}\n\t\t\t\t\t</ControllerView>\n\t\t\t\t) : (\n\t\t\t\t\tdisplayLagless\n\t\t\t\t)} */}\n\n\t\t\t\t<ControllerView\n\t\t\t\t\toverlay={this.props.mobileMode}\n\t\t\t\t\tcontrollerState={this.props.controllerStates[controllerNumber]}\n\t\t\t\t\ttype={controllerType}\n\t\t\t\t\thideControllers={!this.props.controllerView}\n\t\t\t\t>\n\t\t\t\t\t{displayLagless}\n\t\t\t\t</ControllerView>\n\n\t\t\t\t{/* <ControllerView\n\t\t\t\t\t\thide={!this.props.controllerView}\n\t\t\t\t\t\toverlay={this.props.mobileMode}\n\t\t\t\t\t\tcontrollerState={this.props.controllerStates[controllerNumber]}\n\t\t\t\t\t\ttype={controllerType}\n\t\t\t\t\t>\n\t\t\t\t\t\t{displayLagless}\n\t\t\t\t\t</ControllerView> */}\n\n\t\t\t\t{/* <ControllerView\n\t\t\t\t\tdisplayControllers={this.props.controllerView}\n\t\t\t\t\toverlay={this.props.mobileMode}\n\t\t\t\t\tcontrollerState={this.props.controllerStates[controllerNumber]}\n\t\t\t\t\ttype={controllerType}\n\t\t\t\t>\n\t\t\t\t\t{displayLagless}\n\t\t\t\t</ControllerView> */}\n\n\t\t\t\t{/* {displayLagless} */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tloggedIn: state.client.loggedIn,\n\t\twaitlisted: state.client.waitlisted,\n\t\tcontrollerStates: state.stream.players.controllerStates,\n\t\tcontrollerView: state.settings.controllerView, // whether to render the joycons\n\t\tfullscreen: state.settings.fullscreen,\n\t\tlargescreen: state.settings.largescreen,\n\t\tmobileMode: state.settings.mobileMode,\n\t\tstreamOnline: state.stream.info.online,\n\t};\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(LaglessView);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// components:\r\nimport PlayerInfo from \"./playerInfo/PlayerInfo.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tgridArea: \"info\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\twidth: \"100%\",\r\n\t\tpadding: 0,\r\n\t\tmargin: 0,\r\n\t\toverflowX: \"hidden\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n});\r\n\r\nclass StreamInfo extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (!this.props.streamOnline) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<PlayerInfo />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstreamOnline: state.stream.info.online,\r\n\t};\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps))(StreamInfo);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// components:\nimport Player from \"./player/Player.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport { device } from \"shared/libs/utils.js\";\n\n// jss:\nconst styles = {\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\toverflowX: \"hidden\",\n\t\t// padding: \"10px\",\n\t\tflexWrap: \"wrap\",\n\t},\n\t[device.tablet]: {\n\t\troot: {\n\t\t\tflexDirection: \"row\",\n\t\t\t// width: \"100%\",\n\t\t\t// padding: \"5px\",\n\t\t},\n\t},\n\t[device.laptop]: {\n\t\troot: {\n\t\t\t// width: \"24%\",\n\t\t\t// padding: \"5px\",\n\t\t},\n\t},\n};\n\nclass PlayerInfo extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tmapPlayers = () => {\n\t\tlet players = [];\n\n\t\tfor (let i = 0; i < this.props.playerCount; i++) {\n\t\t\tplayers.push(<Player key={i} num={i} />);\n\t\t}\n\n\t\treturn players;\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn <div className={classes.root}>{this.mapPlayers()}</div>;\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tplayerCount: state.stream.info.streamSettings.playerCount,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(PlayerInfo);\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// components:\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport Username from \"shared/components/account/Username.jsx\";\n\n// recompose:\nimport { compose } from \"recompose\";\nimport classNames from \"classnames\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tbackgroundColor: theme.palette.background.paper,\n\t},\n\tlistItem: {\n\t\tcursor: \"pointer\",\n\t\tuserSelect: \"none\",\n\t\twidth: \"100%\",\n\t},\n\thighlighted: {\n\t\t// backgroundColor: \"#DDE263\",\n\t\tbackgroundColor: theme.palette.secondary.light,\n\t},\n});\n\nclass ControlQueue extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tgetQueue() {\n\t\tconst { classes } = this.props;\n\n\t\tlet queue = [];\n\t\tlet userids = this.props.controlQueues[this.props.num];\n\n\t\tif (userids.length == 0) {\n\t\t\treturn (\n\t\t\t\t<ListItem key=\"0\">\n\t\t\t\t\t<ListItemText primary=\"The queue is empty.\" />\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t}\n\n\t\tfor (let i = 0; i < userids.length; i++) {\n\t\t\tlet username = this.props.accountMap[userids[i]];\n\t\t\tusername = username ? username.username : (userids[i].indexOf(\"guest\") > -1) ? userids[i] : \"loading\";\n\t\t\tlet listItemClasses = classNames(classes.listItem, {\n\t\t\t\t[classes.highlighted]: this.props.userid == userids[i],\n\t\t\t});\n\n\t\t\tqueue.push(\n\t\t\t\t<Username key={i} style={{ width: \"100%\" }} userid={userids[i]}>\n\t\t\t\t\t<ListItem button key={i} className={listItemClasses} userid={userids[i]}>\n\t\t\t\t\t\t<ListItemText primary={username} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Username>,\n\t\t\t);\n\t\t}\n\n\t\treturn queue;\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn <List className={classes.root}>{this.getQueue()}</List>;\n\t}\n}\n\n// ControlQueue.propTypes = {\n// \tcontrolQueues: PropTypes.arrayOf(\n// \t\tPropTypes.arrayOf(\n// \t\t\tPropTypes.string.isRequired\n// \t\t),\n// \t).isRequired\n// };\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuserid: state.client.userid,\n\t\tcontrolQueues: state.stream.players.controlQueues,\n\t\taccountMap: state.stream.accountMap,\n\t};\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(ControlQueue);\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// components:\nimport MyCheckbox from \"shared/components/general/MyCheckbox.jsx\";\nimport TurnTimers from \"./TurnTimers.jsx\";\nimport QueueButton from \"./QueueButton.jsx\";\nimport ControlQueue from \"./ControlQueue.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// actions:\nimport { updateSettings } from \"src/actions/settings.js\";\nimport { joinLeavePlayerControlQueue } from \"src/features/players.js\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport { device } from \"shared/libs/utils.js\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tpadding: \"5px\",\n\t},\n\t[device.tablet]: {\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t\t// padding: \"5px\",\n\t\t},\n\t},\n\t[device.laptop]: {\n\t\troot: {\n\t\t\twidth: \"24%\",\n\t\t\t// padding: \"5px\",\n\t\t},\n\t},\n});\n\nclass Player extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.choosePlayer = this.choosePlayer.bind(this);\n\n\t\tthis.state = {};\n\t}\n\n\tchoosePlayer() {\n\t\tfor (let i = 0; i < 9; i++) {\n\t\t\tthis.props.joinLeavePlayerControlQueue({ cNum: i, joinLeave: \"leave\" });\n\t\t}\n\t\tthis.props.choosePlayer(this.props.num);\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Paper elevation={4} className={classes.root}>\n\t\t\t\t<MyCheckbox\n\t\t\t\t\ttext={`Player ${this.props.num + 1}`}\n\t\t\t\t\thandleChange={this.choosePlayer}\n\t\t\t\t\tchecked={this.props.currentPlayer == this.props.num}\n\t\t\t\t/>\n\t\t\t\t<TurnTimers num={this.props.num} />\n\t\t\t\t<QueueButton\n\t\t\t\t\tnum={this.props.num}\n\t\t\t\t\tcontrolQueue={this.props.controlQueues[this.props.num]}\n\t\t\t\t\tuserid={this.props.userid}\n\t\t\t\t/>\n\t\t\t\t<ControlQueue num={this.props.num} />\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tcontrolQueues: state.stream.players.controlQueues,\n\t\tuserid: state.client.userid,\n\t\tcurrentPlayer: state.settings.currentPlayer,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tchoosePlayer: (index) => {\n\t\t\tdispatch(updateSettings({ currentPlayer: index }));\n\t\t},\n\t\tjoinLeavePlayerControlQueue: (data) => {\n\t\t\tdispatch(joinLeavePlayerControlQueue(data));\n\t\t},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(Player);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { joinLeavePlayerControlQueue } from \"src/features/players.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n});\r\n\r\nclass QueueButton extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tjoinLeaveQueue = () => {\r\n\t\t// if (!this.props.userid) {\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\tif (this.props.controlQueue.indexOf(this.props.userid) > -1) {\r\n\t\t\twindow.inputHandler.mouse.toggle(false);\r\n\t\t\tthis.props.joinLeavePlayerControlQueue({\r\n\t\t\t\tcNum: this.props.num,\r\n\t\t\t\tjoinLeave: \"leave\",\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.props.joinLeavePlayerControlQueue({ cNum: this.props.num, joinLeave: \"join\" });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet buttonText;\r\n\r\n\t\tif (this.props.controlQueue.indexOf(this.props.userid) > -1) {\r\n\t\t\tbuttonText = \"Leave Queue\";\r\n\t\t} else {\r\n\t\t\tbuttonText = \"Join Queue\";\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Button className={classes.root} variant=\"contained\" onClick={this.joinLeaveQueue}>\r\n\t\t\t\t{buttonText}\r\n\t\t\t</Button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tjoinLeavePlayerControlQueue: (data) => {\r\n\t\t\tdispatch(joinLeavePlayerControlQueue(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(QueueButton);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { LinearProgress } from \"@material-ui/core\";\n\n// libs:\nimport classNames from \"classnames\";\n\n// jss:\nconst styles = {\n\troot: {\n\t\tposition: \"relative\",\n\t\tmarginBottom: \"5px\",\n\t},\n\tturnText: {\n\t\twidth: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0px\",\n\t\tlineHeight: \"24px\",\n\t},\n\tforfeitText: {\n\t\twidth: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0px\",\n\t\tlineHeight: \"15px\",\n\t},\n\tturn: {\n\t\theight: \"24px\",\n\t\tborderRadius: \"6px\",\n\t},\n\tforfeit: {\n\t\theight: \"15px\",\n\t\tborderRadius: \"6px\",\n\t},\n};\n\nclass TurnTimer extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tgetBarText() {\n\t\tif (this.props.name == null) {\n\t\t\tif (this.props.type == \"turn\") {\n\t\t\t\treturn \"No one is playing right now.\";\n\t\t\t} else if (this.props.type == \"forfeit\") {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.props.type == \"turn\") {\n\t\t\t\treturn `${this.props.name}: ${this.props.timeLeft} seconds`;\n\t\t\t} else if (this.props.type == \"forfeit\") {\n\t\t\t\treturn `${this.props.timeLeft} seconds until turn forfeit.`;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetStyle() {\n\t\tif (this.props.name == null) {\n\t\t\treturn { width: \"100%\" };\n\t\t} else {\n\t\t\treturn { width: this.props.percent + \"%\" };\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\tlet isTurn = this.props.type == \"turn\";\n\t\tlet color = isTurn ? \"primary\" : \"secondary\";\n\t\tlet override = classNames({ [classes.turn]: isTurn, [classes.forfeit]: !isTurn });\n\t\tlet value = this.props.name == null ? 100 : this.props.percent;\n\t\tlet textClass = classNames({\n\t\t\t[classes.turnText]: isTurn,\n\t\t\t[classes.forfeitText]: !isTurn,\n\t\t});\n\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<LinearProgress\n\t\t\t\t\tclasses={{ root: override }}\n\t\t\t\t\tvariant=\"determinate\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tcolor={color}\n\t\t\t\t/>\n\t\t\t\t<div className={textClass}>{this.getBarText()}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// const mapStateToProps = (state) => {\n// \treturn {\n// \t\ttime: state.time,\n// \t\tturnTimers: state.players.turnTimers,\n// \t};\n// };\n//\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {};\n// };\n//\n// export default connect(mapStateToProps, mapDispatchToProps)(TurnTimer);\n\nexport default withStyles(styles)(TurnTimer);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\nimport TurnTimer from \"./TurnTimer.jsx\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nclass TurnTimers extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\ttime: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.interval = setInterval(() => {\r\n\t\t\tthis.setState({ time: Date.now() });\r\n\t\t}, 1000);\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet n = this.props.num;\r\n\r\n\t\tlet serverTime = this.props.time.server;\r\n\t\tlet now = Date.now() - this.props.time.lastServerUpdate + serverTime;\r\n\t\t// let elapsedTime = now - serverTime;\r\n\r\n\t\t// turn:\r\n\t\tlet turnStartTime = this.props.turnTimers[n].turnStartTime;\r\n\t\tlet turnLength = this.props.turnTimers[n].turnLength;\r\n\t\tlet turnTimeLeft = turnLength - (now - turnStartTime);\r\n\t\tlet turnTimeLeftPercent = (turnTimeLeft / turnLength) * 100;\r\n\r\n\t\t// forfeit:\r\n\t\tlet forfeitStartTime = this.props.turnTimers[n].forfeitStartTime;\r\n\t\tlet forfeitLength = this.props.turnTimers[n].forfeitLength;\r\n\t\tlet forfeitTimeLeft = forfeitLength - (now - forfeitStartTime);\r\n\t\tlet forfeitTimeLeftPercent = (forfeitTimeLeft / forfeitLength) * 100;\r\n\r\n\t\tlet userid = this.props.controlQueues[n][0];\r\n\t\tlet username = this.props.accountMap[userid];\r\n\t\tusername = username ? username.username : (userid && userid.indexOf(\"guest\") > -1) ? userid : \"loading\";\r\n\t\tif (!userid) {\r\n\t\t\tusername = null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<TurnTimer\r\n\t\t\t\t\ttype=\"turn\"\r\n\t\t\t\t\tname={username}\r\n\t\t\t\t\ttimeLeft={parseInt(turnTimeLeft / 1000)}\r\n\t\t\t\t\tpercent={parseInt(turnTimeLeftPercent)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TurnTimer\r\n\t\t\t\t\ttype=\"forfeit\"\r\n\t\t\t\t\tname={username}\r\n\t\t\t\t\ttimeLeft={parseInt(forfeitTimeLeft / 1000)}\r\n\t\t\t\t\tpercent={parseInt(forfeitTimeLeftPercent)}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttime: state.stream.time,\r\n\t\tturnTimers: state.stream.players.turnTimers,\r\n\t\tcontrolQueues: state.stream.players.controlQueues,\r\n\t\taccountMap: state.stream.accountMap,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TurnTimers);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// react-router:\nimport { withRouter } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// main components:\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n\tCard,\n\tCardActionArea,\n\tCardContent,\n\tCardMedia,\n\tTypography,\n\tPaper,\n} from \"@material-ui/core\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\nimport { device } from \"shared/libs/utils.js\";\nimport classNames from \"classnames\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\t// width: \"100%\",\n\t\tpadding: \"1%\",\n\t\t// margin: \"0 1%\",\n\t\tdisplay: \"grid\",\n\t\tjustifyContent: \"center\",\n\t\t// gridTemplateRows: \"repeat(4, 1fr)\",\n\t\t// gridTemplateRows: \"repeat(4, 400px)\",\n\t\t// gridTemplateColumns: \"repeat(2, 1fr)\",\n\t\t// gridTemplateColumns: \"repeat(3, 1fr)\",\n\t\tgridTemplateColumns: \"repeat(auto-fit, 300px)\",\n\t\t// gridGap: \"10px\",\n\t\tgridGap: \"60px 40px\",\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.enteringScreen,\n\t\t}),\n\t},\n\tdrawerOpen: {\n\t\tmarginLeft: \"240px\",\n\t\twidth: \"calc(100% - 240px)\",\n\t},\n\tdrawerClose: {\n\t\twidth: \"100%\",\n\t},\n\tcard: {\n\t\twidth: 300,\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tmarginRight: \"auto\",\n\t},\n\tmedia: {\n\t\theight: 168,\n\t},\n\t[device.tablet]: {\n\t\troot: {\n\t\t\t// gridTemplateRows: \"repeat(4, 1fr)\",\n\t\t\t// gridTemplateColumns: \"repeat(3, 1fr)\",\n\t\t},\n\t\tmedia: {\n\t\t\t// height: 160,\n\t\t},\n\t},\n\t[device.laptop]: {\n\t\troot: {\n\t\t\t// gridTemplateRows: \"repeat(4, 1fr)\",\n\t\t\t// gridTemplateColumns: \"repeat(4, 1fr)\",\n\t\t},\n\t\tmedia: {\n\t\t\t// height: 180,\n\t\t},\n\t},\n});\n\nconst DUMMY_URL =\n\t\"https://dummyimage.com/1280x720/000000/fff.png&text=No+thumbnail+specified\";\n\nclass StreamList extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\trenderStreams = () => {\n\t\tconst { classes, streams } = this.props;\n\n\t\tlet cards = [];\n\n\t\t// for (let i = 0; i < 30; i++) {\n\t\t// \tlet stream = {\n\t\t// \t\tusername: \"fosse\",\n\t\t// \t\tthumbnailURL: \"https://remotegames.io/images/smo.png\",\n\t\t// \t\ttitle: \"Nintendo Switch\",\n\t\t// \t};\n\t\t// \tstreams.push(stream);\n\t\t// }\n\n\t\tfor (let i = 0; i < streams.length; i++) {\n\t\t\tlet stream = streams[i];\n\t\t\tlet card = (\n\t\t\t\t<Link key={i} to={`/s/${stream.username}`}>\n\t\t\t\t\t<Card className={classes.card} elevation={5}>\n\t\t\t\t\t\t<CardActionArea\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.history.push(`/s/${stream.username}`);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* todo: put a default thumbnail here: */}\n\t\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\t\t\timage={stream.thumbnailURL || DUMMY_URL}\n\t\t\t\t\t\t\t\ttitle=\"Photo\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography component=\"p\">{stream.title || \"Untitled Stream\"}</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"p\">{stream.username}</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\n\t\t\t\t</Link>\n\t\t\t);\n\t\t\tcards.push(card);\n\t\t}\n\n\t\tif (cards.length === 0) {\n\t\t\treturn (\n\t\t\t\t<Paper elevation={4} style={{ width: 300 }}>\n\t\t\t\t\t<Typography component=\"p\">No streams online right now.</Typography>\n\t\t\t\t</Paper>\n\t\t\t);\n\t\t}\n\n\t\treturn cards;\n\t};\n\n\tcomponentDidMount() {}\n\n\trender() {\n\t\tconsole.log(\"re-rendering streams.\");\n\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\tclassName={classNames(classes.root, {\n\t\t\t\t\t[classes.drawerOpen]: this.props.drawerOpen,\n\t\t\t\t\t[classes.drawerClose]: !this.props.drawerOpen,\n\t\t\t\t})}\n\t\t\t\televation={5}\n\t\t\t>\n\t\t\t\t{this.renderStreams()}\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default compose(\n\twithRouter,\n\twithStyles(styles, { withTheme: true }),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(StreamList);\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// react-router:\nimport { withRouter } from \"react-router\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// main components:\nimport MyAppBar from \"shared/components/general/MyAppBar.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// components:\nimport { Button, MenuItem, IconButton, Typography, InputBase } from \"@material-ui/core\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\n\n// icons:\nimport {\n\tMenu as MenuIcon,\n\tSearch as SearchIcon,\n\tAccountCircle,\n} from \"@material-ui/icons\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\n\ttitle: {\n\t\tdisplay: \"none\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t\tcursor: \"pointer\",\n\t},\n\tsearch: {\n\t\tposition: \"relative\",\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25),\n\t\t},\n\t\tmarginRight: theme.spacing(2),\n\t\tmarginLeft: 0,\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tmarginLeft: theme.spacing(3),\n\t\t\twidth: \"auto\",\n\t\t},\n\t},\n\tsearchIcon: {\n\t\twidth: theme.spacing(9),\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\tpointerEvents: \"none\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\tinputRoot: {\n\t\tcolor: \"inherit\",\n\t\twidth: \"100%\",\n\t},\n\tinputInput: {\n\t\tpaddingTop: theme.spacing(1),\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingBottom: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(10),\n\t\ttransition: theme.transitions.create(\"width\"),\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: 200,\n\t\t},\n\t},\n});\n\nclass StreamsAppBar extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {}\n\n\thandleLoginRegister = () => {\n\t\tthis.props.history.push(\"/login\");\n\t};\n\n\thandleAccount = () => {\n\t\tthis.props.history.push(\"/account\");\n\t};\n\n\thandleDownloadHostFiles = () => {\n\t\twindow.open(\"https://remotegames.io/8099/download/\", \"_blank\");\n\t};\n\n\thandleProjectDiscord = () => {\n\t\twindow.open(\"https://discord.io/rgio/\", \"_blank\");\n\t};\n\n\thandleDevDiscord = () => {\n\t\twindow.open(\"https://discord.io/fosse/\", \"_blank\");\n\t};\n\n\trender() {\n\t\tconsole.log(\"re-rendering streamsappbar.\");\n\n\t\tconst { classes } = this.props;\n\n\t\tif (this.props.hide) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst mobileMenu = (\n\t\t\t<div>\n\t\t\t\t<MenuItem onClick={this.handleAccount}>\n\t\t\t\t\t<IconButton color=\"inherit\">\n\t\t\t\t\t\t<AccountCircle />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<p>Profile</p>\n\t\t\t\t</MenuItem>\n\t\t\t\t{/* <MenuItem onClick={this.handleDownloadHostFiles}>\n\t\t\t\t\t<p>Download Host Files</p>\n\t\t\t\t</MenuItem> */}\n\t\t\t\t<MenuItem onClick={this.handleProjectDiscord}>\n\t\t\t\t\t<p>Project Discord Server</p>\n\t\t\t\t</MenuItem>\n\t\t\t\t{/* <MenuItem onClick={this.handleDevDiscord}>\n\t\t\t\t\t<p>Dev's Discord Server</p>\n\t\t\t\t</MenuItem> */}\n\t\t\t</div>\n\t\t);\n\n\t\tlet main = (\n\t\t\t<>\n\t\t\t\t<IconButton\n\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\taria-label=\"Open drawer\"\n\t\t\t\t\tonClick={this.props.handleToggleDrawer}\n\t\t\t\t>\n\t\t\t\t\t<MenuIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography\n\t\t\t\t\tclassName={classes.title}\n\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tnoWrap\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.history.push(\"/\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tStreams\n\t\t\t\t</Typography>\n\t\t\t\t{/* <div className={classes.search}>\n\t\t\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t</div>\n\t\t\t\t\t<InputBase\n\t\t\t\t\t\tplaceholder=\"Search…\"\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t\t\t\tinput: classes.inputInput,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div> */}\n\t\t\t</>\n\t\t);\n\n\t\tlet desktop = (\n\t\t\t<>\n\t\t\t\t<div className={classes.grow} />\n\t\t\t\t{/* <Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={this.handleDownloadHostFiles}\n\t\t\t\t>\n\t\t\t\t\tDownload Host Files\n\t\t\t\t</Button> */}\n\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={this.handleProjectDiscord}\n\t\t\t\t>\n\t\t\t\t\tProject Discord\n\t\t\t\t</Button>\n\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t{/* <Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={this.handleDevDiscord}\n\t\t\t\t>\n\t\t\t\t\tDev's Discord\n\t\t\t\t</Button> */}\n\t\t\t\t<IconButton onClick={this.handleAccount} color=\"inherit\">\n\t\t\t\t\t<AccountCircle />\n\t\t\t\t</IconButton>\n\t\t\t</>\n\t\t);\n\n\t\tlet mobile = <div></div>;\n\n\t\tif (!this.props.loggedIn) {\n\t\t\tmobile = desktop = (\n\t\t\t\t<>\n\t\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={this.handleLoginRegister}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin / Register\n\t\t\t\t\t</Button>\n\t\t\t\t</>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<MyAppBar\n\t\t\t\tmain={main}\n\t\t\t\tdesktop={desktop}\n\t\t\t\tmobile={mobile}\n\t\t\t\tmobileMenu={mobileMenu}\n\t\t\t></MyAppBar>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tloggedIn: state.client.loggedIn,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default compose(\n\twithRouter,\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(StreamsAppBar);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// main components:\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport {\r\n\tDivider,\r\n\tDrawer,\r\n\tList,\r\n\tListItem,\r\n\tListItemIcon,\r\n\tListItemText,\r\n} from \"@material-ui/core\";\r\n\r\n// icons:\r\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// libs:\r\n\r\n// jss:\r\nconst drawerWidth = 240;\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tpadding: \"1%\",\r\n\t\tdisplay: \"grid\",\r\n\t\twidth: \"100%\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\r\n\t// root: {\r\n\t// \tdisplay: \"flex\",\r\n\t// },\r\n\troot: {\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\tflexShrink: 0,\r\n\t\t},\r\n\t},\r\n\tappBar: {\r\n\t\tmarginLeft: drawerWidth,\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\t\t},\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: 20,\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tdisplay: \"none\",\r\n\t\t},\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t\tbackgroundColor: \"#505050\",\r\n\t},\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\tpadding: theme.spacing(3),\r\n\t},\r\n});\r\n\r\nclass StreamsDrawer extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmobileOpen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\thandleDrawerToggle = () => {\r\n\t\tthis.setState((state) => ({ mobileOpen: !state.mobileOpen }));\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering streams drawer.\");\r\n\r\n\t\tconst { anchorEl, mobileMoreAnchorEl } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconst drawer = (\r\n\t\t\t<div>\r\n\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{/* <List>\r\n\t\t\t\t\t{[\"Inbox\", \"Starred\", \"Send email\", \"Drafts\"].map((text, index) => (\r\n\t\t\t\t\t\t<ListItem button key={text}>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={text} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<List>\r\n\t\t\t\t\t{[\"All mail\", \"Trash\", \"Spam\"].map((text, index) => (\r\n\t\t\t\t\t\t<ListItem button key={text}>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={text} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</List> */}\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t<ListItemText primary={\"Streams\"} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<InboxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={\"Subscriptions\"} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</List>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tcontainer={this.props.container}\r\n\t\t\t\t\tvariant=\"persistent\"\r\n\t\t\t\t\t// anchor=\"left\"\r\n\t\t\t\t\topen={this.props.drawerOpen}\r\n\t\t\t\t\tonClose={this.handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(StreamsDrawer);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport { Paper, Button } from \"@material-ui/core\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport classNames from \"classnames\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\theight: \"40px\",\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: 0,\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\r\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\r\n\t\t\teasing: theme.transitions.easing.sharp,\r\n\t\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t},\r\n\t[device.mobile]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\tdrawerOpen: {\r\n\t\tmarginLeft: \"240px\",\r\n\t\twidth: \"calc(100% - 240px)\",\r\n\t},\r\n\tdrawerClose: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n});\r\n\r\nclass StreamsFooter extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\trender() {\r\n\t\t// console.log(\"re-rendering streamsfooter.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper\r\n\t\t\t\tclassName={classNames(classes.root, {\r\n\t\t\t\t\t[classes.drawerOpen]: this.props.drawerOpen,\r\n\t\t\t\t\t[classes.drawerClose]: !this.props.drawerOpen,\r\n\t\t\t\t})}\r\n\t\t\t\televation={4}\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t// variant=\"contained\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.props.history.push(\"/about\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAbout\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t// variant=\"contained\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.props.history.push(\"/tos\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tTOS\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t// variant=\"contained\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.props.history.push(\"/privacy\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPrivacy\r\n\t\t\t\t</Button>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(StreamsFooter);\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nlet turnTimers = [];\r\nlet controlQueues = [];\r\nlet controllerStates = [];\r\n\r\nfor (let i = 0; i < 8; i++) {\r\n\tturnTimers.push({\r\n\t\tturnStartTime: 0,\r\n\t\tforfeitStartTime: 0,\r\n\t\tturnLength: 0,\r\n\t\tforfeitLength: 0,\r\n\t});\r\n\tcontrolQueues.push([]);\r\n\tcontrollerStates.push({\r\n\t\tbtns: 0,\r\n\t\taxes: [0, 0, 0, 0, 0, 0],\r\n\t});\r\n}\r\n\r\nconst playersSlice = createSlice({\r\n\tname: \"players\",\r\n\tinitialState: {\r\n\t\tcontrolQueues: controlQueues,\r\n\t\tturnTimers: turnTimers,\r\n\t\tcontrollerStates: controllerStates,\r\n\t},\r\n\treducers: {\r\n\t\tupdatePlayerControlQueues(state, action) {\r\n\t\t\tstate.controlQueues = action.payload.queues;\r\n\t\t},\r\n\t\tupdatePlayerTurnStartTimes(state, action) {\r\n\t\t\tfor (let i = 0; i < state.turnTimers.length; i++) {\r\n\t\t\t\tif (action.payload.turnStartTimes != null) {\r\n\t\t\t\t\tstate.turnTimers[i].turnStartTime = action.payload.turnStartTimes[i];\r\n\t\t\t\t}\r\n\t\t\t\tif (action.payload.forfeitStartTimes != null) {\r\n\t\t\t\t\tstate.turnTimers[i].forfeitStartTime = action.payload.forfeitStartTimes[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdatePlayerTurnLengths(state, action) {\r\n\t\t\tfor (let i = 0; i < state.turnTimers.length; i++) {\r\n\t\t\t\tstate.turnTimers[i].turnLength = action.payload.turnLengths[i];\r\n\t\t\t\tstate.turnTimers[i].forfeitLength = action.payload.forfeitLengths[i];\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdatePlayerControllerState(state, action) {\r\n\t\t\tstate.controllerStates[action.payload.cNum].btns = action.payload.btns;\r\n\t\t\tstate.controllerStates[action.payload.cNum].axes = action.payload.axes;\r\n\t\t},\r\n\r\n\t\tjoinLeavePlayerControlQueue(state, action) {},\r\n\t},\r\n});\r\nexport const {\r\n\tupdatePlayerControlQueues,\r\n\tupdatePlayerTurnStartTimes,\r\n\tupdatePlayerTurnLengths,\r\n\tupdatePlayerControllerState,\r\n\tjoinLeavePlayerControlQueue,\r\n} = playersSlice.actions;\r\nexport default playersSlice.reducer;\r\n\r\n// import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// maybe refactor to this:\r\n// let player = {\r\n// \tturnTimers: {\r\n// \t\tturnStartTime: 0,\r\n// \t\tforfeitStartTime: 0,\r\n// \t\tturnLength: 0,\r\n// \t\tforfeitLength: 0,\r\n// \t},\r\n// \tcontrollerState: {\r\n// \t\tbtns: 0,\r\n// \t\taxes: [0, 0, 0, 0, 0, 0],\r\n// \t},\r\n// \tcontrolQueue: [],\r\n// };\r\n\r\n// let players = [];\r\n// for (let i = 0; i < 8; i++) {\r\n// \tplayers.push(player);\r\n// }\r\n\r\n// const playersSlice2 = createSlice({\r\n// \tname: \"players2\",\r\n// \tinitialState: players,\r\n// \treducers: {\r\n// \t\tupdatePlayerControlQueues(state, action) {\r\n// \t\t\tstate.controlQueues = action.payload.queues;\r\n// \t\t},\r\n// \t\tupdatePlayerTurnStartTimes(state, action) {\r\n// \t\t\tfor (let i = 0; i < state.length; i++) {\r\n// \t\t\t\tif (action.payload.turnStartTimes != null) {\r\n// \t\t\t\t\tstate[i].turnTimers.turnStartTime = action.payload.turnStartTimes[i];\r\n// \t\t\t\t}\r\n// \t\t\t\tif (action.payload.forfeitStartTimes != null) {\r\n// \t\t\t\t\tstate[i].turnTimers.forfeitStartTime = action.payload.forfeitStartTimes[i];\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t},\r\n// \t\tupdatePlayerTurnLengths(state, action) {\r\n// \t\t\tfor (let i = 0; i < state.length; i++) {\r\n// \t\t\t\tstate[i].turnTimers.turnLength = action.payload.turnLengths[i];\r\n// \t\t\t\tstate[i].turnTimers.forfeitLength = action.payload.forfeitLengths[i];\r\n// \t\t\t}\r\n// \t\t},\r\n// \t\tupdatePlayerControllerState(state, action) {\r\n// \t\t\tstate[action.payload.cNum].controllerState.btns = action.payload.btns;\r\n// \t\t\tstate[action.payload.cNum].controllerState.axes = action.payload.axes;\r\n// \t\t},\r\n// \t},\r\n// });\r\n// export const {\r\n// \tupdatePlayerControlQueues,\r\n// \tupdatePlayerTurnStartTimes,\r\n// \tupdatePlayerTurnLengths,\r\n// \tupdatePlayerControllerState,\r\n// } = playersSlice.actions;\r\n// export default playersSlice.reducer;\r\n\r\n// export const updatePlayerTurnLengths = (data) => {\r\n// \treturn {\r\n// \t\ttype: types.UPDATE_PLAYER_TURN_LENGTHS,\r\n// \t\tpayload: {\r\n// \t\t\tturnLengths: data.turnLengths,\r\n// \t\t\tforfeitLengths: data.forfeitLengths,\r\n// \t\t},\r\n// \t};\r\n// };\r\n\r\n// export const joinPlayerControlQueue = (controllerNumber) => {\r\n// \treturn {\r\n// \t\ttype: types.JOIN_PLAYER_CONTROL_QUEUE,\r\n// \t\tpayload: {\r\n// \t\t\tcontrollerNumber: controllerNumber,\r\n// \t\t},\r\n// \t};\r\n// };\r\n\r\n// export const leavePlayerControlQueue = (controllerNumber) => {\r\n// \treturn {\r\n// \t\ttype: types.LEAVE_PLAYER_CONTROL_QUEUE,\r\n// \t\tpayload: {\r\n// \t\t\tcontrollerNumber: controllerNumber,\r\n// \t\t},\r\n// \t};\r\n// };\r\n","export const WASM_BINARY_INLINED='AGFzbQEAAAAADQZkeWxpbmudTgQAAAABNAlgAX8Bf2ABfwBgAn9/AX9gAn9/AGAEf39/fwBgA39/fwF/YAAAYAZ/f39/f38AYAF/AX0CQwQDZW52BHNicmsAAANlbnYNX19hc3NlcnRfZmFpbAAEA2Vudg1fX21lbW9yeV9iYXNlA38AA2VudgZtZW1vcnkCAAADPTwCAQIAAwMBAAgAAAAAAAAAAQMBBwEDBAEEBAQCAQIAAwMAAAAAAAQEAgECAAIAAgAAAAABAQIDAQUFBQYH5AUfFG1wZWcxX2RlY29kZXJfY3JlYXRlAAIGbWFsbG9jADEGbWVtc2V0ADwVbXBlZzFfZGVjb2Rlcl9kZXN0cm95AAMEZnJlZQA1G21wZWcxX2RlY29kZXJfZ2V0X3dyaXRlX3B0cgAEF21wZWcxX2RlY29kZXJfZ2V0X2luZGV4AAUXbXBlZzFfZGVjb2Rlcl9zZXRfaW5kZXgABhdtcGVnMV9kZWNvZGVyX2RpZF93cml0ZQAHIW1wZWcxX2RlY29kZXJfaGFzX3NlcXVlbmNlX2hlYWRlcgAJHG1wZWcxX2RlY29kZXJfZ2V0X2ZyYW1lX3JhdGUAChxtcGVnMV9kZWNvZGVyX2dldF9jb2RlZF9zaXplAAsXbXBlZzFfZGVjb2Rlcl9nZXRfd2lkdGgADBhtcGVnMV9kZWNvZGVyX2dldF9oZWlnaHQADRdtcGVnMV9kZWNvZGVyX2dldF95X3B0cgAOGG1wZWcxX2RlY29kZXJfZ2V0X2NyX3B0cgAPGG1wZWcxX2RlY29kZXJfZ2V0X2NiX3B0cgAQFG1wZWcxX2RlY29kZXJfZGVjb2RlABESbXAyX2RlY29kZXJfY3JlYXRlAB0GbWVtY3B5ADoTbXAyX2RlY29kZXJfZGVzdHJveQAeGW1wMl9kZWNvZGVyX2dldF93cml0ZV9wdHIAHxVtcDJfZGVjb2Rlcl9nZXRfaW5kZXgAIBVtcDJfZGVjb2Rlcl9zZXRfaW5kZXgAIRVtcDJfZGVjb2Rlcl9kaWRfd3JpdGUAIhttcDJfZGVjb2Rlcl9nZXRfc2FtcGxlX3JhdGUAIyBtcDJfZGVjb2Rlcl9nZXRfbGVmdF9jaGFubmVsX3B0cgAkIW1wMl9kZWNvZGVyX2dldF9yaWdodF9jaGFubmVsX3B0cgAl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IAUgA0EEaiIIaigAACELIBIgAEEEaiIAaiAEIAhqKAAANgIAIAAgE2ogCzYCACABIANqIQMgAiAGakECaiICIAlIDQALDAELIABBAUgNACAGQQJ1IQoDQCAFIANBA2oiBmotAAAhECAFIAEgBmoiDmotAAAhByAFIANBAmoiCGotAAAhDCAFIAEgCGoiDWotAAAhESAFIANBAWoiC2otAAAhFCAFIAEgC2oiFWotAAAhFiADIAVqLQAAIRcgBSABIANqIgBqLQAAIRggEiACQQJ0Ig9qIAQgDmotAAAgBCAGai0AAGpBF3RBgICABGpBgICAeHEgBCANai0AACAEIAhqLQAAakEPdEGAgAJqQYCA/AdxIAQgFWotAAAgBCALai0AAGpBB3RBgAFqQYD+A3EgAyAEai0AACAAIARqLQAAakEBakEBdnJycjYCACAPIBNqIAcgEGpBF3RBgICABGpBgICAeHEgDCARakEPdEGAgAJqQYCA/AdxIBQgFmpBB3RBgAFqQYD+A3EgFyAYakEBakEBdnJycjYCACAFIANBB2oiBiABaiIQai0AACEOIAUgBmotAAAhByAFIANBBmoiCCABaiIMai0AACENIAUgCGotAAAhESAFIANBBWoiCyABaiIUai0AACEVIAUgC2otAAAhFiAFIANBBGoiAyABaiIXai0AACEYIAMgBWotAAAhGSASIA9BBGoiD2ogBCAQai0AACAEIAZqLQAAakEXdEGAgIAEakGAgIB4cSAEIAxqLQAAIAQgCGotAABqQQ90QYCAAmpBgID8B3EgBCAUai0AACAEIAtqLQAAakEHdEGAAWpBgP4DcSADIARqLQAAIAQgF2otAABqQQFqQQF2cnJyNgIAIA8gE2ogByAOakEXdEGAgIAEakGAgIB4cSANIBFqQQ90QYCAAmpBgID8B3EgFSAWakEHdEGAAWpBgP4DcSAYIBlqQQFqQQF2cnJyNgIAIAAhAyACIApqQQJqIgIgCUgNAAsLC6IEAQN/AkAgACgCYARAIAAoAoABIQIDQCMAQaAWaiACQQEQMCABakECdGooAgAiAUEATgRAIwBBoBZqIAFBAnRqKAIADQELCwJAIwAgAUECdGpBqBZqKAIAIgFFBEBBACEBDAELIAAoAjxBAUYNACAAKAKAASAAKAI4EDAgASABQR91IgJqIAJz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AiAAOgACIAIgADoAASACIAA6AAAgASADIARqIgRqIgIgADoAByACIAA6AAYgAiAAOgAFIAIgADoABCACIAA6AAMgAiAAOgACIAIgADoAASACIAA6AAAgASADIARqIgRqIgIgADoAByACIAA6AAYgAiAAOgAFIAIgADoABCACIAA6AAMgAiAAOgACIAIgADoAASACIAA6AAAgASADIARqaiIBIAA6AAcgASAAOgAGIAEgADoABSABIAA6AAQgASAAOgADIAEgADoAAiABIAA6AAEgASAAOgAAC7sFARZ/A0AgACAHQQJ0aiIBIAEoAgAiBSABKAKAASIEaiIGIAEoAsABIgggAUFAayIOKAIAIglqIgNqIgogASgC4AEiCyABKAIgIg9qIhAgASgCYCIMIAEoAqABIhFqIhJqIgJqNgIAIAEgCiACazYC4AEgASARIAxrIgpBvH5sIA8gC2siC0HZA2xqQYABakEIdSACayICIAUgBGsiBSAJIAhrQeoCbEGAAWpBCHUgA2siBGoiCGo2AiAgASAIIAJrNgLAASAOIAUgBGsiBSACIBAgEmtB6gJsQYABakEIdWsiAms2AgAgASACIAVqNgKgASABIAYgA2siAyACIApB2QNsIAtBxAFsakGAAWpBCHVqIgJqNgJgIAEgAyACazYCgAEgB0EBaiIHQQhHDQALA0AgACANQQJ0IgFqIgMgACABQRxyaiIFKAIAIgIgACABQQRyaiIEKAIAIgZqIgggACABQQxyaiIOKAIAIgkgACABQRRyaiIKKAIAIgtqIg9qIgcgAygCACIDIAAgAUEQcmoiECgCACIMaiIRIAAgAUEYcmoiEigCACITIAAgAUEIcmoiFCgCACIVaiIBaiIWakGAAWpBCHU2AgAgBCADIAxrIgQgFSATa0HqAmxBgAFqQQh1IAFrIgxqQYABaiITIAsgCWsiCUG8fmwgBiACayIGQdkDbGpBgAFqQQh1IAdrIgNqQQh1NgIAIBQgBCAMa0GAAWoiBCADIAggD2tB6gJsQYABakEIdWsiAmtBCHU2AgAgDiARIAFrQYABaiIBIAIgCUHZA2wgBkHEAWxqQYABakEIdWoiBmpBCHU2AgAgECABIAZrQQh1NgIAIAogAiAEakEIdTYCACASIBMgA2tBCHU2AgAgBSAWIAdrQYABakEIdTYCACANQThJIQEgDUEIaiENIAENAAsL3gIBBH8gA0EIaiEHA0AgASACaiIDIAAgBkECdCIFaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAAgAyAAIAVBBHJqKAIAIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAASADIAAgBUEIcmooAgAiBEEAIARBAEobIgRB/wEgBEH/AUgbOgACIAMgACAFQQxyaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAMgAyAAIAVBEHJqKAIAIgRBACAEQQBKGyIEQf8BIARB/wFIGzoABCADIAAgBUEUcmooAgAiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAFIAMgACAFQRhyaigCACIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAYgAyAAIAVBHHJqKAIAIgNBACADQQBKGyIDQf8BIANB/wFIGzoAByACIAdqIQIgBkE4SSEDIAZBCGohBiADDQALC8QCAQN/IANBCGohBgNAIAEgAmoiAyADLQAAIABqIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAACADIAMtAAEgAGoiBEEAIARBAEobIgRB/wEgBEH/AUgbOgABIAMgAy0AAiAAaiIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAIgAyADLQADIABqIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAAyADIAMtAAQgAGoiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAEIAMgAy0ABSAAaiIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAUgAyADLQAGIABqIgRBACAEQQBKGyIEQf8BIARB/wFIGzoABiADIAMtAAcgAGoiA0EAIANBAEobIgNB/wEgA0H/AUgbOgAHIAIgBmohAiAFQThJIQMgBUEIaiEFIAMNAAsLjgMBBH8gA0EIaiEHA0AgASACaiIDIAAgBkECdCIFaigCACADLQAAaiIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAAgAyAAIAVBBHJqKAIAIAMtAAFqIgRBACAEQQBKGyIEQf8BIARB/wFIGzoAASADIAAgBUEIcmooAgAgAy0AAmoiBEEAIARBAEobIgRB/wEgBEH/AUgbOgACIAMgACAFQQxyaigCACADLQADaiIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAMgAyAAIAVBEHJqKAIAIAMtAARqIgRBACAEQQBKGyIEQf8BIARB/wFIGzoABCADIAAgBUEUcmooAgAgAy0ABWoiBEEAIARBAEobIgRB/wEgBEH/AUgbOgAFIAMgACAFQRhyaigCACADLQAGaiIEQQAgBEEAShsiBEH/ASAEQf8BSBs6AAYgAyAAIAVBHHJqKAIAIAMtAAdqIgNBACADQQBKGyIDQf8BIANB/wFIGzoAByACIAdqIQIgBkE4SSEDIAZBCGohBiADDQALC1YBAX9BzLcBEDEiAkEEakEAQci3ARA8GiAAIAEQKiEAIAJBxNgCNgIAIAIgADYCCCACQczWAGojAEHQNWoiAEGAEBA6GiACQczmAGogAEGAEBA6GiACCw0AIAAoAggQKyAAEDULCwAgACgCCCABECwLCgAgACgCCCgCBAsMACAAKAIIIAE2AgQLFAAgACgCCCIAIAAoAgwgAWo2AgwLBwAgACgCAAsIACAAQcwOagsIACAAQcwyagtFAQJ/IAAoAggoAgQhAiAAKAIIIgEoAgxBA3QgASgCBGtBEEkEQEEADwsgABAnIQEgACgCCCABQQN0IAJqQXhxNgIEIAELgxUCF38BfSAAKAIIQQsQMCEBIAAoAghBAhAwIQMgACgCCEECEDAhAiAAKAIIQQEQMCEIAkAgAUH/D0cNACADQQNHDQAgAkECRw0AIAAoAghBBBAwIgJBDkoNACAAKAIIQQIQMCIHQQNGDQAgACgCCEEBEDAhCiAAKAIIQQEQMBogACgCCEECEDAhAyAAKAIIIQECfyADQQFGBEAgAUECEDBBAnRBBGoMAQsgASABKAIEQQJqNgIEIANBA0dBBXQLIQEgACgCCCIFIAUoAgRBBGo2AgQgCEUEQCAAKAIIIgggCCgCBEEQajYCBAsjACIIQeDFAGogAkF/aiIFQQF0ai4BAEGA5QhsIAhB0MUAaiAHQQF0ai8BACIPbSELQQAhAiAIQcDGAGogCEGgxgBqIANBA0dBBHRqIAVqLQAAQQNsaiAHai0AACIIQQZ2IQUgCEE/cSIHIAEgASAHShsiCEEASgRAIAVBBXQhBgNAIAAgAkECdGoiCSMAIgRBgMgAaiAEQaDHAGogBmogAmotAAAiDEEPcUEEdGoiDSAAKAIIIAxBBHYiDBAwai0AACIOQQJ0IARB0MYAaiIEakF8akEAIA4bNgIMIAkgBCAAKAIIIAwQMCANai0AACIJQQJ0akF8akEAIAkbNgKMASACQQFqIgIgCEcNAAsLIAcgAUoiDQRAIAVBBXQhBSAIIQIDQCAAIAJBAnRqIgQjACIBQYDIAGogAUGgxwBqIAVqIAJqLQAAIgZBD3FBBHRqIAAoAgggBkEEdhAwai0AACIGQQJ0IAFqQczGAGpBACAGGyIBNgIMIAQgATYCjAEgAkEBaiICIAdHDQALCwJAIAdFDQBBAUECIANBA0YbIgFBASABQQFLGyEFQQAhAQJAIANBA0YEQANAQQAhAgNAIAAgAkEHdGogAUECdGooAgwEQCAAIAJBBXRqIAFqIAAoAghBAhAwOgCMAgsgAkEBaiICIAVHDQALIAAgAWoiAiACLQCMAjoArAIgAUEBaiIBIAdHDQAMAgALAAsDQEEAIQIDQCAAIAJBB3RqIAFBAnRqKAIMBEAgACACQQV0aiABaiAAKAIIQQIQMDoAjAILIAJBAWoiAiAFRw0ACyABQQFqIgEgB0cNAAsLQQAhAiADQQNGBEADQEEAIQEDQAJAIAAgAUEHdGogAkECdGooAgxFDQAgACABQQV0aiACai0AjAIiBkEDSw0AIAAgAUGAA2xqIAJBDGxqIgMhBAJAAkACQAJAIAZBAWsOAwIBAAMLIAQgACgCCEEGEDA2AswCIAMgACgCCEEGEDAiBDYC0AIgAyAENgLUAgwDCyADIAAoAghBBhAwIgY2AtACIAMgBjYC1AIgBCAGNgLMAgwCCyADIAAoAghBBhAwIgY2AtACIAQgBjYCzAIgAyAAKAIIQQYQMDYC1AIMAQsgBCAAKAIIQQYQMDYCzAIgAyAAKAIIQQYQMDYC0AIgAyAAKAIIQQYQMDYC1AILIAFBAWoiASAFRw0ACyAAIAJBDGxqIgEgASgCzAI2AswFIAEgASkC0AI3AtAFIAcgAkEBaiICRw0ADAIACwALA0BBACEBA0ACQCAAIAFBB3RqIAJBAnRqKAIMRQ0AIAAgAUEFdGogAmotAIwCIgZBA0sNACAAIAFBgANsaiACQQxsaiIDIQQCQAJAAkACQCAGQQFrDgMBAgMACyAEIAAoAghBBhAwNgLMAiADIAAoAghBBhAwNgLQAiADIAAoAghBBhAwNgLUAgwDCyADIAAoAghBBhAwIgY2AtACIAQgBjYCzAIgAyAAKAIIQQYQMDYC1AIMAgsgAyAAKAIIQQYQMCIGNgLQAiADIAY2AtQCIAQgBjYCzAIMAQsgBCAAKAIIQQYQMDYCzAIgAyAAKAIIQQYQMCIENgLQAiADIAQ2AtQCCyABQQFqIgEgBUcNAAsgAkEBaiICIAdHDQALCyAKIAtqIQ4gB0EfIAdBH0sbIRAgAEHMlgFqIREgAEHMC2ohEiAAQcz2AGohEyAAQcwIaiEUIABBzLYBaiEVIAdBIEkhFkEAIQZBACEKA0BBACEMA0BBACECIAhBAEoEQANAIABBACACIAYQKCAAQQEgAiAGECggAkEBaiICIAhHDQALCyAIIQIgDQRAA0AgAEEAIAIgBhAoIAAgAkEMbGoiAUHMC2ogAUHMCGooAgA2AgAgAUHQC2ogAUHQCGopAgA3AgAgAkEBaiICIAdHDQALCyAHIQIgFgRAA0AgACACQQxsaiIBQdQLakEANgIAIAFB1AhqQQA2AgAgAUHMCGpCADcCACABQcwLakIANwIAIAIgEEYhASACQQFqIQIgAUUNAAsLIAAoAgQhCUEAIQsDQCAAIAlBwAdqQf8HcSIBNgIEIBQgCyATIAEQKSAVQQBBgAEQPCEXQYAEIAAoAgQiCUEBdWshAyAJQYABb0EBdSEBQQAhAgNAAn8gACADIgRBAnRqQczWAGoqAgAgACABIgVBAnRqQcz2AGoqAgCUIAAgAkECdGpBzLYBaiIBKAIAspIiGItDAAAAT10EQCAYqAwBC0GAgICAeAshAyABIAM2AgAgBUEBaiEBIARBAWohAyACQQFqIgJBIEcNACAEQSFqIQMgBUHhAGohAUEAIQIgBUGeB0wNAAtB/wcgBWshAyAEQcF8aiEBA0ACfyAAIAEiBEECdGpBzNYAaioCACAAIAMiBUECdGpBzPYAaioCAJQgACACQQJ0akHMtgFqIgEoAgCykiIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEDIAEgAzYCACAFQQFqIQMgBEEBaiEBIAJBAWoiAkEgRw0AIARBIWohASAFQeEAaiEDQQAhAiAFQZ4HTA0ACwNAIAAgAiAKakECdGpBzA5qIAAgAkECdGpBzLYBaigCALJDAP7/TpU4AgAgAkEBaiICQSBHDQALIBIgCyARIAkQKUEAIQIgF0EAQYABEDwaQYAEIAAoAgQiCUEBdWshAyAJQYABb0EBdSEBA0ACfyAAIAMiBEECdGpBzNYAaioCACAAIAEiBUECdGpBzJYBaioCAJQgACACQQJ0akHMtgFqIgEoAgCykiIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEDIAEgAzYCACAFQQFqIQEgBEEBaiEDIAJBAWoiAkEgRw0AIARBIWohAyAFQeEAaiEBQQAhAiAFQZ8HSA0AC0H/ByAFayEDIARBwXxqIQEDQAJ/IAAgASIEQQJ0akHM1gBqKgIAIAAgAyIFQQJ0akHMlgFqKgIAlCAAIAJBAnRqQcy2AWoiASgCALKSIhiLQwAAAE9dBEAgGKgMAQtBgICAgHgLIQMgASADNgIAIAVBAWohAyAEQQFqIQEgAkEBaiICQSBHDQAgBEEhaiEBIAVB4QBqIQNBACECIAVBnwdIDQALA0AgACACIApqQQJ0akHMMmogACACQQJ0akHMtgFqKAIAskMA/v9OlTgCACACQQFqIgJBIEcNAAsgCkEgaiEKIAtBAWoiC0EDRw0ACyAMQQFqIgxBBEcNAAsgBkEBaiIGQQNHDQALIAAgDzYCAAsgDgvEAwEGfyAAIAFBgANsaiACQQxsaiIEQcwIaiEGIAAgAUEHdGogAkECdGooAgwiBUUEQCAEQdAIakIANwIAIAZBADYCAA8LIAQgA0ECdGooAswCIgNBP0cEQCMAQZTHAGogAyADQQNtIgNBA2xrQQJ0aigCAEEBIAN0QQF1aiADdSEHCyAFLwEAIQQgBS0AAiEIIAAoAgggBS0AAxAwIQMCQCAIBEAgBiADIAMgBG0iBSAEbGsiAzYCACAAIAFBgANsaiACQQxsakHQCGogBSAFIARtIgUgBGxrIgg2AgAMAQsgBiADNgIAIAAgAUGAA2xqIAJBDGxqQdAIaiIDIAAoAgggBS0AAxAwNgIAIAAoAgggBS0AAxAwIQUgAygCACEIIAYoAgAhAwsgBiAEQQFqIgRBAXZBf2oiBiADa0GAgAQgBG4iA2wiCSAHQf8fcSIEbEGAEGpBDHUgCSAHQQx1IgdsakEMdTYCACAAIAFBgANsaiACQQxsaiIAQdQIaiAGIAVrIANsIgEgBGxBgBBqQQx1IAEgB2xqQQx1NgIAIABB0AhqIAYgCGsgA2wiACAEbEGAEGpBDHUgACAHbGpBDHU2AgALoxUCHX8jfSACIANBAnRqIgIgACABQQJ0aiIAKAK4AiIBIAAoAjwiA2qyIiMgACgC/AEiBCAAKAJ4IgVqsiIxkiI0IAAoAtwCIgYgACgCGCIHarIiIiAAKALYASIIIAAoApwBIglqsiIykiIhkiIzIAAoAqwCIgogACgCSCILarIiKCAAKAKIAiIMIAAoAmwiDWqyIiWSIiQgACgC6AIiDiAAKAIMIg9qsiIpIAAoAswBIhAgACgCqAEiEWqyIiySIiaSIieSIiogACgCxAIiEiAAKAIwIhNqsiIrIAAoAvABIhQgACgChAEiFWqyIi6SIi0gACgC0AIiFiAAKAIkIhdqsiI+IAAoAuQBIhggACgCkAEiGWqyIjWSIi+SIjAgACgCoAIiGiAAKAJUIhtqsiI2IAAoApQCIhwgACgCYCIdarIiN5IiOCAAKAL0AiIeIAAoAgAiH2qyIjkgACgCwAEiICAAKAK0ASIAarIiOpIiO5IiPJIiPZKMOALAASACID0gKpO7RLhLf2aeoOY/orYiKjgCACACICqMOAKAASACICcgM5O7RLowRZGu5/Q/orYiMyA8IDCTu0SmMdt7elHhP6K2IieSICcgM5O7RLhLf2aeoOY/orYiM5KMIic4AuABIAIgJzgCoAEgAiAvIC2Tu0TopnPQ2YAEQKK2IicgOyA4k7tEubR80T5Q4D+itiIqkiItICEgNJO7RLh+se+azOw/orYiNCAmICSTu0SmFeChNz7jP6K2IiGSIiSTu0S4S39mnqDmP6K2IiYgKiAnk7tEpjHbe3pR4T+itiInICEgNJO7RLowRZGu5/Q/orYiIZO7RLhLf2aeoOY/orYiNJIiKjgCECACICqMOAJwIAIgISAnkiA0kiIhICaSjCImOALwASACICY4ApABIAIgJCAtkiAhkowiITgC0AEgAiAhOAKwASACID4gNZO7RB/ku5jDsuQ/orYiISArIC6Tu0RCOX0LkDjpP6K2IiSTu0TopnPQ2YAEQKK2IiYgOSA6k7tE99NhnNET4D+itiInIDYgN5O7RIs85YCTZxRAorYiKpO7RLm0fNE+UOA/orYiK5IiLiAiIDKTu0TeTQbRZyTiP6K2IiIgIyAxk7tEvMhOKon48D+itiIjk7tEuH6x75rM7D+itiIxICkgLJO7RFHs6wNPuOA/orYiMiAoICWTu0SQfkCwJI/7P6K2IiiTu0SmFeChNz7jP6K2IiWSIimTu0S4S39mnqDmP6K2IiwgKyAmk7tEpjHbe3pR4T+itiImICUgMZO7RLowRZGu5/Q/orYiJZO7RLhLf2aeoOY/orYiMZIiKyAkICGSIiEgKiAnkiIkkiInICMgIpIiIyAoIDKSIiKSIiiTu0S4S39mnqDmP6K2IiqSIi04AgggAiArICQgIZO7RKYx23t6UeE/orYiISAiICOTu0S6MEWRruf0P6K2IiOTu0S4S39mnqDmP6K2IjKSIiI4AhggAiAtjDgCeCACICKMOAJoIAIgJSAmkiAxkiIiICySIiUgKpKMIiQ4AvgBIAIgJDgCiAEgAiAjICGSIDKSIiMgJZKMIiE4AugBIAIgITgCmAEgAiAjICkgLpIgIpIiI5KMIiI4AtgBIAIgIjgCqAEgAiAoICeSICOSjCIjOALIASACICM4ArgBIAIgFyAWa7K7RAV4MAhN/uA/orYiIiAZIBhrsrtEz+iOZSO/9z+itiIhk7tEH+S7mMOy5D+itiIoIBMgEmuyu0ToMhjxBrPhP6K2IiUgFSAUa7K7RAZ+y6UGtvI/orYiJJO7REI5fQuQOOk/orYiKZO7ROimc9DZgARAorYiIyAfIB5rsrtEJl02lPAE4D+itiIsIAAgIGuyu0RM0Ki+SGEkQKK2IiaTu0T302Gc0RPgP6K2IicgGyAaa7K7RFHAs6kHmOU/orYiKiAdIBxrsrtE1HXUuj3T5z+itiIrk7tEizzlgJNnFECitiIuk7tEubR80T5Q4D+itiItkiI+IAcgBmuyu0RXxl1bi37gP6K2IjUgCSAIa7K7RFOF4ONVdgBAorYiL5O7RN5NBtFnJOI/orYiMCADIAFrsrtEW3cEPGen4j+itiI2IAUgBGuyu0RG3NdsRx/vP6K2IjeTu0S8yE4qifjwP6K2IjiTu0S4frHvmszsP6K2IjkgDyAOa7K7RE/eOm/RLOA/orYiOiARIBBrsrtENTnXM8hCC0CitiI7k7tEUezrA0+44D+itiI8IAsgCmuyu0SuEkLEjevjP6K2Ij0gDSAMa7K7RL8Rn8nz2+o/orYiP5O7RJB+QLAkj/s/orYiQJO7RKYV4KE3PuM/orYiQZIiQpO7RLhLf2aeoOY/orYiQyAtICOTu0SmMdt7elHhP6K2Ii0gQSA5k7tEujBFka7n9D+itiI5k7tEuEt/Zp6g5j+itiIjkiJBICkgKJIiKCAuICeSIimSIicgOCAwkiIuIEAgPJIiMJIiOJO7RLhLf2aeoOY/orYiPJIiQCAlICSSIiUgIiAhkiIikiIkICogK5IiISAsICaSIiySIiaSIiogNiA3kiIrIDUgL5IiNZIiLyA9ID+SIjYgOiA7kiI3kiI6kiI7k7tEuEt/Zp6g5j+itiI9kiI/OAIEIAIgIiAlk7tE6KZz0NmABECitiIiICwgIZO7RLm0fNE+UOA/orYiIZIiJSA1ICuTu0S4frHvmszsP6K2IiwgNyA2k7tEphXgoTc+4z+itiIrkiI1k7tEuEt/Zp6g5j+itiI2ICEgIpO7RKYx23t6UeE/orYiNyArICyTu0S6MEWRruf0P6K2IiyTu0S4S39mnqDmP6K2IiKSIiEgQJIiKzgCDCACICEgQSApICiTu0SmMdt7elHhP6K2IikgMCAuk7tEujBFka7n9D+itiIuk7tEuEt/Zp6g5j+itiIhkiIokiIwOAIUIAIgKCAmICSTu0SmMdt7elHhP6K2IiQgOiAvk7tEujBFka7n9D+itiImk7tEuEt/Zp6g5j+itiIokiIvOAIcIAIgP4w4AnwgAiArjDgCdCACIDCMOAJsIAIgL4w4AmQgAiA5IC2SICOSIisgQ5IiLSA8kiIvID2SjCIwOAL8ASACIDA4AoQBIAIgLCA3kiAikiIsIDaSIjAgL5KMIi84AvQBIAIgLzgCjAEgAiAwIC4gKZIgIZIiKSAtkiIukowiLTgC7AEgAiAtOAKUASACICYgJJIgKJIiJCAukowiJjgC5AEgAiAmOAKcASACICQgKSBCID6SICuSIiSSIimSjCImOALcASACICY4AqQBIAIgNSAlkiAskiIlICmSjCIpOALUASACICk4AqwBIAIgJSA4ICeSICSSIiWSjCIkOALMASACICQ4ArQBIAIgOyAqkiAlkowiJTgCxAEgAiAlOAK8ASACICEgI5IiISAokiIojDgCXCACIDM4AiAgAiAzjDgCYCACIDIgMZIiM4w4AlggAiAoOAIkIAIgISAikiIyjDgCVCACIDM4AiggAiA0jDgCUCACIDI4AiwgAiAiICOSIiKMOAJMIAIgNDgCMCACIDGMOAJIIAIgIjgCNCACICOMOAJEIAIgMTgCOCACQUBrQQA2AgAgAiAjOAI8CzMBAX9BFBAxIgIgATYCECAAEDEhASACQQA2AgwgAiAANgIIIAIgATYCACACQQA2AgQgAgsNACAAKAIAEDUgABA1C+UBAQR/AkAgACgCCCIDIAAoAgwiAmsiBCABTw0AIAAoAhBBAkYEQCAAKAIAIAEgBGsgA0EBdCICIAIgBGogAUkbIgEQNyECIAAgATYCCCAAIAI2AgAgACgCBCAAKAIMIgJBA3QiAU0NASAAIAE2AgQMAQsgACgCBCIFQQN2IgMgAkdBACADIARqIAFPG0UEQEEAIQIgAEEANgIEIABBADYCDAwBCyADRQ0AIAAoAgAiASABIANqIAIgA2sQOxogACAAKAIMIANrIgI2AgwgACAAKAIEIAVBeHFrNgIECyAAKAIAIAJqC3sBBX8CQCAAKAIEQQdqQQN2IgEgACgCDCICSQRAIAAoAgAhAwNAIAEiBEEBaiEBAkAgAyAEaiIFLQAADQAgASADai0AAA0AIAUtAAJBAUYNAwsgASACSQ0ACwsgACACQQN0NgIEQX8PCyAAIARBA3RBIGo2AgQgBS0AAwuNAQEFfyAAKAIEIQIgACgCDCEDA0ACQCACQQdqQQN2IgIgA0kEQCAAKAIAIQQDQCACIgVBAWohAgJAIAQgBWoiBi0AAA0AIAIgBGotAAANACAGLQACQQFGDQMLIAIgA0cNAAsLIAAgA0EDdDYCBEF/DwsgACAFQQN0QSBqIgI2AgQgBi0AAyABRw0ACyABC0YBAn9BASEBAkAgACgCBEEHakEDdiICIAAoAgxPDQBBACEBIAAoAgAgAmoiAC0AAA0AIAAtAAENACAALQACQQFGIQELIAELfgEHfyAAKAIEIQcCQCABRQRADAELIAAoAgAhCCABIQMgByEEA0AgCCAEQQN1ai0AAEH/AUEIQQggBEEHcWsiBSADIAUgA0kbIgZrdiAFIAZrIgV0cSAFdiACIAZ0ciECIAQgBmohBCADIAZrIgMNAAsLIAAgASAHajYCBCACC4wDAQJ/AkACQAJAAkACQCAAQQEgABsiAhAyIgANAAJ/AkAjAEHkyQBqKAIAIgBFDQAgACgCACIBQQFxDQAgACABQQFyNgIAIAFBAXZBeGoiAUUNAyABQQggAUEISxtnQR9zIgFBfWpBHU8NBCMAQeDIAGogAUECdGoiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgEEQCABIAAoAgg2AgALIwAhACACEDMhAiAAQeTJAGooAgAiACACDQEaIAAgACgCAEF+cTYCAEEADwsgAhA0CyIADQBBAA8LIAAgACgCAEEBdmpBABAASw0CIAAtAABBAXFFDQMgAEEIag8LIwAiAEHSygBqIABBhMoAakH6ASAAQfXKAGoQAQALIwAiAEGGywBqIABBhMoAakGAAiAAQfXKAGoQAQALIwAiAEHoyQBqIABBhMoAakGzBiAAQcLKAGoQAQALIwAiAEH6zQBqIABBhMoAakHOASAAQe/NAGoQAQALzwMBBX8CQAJAAkAgAARAIABBCCAAQQhLG2dBH3MiAkF9akEdTw0CAkACQAJAIAIgAGlBAUdqIgFBBEkNACAAIAF2DQAjACABQQJ0akHcyABqKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAVFDQggBUEIIAVBCEsbZ0EfcyIBQX1qQR1PDQcMAwsgBEEeSw0BIARBAWohBCACKAIEIgINAAsLQQAhAyABQSBPDQEDQCMAQeDIAGogAUECdGooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAJBeGoiAygCAEEBdkF4aiIBRQ0FIAFBCCABQQhLG2dBH3MiAUF9akEdTw0ECyACIwBB4MgAaiABQQJ0aiIBKAIARgRAIAEgAigCBDYCAAsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQOAsgAw8LIwAiAEHSygBqIABBhMoAakGLAiAAQdvKAGoQAQAACwALIwAiAEGGywBqIABBhMoAakGAAiAAQfXKAGoQAQALIwAiAEHSygBqIABBhMoAakH6ASAAQfXKAGoQAQALwwIBA38gAEEPakF4cSMAQeTJAGooAgAoAgBBAXZrIgIQACIAQX9GBEBBAA8LAkACQCAAIwBB5MkAaigCACIAIAAoAgAiAUEBdiIDakYEQAJAIAFBAXENACADQXhqIgFFDQIgAUEIIAFBCEsbZ0EfcyIBQX1qQR1PDQMjAEHgyABqIAFBAnRqIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBRQ0AIAEgACgCCDYCAAsgACAAKAIAIAJBAXRqIgE2AgAgAUEBcUUEQCAAEDkLQQEPCyMAIgBBpswAaiAAQYTKAGpBoQMgAEHCzABqEAEACyMAIgBB0soAaiAAQYTKAGpB+gEgAEH1ygBqEAEACyMAIgBBhssAaiAAQYTKAGpBgAIgAEH1ygBqEAEAC78CAQR/AkACQAJAAkAgAEEPakF4cSIDEAAiAUF/Rg0AAkACQAJAIAFBB2pBeHEiACABRwRAIAAgAWsQACIEQX9GDQQgBCABIANqRw0FIwBB5MkAaigCAEUEQCMAQeDJAGooAgBFDQIMCAsjACIAQcrNAGogAEGEygBqQecFIABBu80AahABAAsjACIBQeDJAGooAgAhAiABQeTJAGooAgAiAQ0BIAINBgsjAEHgyQBqIAA2AgAMAQsgAkUNAyAAIAE2AgQLIwBB5MkAaiAANgIAIAAgA0EBdEEBcjYCACAAIQILIAIPCyMAIgBBks0AaiAAQYTKAGpB5QUgAEG7zQBqEAEACyMAIgBB480AaiAAQYTKAGpB9AUgAEG7zQBqEAEACyMAIgBB1s0AaiAAQYTKAGpB8AUgAEG7zQBqEAEACw4AIAAEQCAAQXhqEDYLC6cGAQV/IAAgACgCACIBQX5xNgIAAkACQAJAAkAgACABQQF2akEAEABNBEAgACgCBCEBIwBB5MkAaigCACIEIABGIgVFBEAgACAAKAIAQQF2aiECCwJAAkAgAUUNACABKAIAIgNBAXENACADQQF2QXhqIgNFDQQgA0EIIANBCEsbZ0EfcyIDQX1qQR1PDQUjAEHgyABqIANBAnRqIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIACyABIAEoAgAgACgCAEF+cWo2AgAgAkUEQCMAIQAgBQRADAgLIwAiAEH9zABqIABBhMoAakHSAiAAQeHMAGoQAQALIAIgATYCBCACKAIAIgBBAXENASAAQQF2QXhqIgBFDQQgAEEIIABBCEsbZ0EfcyIAQX1qQR1PDQUjAEHgyABqIABBAnRqIgAoAgAgAkEIakYEQCAAIAIoAgw2AgALIAIoAggiAARAIAAgAigCDDYCBAsgAigCDCIABEAgACACKAIINgIAIwBB5MkAaigCACEECyABIAEoAgAgAigCAEF+cWo2AgAjACEAIAIgBEYEQAwHCyACIAIoAgBBAXZqIAE2AgQgARA5DwsCQCACRQ0AIAIoAgAiAUEBcQ0AIAFBAXZBeGoiAUUNBCABQQggAUEISxtnQR9zIgFBfWpBHU8NBSMAQeDIAGogAUECdGoiASgCACACQQhqRgRAIAEgAigCDDYCAAsgAigCCCIBBEAgASACKAIMNgIECyACKAIMIgEEQCABIAIoAgg2AgAjAEHkyQBqKAIAIQQLIAAgACgCACACKAIAQX5xajYCACMAIQEgAiAERgR/IAFB5MkAagUgAiACKAIAQQF2akEEagsgADYCAAsgACEBCyABEDkPCyMAIgBB6MkAaiAAQYTKAGpBxAIgAEHhzABqEAEAAAsACyMAIgBB0soAaiAAQYTKAGpB+gEgAEH1ygBqEAEACyMAIgBBhssAaiAAQYTKAGpBgAIgAEH1ygBqEAEACyAAQeTJAGogATYCACABEDkLsggBBX8CQAJAAkACQAJAAkACQCAARQRAAkAgAUEBIAEbIgIQMiIBDQACfwJAIwBB5MkAaigCACIARQ0AIAAoAgAiAUEBcQ0AIAAgAUEBcjYCACABQQF2QXhqIgFFDQggAUEIIAFBCEsbZ0EfcyIBQX1qQR1PDQkjAEHgyABqIAFBAnRqIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyMAIQAgAhAzIQIgAEHkyQBqKAIAIgEgAg0BGiABIAEoAgBBfnE2AgBBAA8LIAIQNAsiAQ0AQQAPCyABIAEoAgBBAXZqQQAQAEsNAiABLQAAQQFxRQ0HIAFBCGoPCyAAQXhqIQQgAUUEQCAEEDZBAA8LIAQoAgAiAkEBcUUNAgJAAkAgAkEBdiIDQXhqIAFPBEAMAQsCQCMAQeTJAGooAgAiBSAERg0AIAMgBGoiAygCACIGQQFxDQAgBkEBdkF4aiICRQ0HIAJBCCACQQhLG2dBH3MiAkF9akEdTw0IIwBB4MgAaiACQQJ0aiICKAIAIANBCGpGBEAgAiADKAIMNgIACyADKAIIIgIEQCACIAMoAgw2AgQLIAMoAgwiAgRAIAIgAygCCDYCAAsgBCAEKAIAIAMoAgBBfnFqIgI2AgAgAyAFRwRAIAMgAygCAEEBdmogBDYCBAwBCyMAQeTJAGogBDYCAAsgAkEBdkF4aiABSQ0BCyAEIAJBAXI2AgAgBCABEDggAA8LIwAhAyABEDIhAgJAIANB5MkAaigCACAERw0AIAINACABEDNFDQAgAA8LAkAgAg0AAn8CQCMAQeTJAGooAgAiAkUNACACKAIAIgNBAXENACACIANBAXI2AgAgA0EBdkF4aiIDRQ0HIANBCCADQQhLG2dBH3MiA0F9akEdTw0IIwBB4MgAaiADQQJ0aiIDKAIAIAJBCGpGBEAgAyACKAIMNgIACyACKAIIIgMEQCADIAIoAgw2AgQLIAIoAgwiAwRAIAMgAigCCDYCAAsjACECIAEQMyEDIAJB5MkAaigCACICIAMNARogAiACKAIAQX5xNgIAQQAPCyABEDQLIgINAEEADwsgAi0AAEEBcUUNBiAEKAIAIgNBAXFFDQYgAkEIaiAAIAEgA0EBdkF4aiIAIAAgAUsbEDohACAEEDYgAi0AAEEBcUUNBiAADwALAAsjACIAQejJAGogAEGEygBqQbMGIABBwsoAahABAAsjACIAQfrNAGogAEGEygBqQc8GIABBjM4AahABAAALAAsjACIAQdLKAGogAEGEygBqQfoBIABB9coAahABAAsjACIAQYbLAGogAEGEygBqQYACIABB9coAahABAAsjACIAQfrNAGogAEGEygBqQc4BIABB780AahABAAveAgEEfwJAAkAgACgCACIDQQF2IgRBeGoiAiABTwRAIwAhBQJAAkACQCACIAFrIgJBeHFBCEcNACAFQeTJAGooAgAgAEcNACAEEDNFDQIgAkEIakEQTwRAIAAoAgAhAwwCCyMAIgBB68sAaiAAQYTKAGpBvQMgAEHUywBqEAEACyACQRBJDQELIANBAXEiAkUNAiAAIAIgACABakEPakF4cSIBIABrQQF0cjYCACAAIANBAXZqIAFrIgNBD00NAyABIAA2AgQgASABKAIAQQFxIANBAXRyNgIAIwBB5MkAaiICIAEgA0H/////B3FqQQRqIAIoAgAgAEYbIAE2AgAgARA2Cw8LIwAiAEHAywBqIABBhMoAakGsAyAAQdTLAGoQAQALIwAiAEH6zQBqIABBhMoA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ZnRlcihyZWdpb24pIDw9IHNicmsoMCkAL2hvbWUvZm9zc2UvZW1zZGsvZmFzdGNvbXAvZW1zY3JpcHRlbi9zeXN0ZW0vbGliL2VtbWFsbG9jLmNwcABlbW1hbGxvY19tYWxsb2MAc2l6ZSA+IDAAZ2V0QmlnRW5vdWdoRnJlZUxpc3RJbmRleABnZXRGcmVlTGlzdEluZGV4AE1JTl9GUkVFTElTVF9JTkRFWCA8PSBpbmRleCAmJiBpbmRleCA8IE1BWF9GUkVFTElTVF9JTkRFWABwYXlsb2FkU2l6ZSA+PSBzaXplAHBvc3NpYmx5U3BsaXRSZW1haW5kZXIAZXh0cmEgPj0gTUlOX1JFR0lPTl9TSVpFAHRvdGFsU3BsaXRTaXplID49IE1JTl9SRUdJT05fU0laRQBwdHIgPT0gZ2V0QWZ0ZXIobGFzdFJlZ2lvbikAZXh0ZW5kTGFzdFJlZ2lvbgBhZGRUb0ZyZWVMaXN0AG1lcmdlSW50b0V4aXN0aW5nRnJlZVJlZ2lvbgByZWdpb24gPT0gbGFzdFJlZ2lvbgAoY2hhciopZXh0cmFQdHIgPT0gKGNoYXIqKXB0ciArIHNicmtTaXplAGFsbG9jYXRlUmVnaW9uACFsYXN0UmVnaW9uACFmaXJzdFJlZ2lvbgBmaXJzdFJlZ2lvbgBnZXRQYXlsb2FkAHJlZ2lvbi0+Z2V0VXNlZCgpAGVtbWFsbG9jX3JlYWxsb2MA';\n","export class AjaxSource {\n\tconstructor(url, options) {\n\t\tthis.url = url;\n\t\tthis.destination = null;\n\t\tthis.request = null;\n\t\tthis.streaming = false;\n\n\t\tthis.completed = false;\n\t\tthis.established = false;\n\t\tthis.progress = 0;\n\n\t\tthis.onEstablishedCallback = options.onSourceEstablished;\n\t\tthis.onCompletedCallback = options.onSourceCompleted;\n\t}\n\n\tconnect = function(destination) {\n\t\tthis.destination = destination;\n\t};\n\n\tstart = function() {\n\t\tthis.request = new XMLHttpRequest();\n\n\t\tthis.request.onreadystatechange = function() {\n\t\t\tif (this.request.readyState === this.request.DONE && this.request.status === 200) {\n\t\t\t\tthis.onLoad(this.request.response);\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tthis.request.onprogress = this.onProgress.bind(this);\n\t\tthis.request.open(\"GET\", this.url);\n\t\tthis.request.responseType = \"arraybuffer\";\n\t\tthis.request.send();\n\t};\n\n\tresume = function(secondsHeadroom) {\n\t\t// Nothing to do here\n\t};\n\n\tdestroy = function() {\n\t\tthis.request.abort();\n\t};\n\n\tonProgress = function(ev) {\n\t\tthis.progress = ev.loaded / ev.total;\n\t};\n\n\tonLoad = function(data) {\n\t\tthis.established = true;\n\t\tthis.completed = true;\n\t\tthis.progress = 1;\n\n\t\tif (this.onEstablishedCallback) {\n\t\t\tthis.onEstablishedCallback(this);\n\t\t}\n\t\tif (this.onCompletedCallback) {\n\t\t\tthis.onCompletedCallback(this);\n\t\t}\n\n\t\tif (this.destination) {\n\t\t\tthis.destination.write(data);\n\t\t}\n\t};\n}\n","export class BitBuffer {\n\tconstructor(bufferOrLength, mode) {\n\t\tif (typeof bufferOrLength === \"object\") {\n\t\t\tthis.bytes =\n\t\t\t\tbufferOrLength instanceof Uint8Array\n\t\t\t\t\t? bufferOrLength\n\t\t\t\t\t: new Uint8Array(bufferOrLength);\n\n\t\t\tthis.byteLength = this.bytes.length;\n\t\t} else {\n\t\t\tthis.bytes = new Uint8Array(bufferOrLength || 1024 * 1024);\n\t\t\tthis.byteLength = 0;\n\t\t}\n\n\t\tthis.mode = mode || BitBuffer.MODE.EXPAND;\n\t\tthis.index = 0;\n\t}\n\n\tstatic MODE = {\n\t\tEVICT: 1,\n\t\tEXPAND: 2,\n\t};\n\n\tresize = (size) => {\n\t\tlet newBytes = new Uint8Array(size);\n\t\tif (this.byteLength !== 0) {\n\t\t\tthis.byteLength = Math.min(this.byteLength, size);\n\t\t\tnewBytes.set(this.bytes, 0, this.byteLength);\n\t\t}\n\t\tthis.bytes = newBytes;\n\t\tthis.index = Math.min(this.index, this.byteLength << 3);\n\t};\n\n\tevict = (sizeNeeded) => {\n\t\tlet bytePos = this.index >> 3,\n\t\t\tavailable = this.bytes.length - this.byteLength;\n\n\t\t// If the current index is the write position, we can simply reset both\n\t\t// to 0. Also reset (and throw away yet unread data) if we won't be able\n\t\t// to fit the new data in even after a normal eviction.\n\t\tif (\n\t\t\tthis.index === this.byteLength << 3 ||\n\t\t\tsizeNeeded > available + bytePos // emergency evac\n\t\t) {\n\t\t\tthis.byteLength = 0;\n\t\t\tthis.index = 0;\n\t\t\treturn;\n\t\t} else if (bytePos === 0) {\n\t\t\t// Nothing read yet - we can't evict anything\n\t\t\treturn;\n\t\t}\n\n\t\t// Some browsers don't support copyWithin() yet - we may have to do\n\t\t// it manually using set and a subarray\n\t\tif (this.bytes.copyWithin) {\n\t\t\tthis.bytes.copyWithin(0, bytePos, this.byteLength);\n\t\t} else {\n\t\t\tthis.bytes.set(this.bytes.subarray(bytePos, this.byteLength));\n\t\t}\n\n\t\tthis.byteLength = this.byteLength - bytePos;\n\t\tthis.index -= bytePos << 3;\n\t\treturn;\n\t};\n\n\twrite = (buffers) => {\n\t\tlet isArrayOfBuffers = typeof buffers[0] === \"object\",\n\t\t\ttotalLength = 0,\n\t\t\tavailable = this.bytes.length - this.byteLength;\n\n\t\t// Calculate total byte length\n\t\tif (isArrayOfBuffers) {\n\t\t\ttotalLength = 0;// removed let bug 6/9/2020\n\t\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\t\ttotalLength += buffers[i].byteLength;\n\t\t\t}\n\t\t} else {\n\t\t\ttotalLength = buffers.byteLength;\n\t\t}\n\n\t\t// Do we need to resize or evict?\n\t\tif (totalLength > available) {\n\t\t\t\n\t\t\tif (this.mode === BitBuffer.MODE.EXPAND) {\n\t\t\t\tlet newSize = Math.max(this.bytes.length * 2, totalLength - available);\n\t\t\t\tthis.resize(newSize);\n\t\t\t} else {\n\t\t\t\tthis.evict(totalLength);\n\t\t\t}\n\t\t}\n\n\t\tif (isArrayOfBuffers) {\n\t\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\t\tthis.appendSingleBuffer(buffers[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.appendSingleBuffer(buffers);\n\t\t}\n\n\t\treturn totalLength;\n\t};\n\n\tappendSingleBuffer = (buffer) => {\n\t\tbuffer = buffer instanceof Uint8Array ? buffer : new Uint8Array(buffer);\n\t\tthis.bytes.set(buffer, this.byteLength);\n\t\tthis.byteLength += buffer.length;\n\t};\n\n\tfindNextStartCode = () => {\n\t\tfor (let i = (this.index + 7) >> 3; i < this.byteLength; i++) {\n\t\t\tif (\n\t\t\t\tthis.bytes[i] == 0x00 &&\n\t\t\t\tthis.bytes[i + 1] == 0x00 &&\n\t\t\t\tthis.bytes[i + 2] == 0x01\n\t\t\t) {\n\t\t\t\tthis.index = (i + 4) << 3;\n\t\t\t\treturn this.bytes[i + 3];\n\t\t\t}\n\t\t}\n\t\tthis.index = this.byteLength << 3;\n\t\treturn -1;\n\t};\n\n\tfindStartCode = (code) => {\n\t\tlet current = 0;\n\t\twhile (true) {\n\t\t\tcurrent = this.findNextStartCode();\n\t\t\tif (current === code || current === -1) {\n\t\t\t\treturn current;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tnextBytesAreStartCode = () => {\n\t\tlet i = (this.index + 7) >> 3;\n\t\treturn (\n\t\t\ti >= this.byteLength ||\n\t\t\t(this.bytes[i] == 0x00 && this.bytes[i + 1] == 0x00 && this.bytes[i + 2] == 0x01)\n\t\t);\n\t};\n\n\tpeek = (count) => {\n\t\tlet offset = this.index;\n\t\tlet value = 0;\n\t\twhile (count) {\n\t\t\tlet currentByte = this.bytes[offset >> 3],\n\t\t\t\tremaining = 8 - (offset & 7), // remaining bits in byte\n\t\t\t\tread = remaining < count ? remaining : count, // bits in this run\n\t\t\t\tshift = remaining - read,\n\t\t\t\tmask = 0xff >> (8 - read);\n\n\t\t\tvalue = (value << read) | ((currentByte & (mask << shift)) >> shift);\n\n\t\t\toffset += read;\n\t\t\tcount -= read;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tread = (count) => {\n\t\tlet value = this.peek(count);\n\t\tthis.index += count;\n\t\treturn value;\n\t};\n\n\tskip = (count) => {\n\t\treturn (this.index += count);\n\t};\n\n\trewind = (count) => {\n\t\tthis.index = Math.max(this.index - count, 0);\n\t};\n\n\thas = (count) => {\n\t\treturn (this.byteLength << 3) - this.index >= count;\n\t};\n}\n","import { Fill } from \"./utils.js\";\n\nexport class CanvasRenderer {\n\tconstructor(options) {\n\t\tthis.canvas = options.canvas || document.createElement(\"canvas\");\n\t\tthis.width = this.canvas.width;\n\t\tthis.height = this.canvas.height;\n\t\tthis.enabled = true;\n\n\t\tthis.context = this.canvas.getContext(\"2d\");\n\t}\n\n\tdestroy = function() {\n\t\t// Nothing to do here\n\t};\n\n\tresize = function(width, height) {\n\t\tthis.width = width | 0;\n\t\tthis.height = height | 0;\n\n\t\tthis.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\n\t\tthis.imageData = this.context.getImageData(0, 0, this.width, this.height);\n\t\tFill(this.imageData.data, 255);\n\t};\n\n\trenderProgress = function(progress) {\n\t\tvar w = this.canvas.width,\n\t\t\th = this.canvas.height,\n\t\t\tctx = this.context;\n\n\t\tctx.fillStyle = \"#222\";\n\t\tctx.fillRect(0, 0, w, h);\n\t\tctx.fillStyle = \"#fff\";\n\t\tctx.fillRect(0, h - h * progress, w, h * progress);\n\t};\n\n\trender = function(y, cb, cr) {\n\t\tthis.YCbCrToRGBA(y, cb, cr, this.imageData.data);\n\t\tthis.context.putImageData(this.imageData, 0, 0);\n\t};\n\n\tYCbCrToRGBA = function(y, cb, cr, rgba) {\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Chroma values are the same for each block of 4 pixels, so we proccess\n\t\t// 2 lines at a time, 2 neighboring pixels each.\n\t\t// I wish we could use 32bit writes to the RGBA buffer instead of writing\n\t\t// each byte separately, but we need the automatic clamping of the RGBA\n\t\t// buffer.\n\n\t\tvar w = ((this.width + 15) >> 4) << 4,\n\t\t\tw2 = w >> 1;\n\n\t\tvar yIndex1 = 0,\n\t\t\tyIndex2 = w,\n\t\t\tyNext2Lines = w + (w - this.width);\n\n\t\tvar cIndex = 0,\n\t\t\tcNextLine = w2 - (this.width >> 1);\n\n\t\tvar rgbaIndex1 = 0,\n\t\t\trgbaIndex2 = this.width * 4,\n\t\t\trgbaNext2Lines = this.width * 4;\n\n\t\tvar cols = this.width >> 1,\n\t\t\trows = this.height >> 1;\n\n\t\tvar ccb, ccr, r, g, b;\n\n\t\tfor (var row = 0; row < rows; row++) {\n\t\t\tfor (var col = 0; col < cols; col++) {\n\t\t\t\tccb = cb[cIndex];\n\t\t\t\tccr = cr[cIndex];\n\t\t\t\tcIndex++;\n\n\t\t\t\tr = ccb + ((ccb * 103) >> 8) - 179;\n\t\t\t\tg = ((ccr * 88) >> 8) - 44 + ((ccb * 183) >> 8) - 91;\n\t\t\t\tb = ccr + ((ccr * 198) >> 8) - 227;\n\n\t\t\t\t// Line 1\n\t\t\t\tvar y1 = y[yIndex1++];\n\t\t\t\tvar y2 = y[yIndex1++];\n\t\t\t\trgba[rgbaIndex1] = y1 + r;\n\t\t\t\trgba[rgbaIndex1 + 1] = y1 - g;\n\t\t\t\trgba[rgbaIndex1 + 2] = y1 + b;\n\t\t\t\trgba[rgbaIndex1 + 4] = y2 + r;\n\t\t\t\trgba[rgbaIndex1 + 5] = y2 - g;\n\t\t\t\trgba[rgbaIndex1 + 6] = y2 + b;\n\t\t\t\trgbaIndex1 += 8;\n\n\t\t\t\t// Line 2\n\t\t\t\tvar y3 = y[yIndex2++];\n\t\t\t\tvar y4 = y[yIndex2++];\n\t\t\t\trgba[rgbaIndex2] = y3 + r;\n\t\t\t\trgba[rgbaIndex2 + 1] = y3 - g;\n\t\t\t\trgba[rgbaIndex2 + 2] = y3 + b;\n\t\t\t\trgba[rgbaIndex2 + 4] = y4 + r;\n\t\t\t\trgba[rgbaIndex2 + 5] = y4 - g;\n\t\t\t\trgba[rgbaIndex2 + 6] = y4 + b;\n\t\t\t\trgbaIndex2 += 8;\n\t\t\t}\n\n\t\t\tyIndex1 += yNext2Lines;\n\t\t\tyIndex2 += yNext2Lines;\n\t\t\trgbaIndex1 += rgbaNext2Lines;\n\t\t\trgbaIndex2 += rgbaNext2Lines;\n\t\t\tcIndex += cNextLine;\n\t\t}\n\t};\n}\n","export class BaseDecoder {\n\tconstructor(options) {\n\t\tthis.destination = null;\n\t\tthis.canPlay = false;\n\n\t\tthis.collectTimestamps = !options.streaming;\n\t\tthis.bytesWritten = 0;\n\t\tthis.timestamps = [];\n\t\tthis.timestampIndex = 0;\n\n\t\tthis.startTime = 0;\n\t\tthis.decodedTime = 0;\n\n\t\tObject.defineProperty(this, \"currentTime\", { get: this.getCurrentTime });\n\t}\n\n\tdestroy = () => {};\n\n\tconnect = (destination) => {\n\t\tthis.destination = destination;\n\t};\n\n\tbufferGetIndex = () => {\n\t\treturn this.bits.index;\n\t};\n\n\tbufferSetIndex = (index) => {\n\t\tthis.bits.index = index;\n\t};\n\n\tbufferWrite = (buffers) => {\n\t\treturn this.bits.write(buffers);\n\t};\n\n\twrite = (pts, buffers) => {\n\t\tthis.baseWrite(pts, buffers);\n\t};\n\n\tbaseWrite = (pts, buffers) => {\n\t\tif (this.collectTimestamps) {\n\t\t\tif (this.timestamps.length === 0) {\n\t\t\t\tthis.startTime = pts;\n\t\t\t\tthis.decodedTime = pts;\n\t\t\t}\n\t\t\tthis.timestamps.push({ index: this.bytesWritten << 3, time: pts });\n\t\t}\n\n\t\tthis.bytesWritten += this.bufferWrite(buffers);\n\t\tthis.canPlay = true;\n\t};\n\n\tseek = (time) => {\n\t\tif (!this.collectTimestamps) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timestampIndex = 0;\n\t\tfor (var i = 0; i < this.timestamps.length; i++) {\n\t\t\tif (this.timestamps[i].time > time) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.timestampIndex = i;\n\t\t}\n\n\t\tlet ts = this.timestamps[this.timestampIndex];\n\t\tif (ts) {\n\t\t\tthis.bufferSetIndex(ts.index);\n\t\t\tthis.decodedTime = ts.time;\n\t\t} else {\n\t\t\tthis.bufferSetIndex(0);\n\t\t\tthis.decodedTime = this.startTime;\n\t\t}\n\t};\n\n\tdecode = () => {\n\t\tthis.advanceDecodedTime(0);\n\t};\n\n\tadvanceDecodedTime = (seconds) => {\n\t\tif (this.collectTimestamps) {\n\t\t\tlet newTimestampIndex = -1;\n\t\t\tlet currentIndex = this.bufferGetIndex();\n\t\t\tfor (let i = this.timestampIndex; i < this.timestamps.length; i++) {\n\t\t\t\tif (this.timestamps[i].index > currentIndex) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tnewTimestampIndex = i;\n\t\t\t}\n\n\t\t\t// Did we find a new PTS, different from the last? If so, we don't have\n\t\t\t// to advance the decoded time manually and can instead sync it exactly\n\t\t\t// to the PTS.\n\t\t\tif (newTimestampIndex !== -1 && newTimestampIndex !== this.timestampIndex) {\n\t\t\t\tthis.timestampIndex = newTimestampIndex;\n\t\t\t\tthis.decodedTime = this.timestamps[this.timestampIndex].time;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.decodedTime += seconds;\n\t};\n\n\tgetCurrentTime = function() {\n\t\treturn this.decodedTime;\n\t};\n}\n","// Based on kjmp2 by Martin J. Fiedler\n// http://keyj.emphy.de/kjmp2/\n\nimport { BitBuffer } from \"./buffer.js\";\nimport { BaseDecoder } from \"./decoder.js\";\nimport { Now } from \"./utils.js\";\n\nexport class MP2WASM extends BaseDecoder {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.onDecodeCallback = options.onAudioDecode;\n\t\tthis.module = options.wasmModule;\n\n\t\tthis.bufferSize = options.audioBufferSize || 128 * 1024;\n\t\tthis.bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\n\n\t\tthis.sampleRate = 0;\n\t}\n\n\tstatic SAMPLES_PER_FRAME = 1152;\n\n\tinitializeWasmDecoder = () => {\n\t\tif (!this.module.instance) {\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\n\t\t\treturn;\n\t\t}\n\t\tthis.instance = this.module.instance;\n\t\tthis.functions = this.module.instance.exports;\n\t\tthis.decoder = this.functions.mp2_decoder_create(this.bufferSize, this.bufferMode);\n\t};\n\n\tdestroy = () => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\t/*this.functions && */ this.functions.mp2_decoder_destroy(this.decoder);\n\t};\n\n\tbufferGetIndex = () => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.functions.mp2_decoder_get_index(this.decoder);\n\t};\n\n\tbufferSetIndex = (index) => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\tthis.functions.mp2_decoder_set_index(this.decoder, index);\n\t};\n\n\tbufferWrite = (buffers) => {\n\t\t// 1/28/20\n\t\t// https://github.com/SuperAwesomeLTD/jsmpeg/pull/1/commits/e2728ba23086fec6aea62f4f2810c5c755199a40\n\t\tif (!this.module.instance) {\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\n\t\t\treturn;\n\t\t}\n\t\tif (!this.decoder) {\n\t\t\tthis.initializeWasmDecoder();\n\t\t}\n\n\t\tlet totalLength = 0;\n\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\ttotalLength += buffers[i].length;\n\t\t}\n\n\t\tlet ptr = this.functions.mp2_decoder_get_write_ptr(this.decoder, totalLength);\n\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\tthis.instance.heapU8.set(buffers[i], ptr);\n\t\t\tptr += buffers[i].length;\n\t\t}\n\n\t\tthis.functions.mp2_decoder_did_write(this.decoder, totalLength);\n\t\treturn totalLength;\n\t};\n\n\twrite = (pts, buffers) => {\n\t\tthis.baseWrite(pts, buffers);\n\t};\n\n\tdecode = () => {\n\t\tlet startTime = Now();\n\n\t\tif (!this.decoder) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet decodedBytes = this.functions.mp2_decoder_decode(this.decoder);\n\t\tif (decodedBytes === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.sampleRate) {\n\t\t\tthis.sampleRate = this.functions.mp2_decoder_get_sample_rate(this.decoder);\n\t\t}\n\n\t\tif (this.destination) {\n\t\t\t// Create a Float32 View into the modules output channel data\n\t\t\tlet leftPtr = this.functions.mp2_decoder_get_left_channel_ptr(this.decoder),\n\t\t\t\trightPtr = this.functions.mp2_decoder_get_right_channel_ptr(this.decoder);\n\n\t\t\tlet leftOffset = leftPtr / Float32Array.BYTES_PER_ELEMENT,\n\t\t\t\trightOffset = rightPtr / Float32Array.BYTES_PER_ELEMENT;\n\n\t\t\tlet left = this.instance.heapF32.subarray(\n\t\t\t\t\tleftOffset,\n\t\t\t\t\tleftOffset + MP2WASM.SAMPLES_PER_FRAME,\n\t\t\t\t),\n\t\t\t\tright = this.instance.heapF32.subarray(\n\t\t\t\t\trightOffset,\n\t\t\t\t\trightOffset + MP2WASM.SAMPLES_PER_FRAME,\n\t\t\t\t);\n\n\t\t\tthis.destination.play(this.sampleRate, left, right);\n\t\t}\n\n\t\tthis.advanceDecodedTime(MP2WASM.SAMPLES_PER_FRAME / this.sampleRate);\n\n\t\tlet elapsedTime = Now() - startTime;\n\t\tif (this.onDecodeCallback) {\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\n\t\t}\n\t\treturn true;\n\t};\n\n\tgetCurrentTime = () => {\n\t\tlet enqueuedTime = this.destination ? this.destination.enqueuedTime : 0;\n\t\treturn this.decodedTime - enqueuedTime;\n\t};\n}\n","// JSMpeg.Decoder.MP2Audio = (function(){ \"use strict\";\n\n// Based on kjmp2 by Martin J. Fiedler\n// http://keyj.emphy.de/kjmp2/\n\nimport { BitBuffer } from \"./buffer.js\";\nimport { BaseDecoder } from \"./decoder.js\";\nimport { Now, Fill } from \"./utils.js\";\n\nexport class MP2 extends BaseDecoder {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.onDecodeCallback = options.onAudioDecode;\n\n\t\tlet bufferSize = options.audioBufferSize || 128 * 1024;\n\t\tlet bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\n\n\t\tthis.bits = new BitBuffer(bufferSize, bufferMode);\n\n\t\tthis.left = new Float32Array(1152);\n\t\tthis.right = new Float32Array(1152);\n\t\tthis.sampleRate = 44100;\n\n\t\tthis.D = new Float32Array(1024);\n\t\tthis.D.set(MP2.SYNTHESIS_WINDOW, 0);\n\t\tthis.D.set(MP2.SYNTHESIS_WINDOW, 512);\n\t\tthis.V = [new Float32Array(1024), new Float32Array(1024)];\n\t\tthis.U = new Int32Array(32);\n\t\tthis.VPos = 0;\n\n\t\tthis.allocation = [new Array(32), new Array(32)];\n\t\tthis.scaleFactorInfo = [new Uint8Array(32), new Uint8Array(32)];\n\t\tthis.scaleFactor = [new Array(32), new Array(32)];\n\t\tthis.sample = [new Array(32), new Array(32)];\n\n\t\tfor (let j = 0; j < 2; j++) {\n\t\t\tfor (let i = 0; i < 32; i++) {\n\t\t\t\tthis.scaleFactor[j][i] = [0, 0, 0];\n\t\t\t\tthis.sample[j][i] = [0, 0, 0];\n\t\t\t}\n\t\t}\n\t}\n\n\tdecode = () => {\n\t\tlet startTime = Now();\n\n\t\tlet pos = this.bits.index >> 3;\n\t\tif (pos >= this.bits.byteLength) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet decoded = this.decodeFrame(this.left, this.right);\n\t\tthis.bits.index = (pos + decoded) << 3;\n\t\tif (!decoded) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.destination) {\n\t\t\tthis.destination.play(this.sampleRate, this.left, this.right);\n\t\t}\n\n\t\tthis.advanceDecodedTime(this.left.length / this.sampleRate);\n\n\t\tlet elapsedTime = Now() - startTime;\n\t\tif (this.onDecodeCallback) {\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\n\t\t}\n\t\treturn true;\n\t};\n\n\tgetCurrentTime = () => {\n\t\tlet enqueuedTime = this.destination ? this.destination.enqueuedTime : 0;\n\t\treturn this.decodedTime - enqueuedTime;\n\t};\n\n\tdecodeFrame = (left, right) => {\n\t\t// Check for valid header: syncword OK, MPEG-Audio Layer 2\n\t\tlet sync = this.bits.read(11),\n\t\t\tversion = this.bits.read(2),\n\t\t\tlayer = this.bits.read(2),\n\t\t\thasCRC = !this.bits.read(1);\n\n\t\tif (\n\t\t\tsync !== MP2.FRAME_SYNC ||\n\t\t\tversion !== MP2.VERSION.MPEG_1 ||\n\t\t\tlayer !== MP2.LAYER.II\n\t\t) {\n\t\t\treturn 0; // Invalid header or unsupported version\n\t\t}\n\n\t\tlet bitrateIndex = this.bits.read(4) - 1;\n\t\tif (bitrateIndex > 13) {\n\t\t\treturn 0; // Invalid bit rate or 'free format'\n\t\t}\n\n\t\tlet sampleRateIndex = this.bits.read(2);\n\t\tlet sampleRate = MP2.SAMPLE_RATE[sampleRateIndex];\n\t\tif (sampleRateIndex === 3) {\n\t\t\treturn 0; // Invalid sample rate\n\t\t}\n\t\tif (version === MP2.VERSION.MPEG_2) {\n\t\t\tsampleRateIndex += 4;\n\t\t\tbitrateIndex += 14;\n\t\t}\n\t\tlet padding = this.bits.read(1),\n\t\t\tprivat = this.bits.read(1),\n\t\t\tmode = this.bits.read(2);\n\n\t\t// Parse the mode_extension, set up the stereo bound\n\t\tlet bound = 0;\n\t\tif (mode === MP2.MODE.JOINT_STEREO) {\n\t\t\tbound = (this.bits.read(2) + 1) << 2;\n\t\t} else {\n\t\t\tthis.bits.skip(2);\n\t\t\tbound = mode === MP2.MODE.MONO ? 0 : 32;\n\t\t}\n\n\t\t// Discard the last 4 bits of the header and the CRC value, if present\n\t\tthis.bits.skip(4);\n\t\tif (hasCRC) {\n\t\t\tthis.bits.skip(16);\n\t\t}\n\n\t\t// Compute the frame size\n\t\tlet bitrate = MP2.BIT_RATE[bitrateIndex],\n\t\t\t// sampleRate = MP2.SAMPLE_RATE[sampleRateIndex],\n\t\t\tframeSize = ((144000 * bitrate) / sampleRate + padding) | 0;\n\n\t\t// Prepare the quantizer table lookups\n\t\tlet tab3 = 0;\n\t\tlet sblimit = 0;\n\t\tif (version === MP2.VERSION.MPEG_2) {\n\t\t\t// MPEG-2 (LSR)\n\t\t\ttab3 = 2;\n\t\t\tsblimit = 30;\n\t\t} else {\n\t\t\t// MPEG-1\n\t\t\tlet tab1 = mode === MP2.MODE.MONO ? 0 : 1;\n\t\t\tlet tab2 = MP2.QUANT_LUT_STEP_1[tab1][bitrateIndex];\n\t\t\ttab3 = MP2.QUANT_LUT_STEP_2[tab2][sampleRateIndex];\n\t\t\tsblimit = tab3 & 63;\n\t\t\ttab3 >>= 6;\n\t\t}\n\n\t\tif (bound > sblimit) {\n\t\t\tbound = sblimit;\n\t\t}\n\n\t\t// Read the allocation information\n\t\tfor (let sb = 0; sb < bound; sb++) {\n\t\t\tthis.allocation[0][sb] = this.readAllocation(sb, tab3);\n\t\t\tthis.allocation[1][sb] = this.readAllocation(sb, tab3);\n\t\t}\n\n\t\tfor (let sb = bound; sb < sblimit; sb++) {\n\t\t\tthis.allocation[0][sb] = this.allocation[1][sb] = this.readAllocation(sb, tab3);\n\t\t}\n\n\t\t// Read scale factor selector information\n\t\tlet channels = mode === MP2.MODE.MONO ? 1 : 2;\n\t\tfor (let sb = 0; sb < sblimit; sb++) {\n\t\t\t// added let to ch 6/20/20\n\t\t\tfor (let ch = 0; ch < channels; ch++) {\n\t\t\t\tif (this.allocation[ch][sb]) {\n\t\t\t\t\tthis.scaleFactorInfo[ch][sb] = this.bits.read(2);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (mode === MP2.MODE.MONO) {\n\t\t\t\tthis.scaleFactorInfo[1][sb] = this.scaleFactorInfo[0][sb];\n\t\t\t}\n\t\t}\n\n\t\t// Read scale factors\n\t\tfor (let sb = 0; sb < sblimit; sb++) {\n\t\t\tfor (let ch = 0; ch < channels; ch++) {\n\t\t\t\tif (this.allocation[ch][sb]) {\n\t\t\t\t\tlet sf = this.scaleFactor[ch][sb];\n\t\t\t\t\tswitch (this.scaleFactorInfo[ch][sb]) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tsf[0] = this.bits.read(6);\n\t\t\t\t\t\t\tsf[1] = this.bits.read(6);\n\t\t\t\t\t\t\tsf[2] = this.bits.read(6);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tsf[0] = sf[1] = this.bits.read(6);\n\t\t\t\t\t\t\tsf[2] = this.bits.read(6);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tsf[0] = sf[1] = sf[2] = this.bits.read(6);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tsf[0] = this.bits.read(6);\n\t\t\t\t\t\t\tsf[1] = sf[2] = this.bits.read(6);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (mode === MP2.MODE.MONO) {\n\t\t\t\tthis.scaleFactor[1][sb][0] = this.scaleFactor[0][sb][0];\n\t\t\t\tthis.scaleFactor[1][sb][1] = this.scaleFactor[0][sb][1];\n\t\t\t\tthis.scaleFactor[1][sb][2] = this.scaleFactor[0][sb][2];\n\t\t\t}\n\t\t}\n\n\t\t// Coefficient input and reconstruction\n\t\tlet outPos = 0;\n\t\tfor (let part = 0; part < 3; part++) {\n\t\t\tfor (let granule = 0; granule < 4; granule++) {\n\t\t\t\t// Read the samples\n\t\t\t\tfor (let sb = 0; sb < bound; sb++) {\n\t\t\t\t\tthis.readSamples(0, sb, part);\n\t\t\t\t\tthis.readSamples(1, sb, part);\n\t\t\t\t}\n\t\t\t\tfor (let sb = bound; sb < sblimit; sb++) {\n\t\t\t\t\tthis.readSamples(0, sb, part);\n\t\t\t\t\tthis.sample[1][sb][0] = this.sample[0][sb][0];\n\t\t\t\t\tthis.sample[1][sb][1] = this.sample[0][sb][1];\n\t\t\t\t\tthis.sample[1][sb][2] = this.sample[0][sb][2];\n\t\t\t\t}\n\t\t\t\tfor (let sb = sblimit; sb < 32; sb++) {\n\t\t\t\t\tthis.sample[0][sb][0] = 0;\n\t\t\t\t\tthis.sample[0][sb][1] = 0;\n\t\t\t\t\tthis.sample[0][sb][2] = 0;\n\t\t\t\t\tthis.sample[1][sb][0] = 0;\n\t\t\t\t\tthis.sample[1][sb][1] = 0;\n\t\t\t\t\tthis.sample[1][sb][2] = 0;\n\t\t\t\t}\n\n\t\t\t\t// Synthesis loop\n\t\t\t\tfor (let p = 0; p < 3; p++) {\n\t\t\t\t\t// Shifting step\n\t\t\t\t\tthis.VPos = (this.VPos - 64) & 1023;\n\n\t\t\t\t\tfor (let ch = 0; ch < 2; ch++) {\n\t\t\t\t\t\tthis.MatrixTransform(this.sample[ch], p, this.V[ch], this.VPos);\n\n\t\t\t\t\t\t// Build U, windowing, calculate output\n\t\t\t\t\t\tFill(this.U, 0);\n\n\t\t\t\t\t\tlet dIndex = 512 - (this.VPos >> 1);\n\t\t\t\t\t\tlet vIndex = this.VPos % 128 >> 1;\n\t\t\t\t\t\twhile (vIndex < 1024) {\n\t\t\t\t\t\t\tfor (let i = 0; i < 32; ++i) {\n\t\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[ch][vIndex++];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvIndex += 128 - 32;\n\t\t\t\t\t\t\tdIndex += 64 - 32;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvIndex = 128 - 32 + 1024 - vIndex;\n\t\t\t\t\t\tdIndex -= 512 - 32;\n\t\t\t\t\t\twhile (vIndex < 1024) {\n\t\t\t\t\t\t\tfor (let i = 0; i < 32; ++i) {\n\t\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[ch][vIndex++];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvIndex += 128 - 32;\n\t\t\t\t\t\t\tdIndex += 64 - 32;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Output samples\n\t\t\t\t\t\tlet outChannel = ch === 0 ? left : right;\n\t\t\t\t\t\tfor (let j = 0; j < 32; j++) {\n\t\t\t\t\t\t\toutChannel[outPos + j] = this.U[j] / 2147418112;\n\t\t\t\t\t\t}\n\t\t\t\t\t} // End of synthesis channel loop\n\t\t\t\t\toutPos += 32;\n\t\t\t\t} // End of synthesis sub-block loop\n\t\t\t} // Decoding of the granule finished\n\t\t}\n\n\t\tthis.sampleRate = sampleRate;\n\t\treturn frameSize;\n\t};\n\n\treadAllocation = (sb, tab3) => {\n\t\tlet tab4 = MP2.QUANT_LUT_STEP_3[tab3][sb];\n\t\tlet qtab = MP2.QUANT_LUT_STEP4[tab4 & 15][this.bits.read(tab4 >> 4)];\n\t\treturn qtab ? MP2.QUANT_TAB[qtab - 1] : 0;\n\t};\n\n\treadSamples = (ch, sb, part) => {\n\t\tlet q = this.allocation[ch][sb],\n\t\t\tsf = this.scaleFactor[ch][sb][part],\n\t\t\tsample = this.sample[ch][sb],\n\t\t\tval = 0;\n\n\t\tif (!q) {\n\t\t\t// No bits allocated for this subband\n\t\t\tsample[0] = sample[1] = sample[2] = 0;\n\t\t\treturn;\n\t\t}\n\n\t\t// Resolve scalefactor\n\t\tif (sf === 63) {\n\t\t\tsf = 0;\n\t\t} else {\n\t\t\tlet shift = (sf / 3) | 0;\n\t\t\tsf = (MP2.SCALEFACTOR_BASE[sf % 3] + ((1 << shift) >> 1)) >> shift;\n\t\t}\n\n\t\t// Decode samples\n\t\tlet adj = q.levels;\n\t\tif (q.group) {\n\t\t\t// Decode grouped samples\n\t\t\tval = this.bits.read(q.bits);\n\t\t\tsample[0] = val % adj;\n\t\t\tval = (val / adj) | 0;\n\t\t\tsample[1] = val % adj;\n\t\t\tsample[2] = (val / adj) | 0;\n\t\t} else {\n\t\t\t// Decode direct samples\n\t\t\tsample[0] = this.bits.read(q.bits);\n\t\t\tsample[1] = this.bits.read(q.bits);\n\t\t\tsample[2] = this.bits.read(q.bits);\n\t\t}\n\n\t\t// Postmultiply samples\n\t\tlet scale = (65536 / (adj + 1)) | 0;\n\t\tadj = ((adj + 1) >> 1) - 1;\n\n\t\tval = (adj - sample[0]) * scale;\n\t\tsample[0] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\n\n\t\tval = (adj - sample[1]) * scale;\n\t\tsample[1] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\n\n\t\tval = (adj - sample[2]) * scale;\n\t\tsample[2] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\n\t};\n\n\tMatrixTransform = (s, ss, d, dp) => {\n\t\tlet t01,\n\t\t\tt02,\n\t\t\tt03,\n\t\t\tt04,\n\t\t\tt05,\n\t\t\tt06,\n\t\t\tt07,\n\t\t\tt08,\n\t\t\tt09,\n\t\t\tt10,\n\t\t\tt11,\n\t\t\tt12,\n\t\t\tt13,\n\t\t\tt14,\n\t\t\tt15,\n\t\t\tt16,\n\t\t\tt17,\n\t\t\tt18,\n\t\t\tt19,\n\t\t\tt20,\n\t\t\tt21,\n\t\t\tt22,\n\t\t\tt23,\n\t\t\tt24,\n\t\t\tt25,\n\t\t\tt26,\n\t\t\tt27,\n\t\t\tt28,\n\t\t\tt29,\n\t\t\tt30,\n\t\t\tt31,\n\t\t\tt32,\n\t\t\tt33;\n\n\t\tt01 = s[0][ss] + s[31][ss];\n\t\tt02 = (s[0][ss] - s[31][ss]) * 0.500602998235;\n\t\tt03 = s[1][ss] + s[30][ss];\n\t\tt04 = (s[1][ss] - s[30][ss]) * 0.505470959898;\n\t\tt05 = s[2][ss] + s[29][ss];\n\t\tt06 = (s[2][ss] - s[29][ss]) * 0.515447309923;\n\t\tt07 = s[3][ss] + s[28][ss];\n\t\tt08 = (s[3][ss] - s[28][ss]) * 0.53104259109;\n\t\tt09 = s[4][ss] + s[27][ss];\n\t\tt10 = (s[4][ss] - s[27][ss]) * 0.553103896034;\n\t\tt11 = s[5][ss] + s[26][ss];\n\t\tt12 = (s[5][ss] - s[26][ss]) * 0.582934968206;\n\t\tt13 = s[6][ss] + s[25][ss];\n\t\tt14 = (s[6][ss] - s[25][ss]) * 0.622504123036;\n\t\tt15 = s[7][ss] + s[24][ss];\n\t\tt16 = (s[7][ss] - s[24][ss]) * 0.674808341455;\n\t\tt17 = s[8][ss] + s[23][ss];\n\t\tt18 = (s[8][ss] - s[23][ss]) * 0.744536271002;\n\t\tt19 = s[9][ss] + s[22][ss];\n\t\tt20 = (s[9][ss] - s[22][ss]) * 0.839349645416;\n\t\tt21 = s[10][ss] + s[21][ss];\n\t\tt22 = (s[10][ss] - s[21][ss]) * 0.972568237862;\n\t\tt23 = s[11][ss] + s[20][ss];\n\t\tt24 = (s[11][ss] - s[20][ss]) * 1.16943993343;\n\t\tt25 = s[12][ss] + s[19][ss];\n\t\tt26 = (s[12][ss] - s[19][ss]) * 1.48416461631;\n\t\tt27 = s[13][ss] + s[18][ss];\n\t\tt28 = (s[13][ss] - s[18][ss]) * 2.05778100995;\n\t\tt29 = s[14][ss] + s[17][ss];\n\t\tt30 = (s[14][ss] - s[17][ss]) * 3.40760841847;\n\t\tt31 = s[15][ss] + s[16][ss];\n\t\tt32 = (s[15][ss] - s[16][ss]) * 10.1900081235;\n\n\t\tt33 = t01 + t31;\n\t\tt31 = (t01 - t31) * 0.502419286188;\n\t\tt01 = t03 + t29;\n\t\tt29 = (t03 - t29) * 0.52249861494;\n\t\tt03 = t05 + t27;\n\t\tt27 = (t05 - t27) * 0.566944034816;\n\t\tt05 = t07 + t25;\n\t\tt25 = (t07 - t25) * 0.64682178336;\n\t\tt07 = t09 + t23;\n\t\tt23 = (t09 - t23) * 0.788154623451;\n\t\tt09 = t11 + t21;\n\t\tt21 = (t11 - t21) * 1.06067768599;\n\t\tt11 = t13 + t19;\n\t\tt19 = (t13 - t19) * 1.72244709824;\n\t\tt13 = t15 + t17;\n\t\tt17 = (t15 - t17) * 5.10114861869;\n\t\tt15 = t33 + t13;\n\t\tt13 = (t33 - t13) * 0.509795579104;\n\t\tt33 = t01 + t11;\n\t\tt01 = (t01 - t11) * 0.601344886935;\n\t\tt11 = t03 + t09;\n\t\tt09 = (t03 - t09) * 0.899976223136;\n\t\tt03 = t05 + t07;\n\t\tt07 = (t05 - t07) * 2.56291544774;\n\t\tt05 = t15 + t03;\n\t\tt15 = (t15 - t03) * 0.541196100146;\n\t\tt03 = t33 + t11;\n\t\tt11 = (t33 - t11) * 1.30656296488;\n\t\tt33 = t05 + t03;\n\t\tt05 = (t05 - t03) * 0.707106781187;\n\t\tt03 = t15 + t11;\n\t\tt15 = (t15 - t11) * 0.707106781187;\n\t\tt03 += t15;\n\t\tt11 = t13 + t07;\n\t\tt13 = (t13 - t07) * 0.541196100146;\n\t\tt07 = t01 + t09;\n\t\tt09 = (t01 - t09) * 1.30656296488;\n\t\tt01 = t11 + t07;\n\t\tt07 = (t11 - t07) * 0.707106781187;\n\t\tt11 = t13 + t09;\n\t\tt13 = (t13 - t09) * 0.707106781187;\n\t\tt11 += t13;\n\t\tt01 += t11;\n\t\tt11 += t07;\n\t\tt07 += t13;\n\t\tt09 = t31 + t17;\n\t\tt31 = (t31 - t17) * 0.509795579104;\n\t\tt17 = t29 + t19;\n\t\tt29 = (t29 - t19) * 0.601344886935;\n\t\tt19 = t27 + t21;\n\t\tt21 = (t27 - t21) * 0.899976223136;\n\t\tt27 = t25 + t23;\n\t\tt23 = (t25 - t23) * 2.56291544774;\n\t\tt25 = t09 + t27;\n\t\tt09 = (t09 - t27) * 0.541196100146;\n\t\tt27 = t17 + t19;\n\t\tt19 = (t17 - t19) * 1.30656296488;\n\t\tt17 = t25 + t27;\n\t\tt27 = (t25 - t27) * 0.707106781187;\n\t\tt25 = t09 + t19;\n\t\tt19 = (t09 - t19) * 0.707106781187;\n\t\tt25 += t19;\n\t\tt09 = t31 + t23;\n\t\tt31 = (t31 - t23) * 0.541196100146;\n\t\tt23 = t29 + t21;\n\t\tt21 = (t29 - t21) * 1.30656296488;\n\t\tt29 = t09 + t23;\n\t\tt23 = (t09 - t23) * 0.707106781187;\n\t\tt09 = t31 + t21;\n\t\tt31 = (t31 - t21) * 0.707106781187;\n\t\tt09 += t31;\n\t\tt29 += t09;\n\t\tt09 += t23;\n\t\tt23 += t31;\n\t\tt17 += t29;\n\t\tt29 += t25;\n\t\tt25 += t09;\n\t\tt09 += t27;\n\t\tt27 += t23;\n\t\tt23 += t19;\n\t\tt19 += t31;\n\t\tt21 = t02 + t32;\n\t\tt02 = (t02 - t32) * 0.502419286188;\n\t\tt32 = t04 + t30;\n\t\tt04 = (t04 - t30) * 0.52249861494;\n\t\tt30 = t06 + t28;\n\t\tt28 = (t06 - t28) * 0.566944034816;\n\t\tt06 = t08 + t26;\n\t\tt08 = (t08 - t26) * 0.64682178336;\n\t\tt26 = t10 + t24;\n\t\tt10 = (t10 - t24) * 0.788154623451;\n\t\tt24 = t12 + t22;\n\t\tt22 = (t12 - t22) * 1.06067768599;\n\t\tt12 = t14 + t20;\n\t\tt20 = (t14 - t20) * 1.72244709824;\n\t\tt14 = t16 + t18;\n\t\tt16 = (t16 - t18) * 5.10114861869;\n\t\tt18 = t21 + t14;\n\t\tt14 = (t21 - t14) * 0.509795579104;\n\t\tt21 = t32 + t12;\n\t\tt32 = (t32 - t12) * 0.601344886935;\n\t\tt12 = t30 + t24;\n\t\tt24 = (t30 - t24) * 0.899976223136;\n\t\tt30 = t06 + t26;\n\t\tt26 = (t06 - t26) * 2.56291544774;\n\t\tt06 = t18 + t30;\n\t\tt18 = (t18 - t30) * 0.541196100146;\n\t\tt30 = t21 + t12;\n\t\tt12 = (t21 - t12) * 1.30656296488;\n\t\tt21 = t06 + t30;\n\t\tt30 = (t06 - t30) * 0.707106781187;\n\t\tt06 = t18 + t12;\n\t\tt12 = (t18 - t12) * 0.707106781187;\n\t\tt06 += t12;\n\t\tt18 = t14 + t26;\n\t\tt26 = (t14 - t26) * 0.541196100146;\n\t\tt14 = t32 + t24;\n\t\tt24 = (t32 - t24) * 1.30656296488;\n\t\tt32 = t18 + t14;\n\t\tt14 = (t18 - t14) * 0.707106781187;\n\t\tt18 = t26 + t24;\n\t\tt24 = (t26 - t24) * 0.707106781187;\n\t\tt18 += t24;\n\t\tt32 += t18;\n\t\tt18 += t14;\n\t\tt26 = t14 + t24;\n\t\tt14 = t02 + t16;\n\t\tt02 = (t02 - t16) * 0.509795579104;\n\t\tt16 = t04 + t20;\n\t\tt04 = (t04 - t20) * 0.601344886935;\n\t\tt20 = t28 + t22;\n\t\tt22 = (t28 - t22) * 0.899976223136;\n\t\tt28 = t08 + t10;\n\t\tt10 = (t08 - t10) * 2.56291544774;\n\t\tt08 = t14 + t28;\n\t\tt14 = (t14 - t28) * 0.541196100146;\n\t\tt28 = t16 + t20;\n\t\tt20 = (t16 - t20) * 1.30656296488;\n\t\tt16 = t08 + t28;\n\t\tt28 = (t08 - t28) * 0.707106781187;\n\t\tt08 = t14 + t20;\n\t\tt20 = (t14 - t20) * 0.707106781187;\n\t\tt08 += t20;\n\t\tt14 = t02 + t10;\n\t\tt02 = (t02 - t10) * 0.541196100146;\n\t\tt10 = t04 + t22;\n\t\tt22 = (t04 - t22) * 1.30656296488;\n\t\tt04 = t14 + t10;\n\t\tt10 = (t14 - t10) * 0.707106781187;\n\t\tt14 = t02 + t22;\n\t\tt02 = (t02 - t22) * 0.707106781187;\n\t\tt14 += t02;\n\t\tt04 += t14;\n\t\tt14 += t10;\n\t\tt10 += t02;\n\t\tt16 += t04;\n\t\tt04 += t08;\n\t\tt08 += t14;\n\t\tt14 += t28;\n\t\tt28 += t10;\n\t\tt10 += t20;\n\t\tt20 += t02;\n\t\tt21 += t16;\n\t\tt16 += t32;\n\t\tt32 += t04;\n\t\tt04 += t06;\n\t\tt06 += t08;\n\t\tt08 += t18;\n\t\tt18 += t14;\n\t\tt14 += t30;\n\t\tt30 += t28;\n\t\tt28 += t26;\n\t\tt26 += t10;\n\t\tt10 += t12;\n\t\tt12 += t20;\n\t\tt20 += t24;\n\t\tt24 += t02;\n\n\t\td[dp + 48] = -t33;\n\t\td[dp + 49] = d[dp + 47] = -t21;\n\t\td[dp + 50] = d[dp + 46] = -t17;\n\t\td[dp + 51] = d[dp + 45] = -t16;\n\t\td[dp + 52] = d[dp + 44] = -t01;\n\t\td[dp + 53] = d[dp + 43] = -t32;\n\t\td[dp + 54] = d[dp + 42] = -t29;\n\t\td[dp + 55] = d[dp + 41] = -t04;\n\t\td[dp + 56] = d[dp + 40] = -t03;\n\t\td[dp + 57] = d[dp + 39] = -t06;\n\t\td[dp + 58] = d[dp + 38] = -t25;\n\t\td[dp + 59] = d[dp + 37] = -t08;\n\t\td[dp + 60] = d[dp + 36] = -t11;\n\t\td[dp + 61] = d[dp + 35] = -t18;\n\t\td[dp + 62] = d[dp + 34] = -t09;\n\t\td[dp + 63] = d[dp + 33] = -t14;\n\t\td[dp + 32] = -t05;\n\t\td[dp + 0] = t05;\n\t\td[dp + 31] = -t30;\n\t\td[dp + 1] = t30;\n\t\td[dp + 30] = -t27;\n\t\td[dp + 2] = t27;\n\t\td[dp + 29] = -t28;\n\t\td[dp + 3] = t28;\n\t\td[dp + 28] = -t07;\n\t\td[dp + 4] = t07;\n\t\td[dp + 27] = -t26;\n\t\td[dp + 5] = t26;\n\t\td[dp + 26] = -t23;\n\t\td[dp + 6] = t23;\n\t\td[dp + 25] = -t10;\n\t\td[dp + 7] = t10;\n\t\td[dp + 24] = -t15;\n\t\td[dp + 8] = t15;\n\t\td[dp + 23] = -t12;\n\t\td[dp + 9] = t12;\n\t\td[dp + 22] = -t19;\n\t\td[dp + 10] = t19;\n\t\td[dp + 21] = -t20;\n\t\td[dp + 11] = t20;\n\t\td[dp + 20] = -t13;\n\t\td[dp + 12] = t13;\n\t\td[dp + 19] = -t24;\n\t\td[dp + 13] = t24;\n\t\td[dp + 18] = -t31;\n\t\td[dp + 14] = t31;\n\t\td[dp + 17] = -t02;\n\t\td[dp + 15] = t02;\n\t\td[dp + 16] = 0.0;\n\t};\n\n\tstatic FRAME_SYNC = 0x7ff;\n\n\tstatic VERSION = {\n\t\tMPEG_2_5: 0x0,\n\t\tMPEG_2: 0x2,\n\t\tMPEG_1: 0x3,\n\t};\n\n\tstatic LAYER = {\n\t\tIII: 0x1,\n\t\tII: 0x2,\n\t\tI: 0x3,\n\t};\n\n\tstatic MODE = {\n\t\tSTEREO: 0x0,\n\t\tJOINT_STEREO: 0x1,\n\t\tDUAL_CHANNEL: 0x2,\n\t\tMONO: 0x3,\n\t};\n\n\tstatic SAMPLE_RATE = new Uint16Array([\n\t\t44100,\n\t\t48000,\n\t\t32000,\n\t\t0, // MPEG-1\n\t\t22050,\n\t\t24000,\n\t\t16000,\n\t\t0, // MPEG-2\n\t]);\n\n\tstatic BIT_RATE = new Uint16Array([\n\t\t32,\n\t\t48,\n\t\t56,\n\t\t64,\n\t\t80,\n\t\t96,\n\t\t112,\n\t\t128,\n\t\t160,\n\t\t192,\n\t\t224,\n\t\t256,\n\t\t320,\n\t\t384, // MPEG-1\n\t\t8,\n\t\t16,\n\t\t24,\n\t\t32,\n\t\t40,\n\t\t48,\n\t\t56,\n\t\t64,\n\t\t80,\n\t\t96,\n\t\t112,\n\t\t128,\n\t\t144,\n\t\t160, // MPEG-2\n\t]);\n\n\tstatic SCALEFACTOR_BASE = new Uint32Array([0x02000000, 0x01965fea, 0x01428a30]);\n\n\tstatic SYNTHESIS_WINDOW = new Float32Array([\n\t\t0.0,\n\t\t-0.5,\n\t\t-0.5,\n\t\t-0.5,\n\t\t-0.5,\n\t\t-0.5,\n\t\t-0.5,\n\t\t-1.0,\n\t\t-1.0,\n\t\t-1.0,\n\t\t-1.0,\n\t\t-1.5,\n\t\t-1.5,\n\t\t-2.0,\n\t\t-2.0,\n\t\t-2.5,\n\t\t-2.5,\n\t\t-3.0,\n\t\t-3.5,\n\t\t-3.5,\n\t\t-4.0,\n\t\t-4.5,\n\t\t-5.0,\n\t\t-5.5,\n\t\t-6.5,\n\t\t-7.0,\n\t\t-8.0,\n\t\t-8.5,\n\t\t-9.5,\n\t\t-10.5,\n\t\t-12.0,\n\t\t-13.0,\n\t\t-14.5,\n\t\t-15.5,\n\t\t-17.5,\n\t\t-19.0,\n\t\t-20.5,\n\t\t-22.5,\n\t\t-24.5,\n\t\t-26.5,\n\t\t-29.0,\n\t\t-31.5,\n\t\t-34.0,\n\t\t-36.5,\n\t\t-39.5,\n\t\t-42.5,\n\t\t-45.5,\n\t\t-48.5,\n\t\t-52.0,\n\t\t-55.5,\n\t\t-58.5,\n\t\t-62.5,\n\t\t-66.0,\n\t\t-69.5,\n\t\t-73.5,\n\t\t-77.0,\n\t\t-80.5,\n\t\t-84.5,\n\t\t-88.0,\n\t\t-91.5,\n\t\t-95.0,\n\t\t-98.0,\n\t\t-101.0,\n\t\t-104.0,\n\t\t106.5,\n\t\t109.0,\n\t\t111.0,\n\t\t112.5,\n\t\t113.5,\n\t\t114.0,\n\t\t114.0,\n\t\t113.5,\n\t\t112.0,\n\t\t110.5,\n\t\t107.5,\n\t\t104.0,\n\t\t100.0,\n\t\t94.5,\n\t\t88.5,\n\t\t81.5,\n\t\t73.0,\n\t\t63.5,\n\t\t53.0,\n\t\t41.5,\n\t\t28.5,\n\t\t14.5,\n\t\t-1.0,\n\t\t-18.0,\n\t\t-36.0,\n\t\t-55.5,\n\t\t-76.5,\n\t\t-98.5,\n\t\t-122.0,\n\t\t-147.0,\n\t\t-173.5,\n\t\t-200.5,\n\t\t-229.5,\n\t\t-259.5,\n\t\t-290.5,\n\t\t-322.5,\n\t\t-355.5,\n\t\t-389.5,\n\t\t-424.0,\n\t\t-459.5,\n\t\t-495.5,\n\t\t-532.0,\n\t\t-568.5,\n\t\t-605.0,\n\t\t-641.5,\n\t\t-678.0,\n\t\t-714.0,\n\t\t-749.0,\n\t\t-783.5,\n\t\t-817.0,\n\t\t-849.0,\n\t\t-879.5,\n\t\t-908.5,\n\t\t-935.0,\n\t\t-959.5,\n\t\t-981.0,\n\t\t-1000.5,\n\t\t-1016.0,\n\t\t-1028.5,\n\t\t-1037.5,\n\t\t-1042.5,\n\t\t-1043.5,\n\t\t-1040.0,\n\t\t-1031.5,\n\t\t1018.5,\n\t\t1000.0,\n\t\t976.0,\n\t\t946.5,\n\t\t911.0,\n\t\t869.5,\n\t\t822.0,\n\t\t767.5,\n\t\t707.0,\n\t\t640.0,\n\t\t565.5,\n\t\t485.0,\n\t\t397.0,\n\t\t302.5,\n\t\t201.0,\n\t\t92.5,\n\t\t-22.5,\n\t\t-144.0,\n\t\t-272.5,\n\t\t-407.0,\n\t\t-547.5,\n\t\t-694.0,\n\t\t-846.0,\n\t\t-1003.0,\n\t\t-1165.0,\n\t\t-1331.5,\n\t\t-1502.0,\n\t\t-1675.5,\n\t\t-1852.5,\n\t\t-2031.5,\n\t\t-2212.5,\n\t\t-2394.0,\n\t\t-2576.5,\n\t\t-2758.5,\n\t\t-2939.5,\n\t\t-3118.5,\n\t\t-3294.5,\n\t\t-3467.5,\n\t\t-3635.5,\n\t\t-3798.5,\n\t\t-3955.0,\n\t\t-4104.5,\n\t\t-4245.5,\n\t\t-4377.5,\n\t\t-4499.0,\n\t\t-4609.5,\n\t\t-4708.0,\n\t\t-4792.5,\n\t\t-4863.5,\n\t\t-4919.0,\n\t\t-4958.0,\n\t\t-4979.5,\n\t\t-4983.0,\n\t\t-4967.5,\n\t\t-4931.5,\n\t\t-4875.0,\n\t\t-4796.0,\n\t\t-4694.5,\n\t\t-4569.5,\n\t\t-4420.0,\n\t\t-4246.0,\n\t\t-4046.0,\n\t\t-3820.0,\n\t\t-3567.0,\n\t\t3287.0,\n\t\t2979.5,\n\t\t2644.0,\n\t\t2280.5,\n\t\t1888.0,\n\t\t1467.5,\n\t\t1018.5,\n\t\t541.0,\n\t\t35.0,\n\t\t-499.0,\n\t\t-1061.0,\n\t\t-1650.0,\n\t\t-2266.5,\n\t\t-2909.0,\n\t\t-3577.0,\n\t\t-4270.0,\n\t\t-4987.5,\n\t\t-5727.5,\n\t\t-6490.0,\n\t\t-7274.0,\n\t\t-8077.5,\n\t\t-8899.5,\n\t\t-9739.0,\n\t\t-10594.5,\n\t\t-11464.5,\n\t\t-12347.0,\n\t\t-13241.0,\n\t\t-14144.5,\n\t\t-15056.0,\n\t\t-15973.5,\n\t\t-16895.5,\n\t\t-17820.0,\n\t\t-18744.5,\n\t\t-19668.0,\n\t\t-20588.0,\n\t\t-21503.0,\n\t\t-22410.5,\n\t\t-23308.5,\n\t\t-24195.0,\n\t\t-25068.5,\n\t\t-25926.5,\n\t\t-26767.0,\n\t\t-27589.0,\n\t\t-28389.0,\n\t\t-29166.5,\n\t\t-29919.0,\n\t\t-30644.5,\n\t\t-31342.0,\n\t\t-32009.5,\n\t\t-32645.0,\n\t\t-33247.0,\n\t\t-33814.5,\n\t\t-34346.0,\n\t\t-34839.5,\n\t\t-35295.0,\n\t\t-35710.0,\n\t\t-36084.5,\n\t\t-36417.5,\n\t\t-36707.5,\n\t\t-36954.0,\n\t\t-37156.5,\n\t\t-37315.0,\n\t\t-37428.0,\n\t\t-37496.0,\n\t\t37519.0,\n\t\t37496.0,\n\t\t37428.0,\n\t\t37315.0,\n\t\t37156.5,\n\t\t36954.0,\n\t\t36707.5,\n\t\t36417.5,\n\t\t36084.5,\n\t\t35710.0,\n\t\t35295.0,\n\t\t34839.5,\n\t\t34346.0,\n\t\t33814.5,\n\t\t33247.0,\n\t\t32645.0,\n\t\t32009.5,\n\t\t31342.0,\n\t\t30644.5,\n\t\t29919.0,\n\t\t29166.5,\n\t\t28389.0,\n\t\t27589.0,\n\t\t26767.0,\n\t\t25926.5,\n\t\t25068.5,\n\t\t24195.0,\n\t\t23308.5,\n\t\t22410.5,\n\t\t21503.0,\n\t\t20588.0,\n\t\t19668.0,\n\t\t18744.5,\n\t\t17820.0,\n\t\t16895.5,\n\t\t15973.5,\n\t\t15056.0,\n\t\t14144.5,\n\t\t13241.0,\n\t\t12347.0,\n\t\t11464.5,\n\t\t10594.5,\n\t\t9739.0,\n\t\t8899.5,\n\t\t8077.5,\n\t\t7274.0,\n\t\t6490.0,\n\t\t5727.5,\n\t\t4987.5,\n\t\t4270.0,\n\t\t3577.0,\n\t\t2909.0,\n\t\t2266.5,\n\t\t1650.0,\n\t\t1061.0,\n\t\t499.0,\n\t\t-35.0,\n\t\t-541.0,\n\t\t-1018.5,\n\t\t-1467.5,\n\t\t-1888.0,\n\t\t-2280.5,\n\t\t-2644.0,\n\t\t-2979.5,\n\t\t3287.0,\n\t\t3567.0,\n\t\t3820.0,\n\t\t4046.0,\n\t\t4246.0,\n\t\t4420.0,\n\t\t4569.5,\n\t\t4694.5,\n\t\t4796.0,\n\t\t4875.0,\n\t\t4931.5,\n\t\t4967.5,\n\t\t4983.0,\n\t\t4979.5,\n\t\t4958.0,\n\t\t4919.0,\n\t\t4863.5,\n\t\t4792.5,\n\t\t4708.0,\n\t\t4609.5,\n\t\t4499.0,\n\t\t4377.5,\n\t\t4245.5,\n\t\t4104.5,\n\t\t3955.0,\n\t\t3798.5,\n\t\t3635.5,\n\t\t3467.5,\n\t\t3294.5,\n\t\t3118.5,\n\t\t2939.5,\n\t\t2758.5,\n\t\t2576.5,\n\t\t2394.0,\n\t\t2212.5,\n\t\t2031.5,\n\t\t1852.5,\n\t\t1675.5,\n\t\t1502.0,\n\t\t1331.5,\n\t\t1165.0,\n\t\t1003.0,\n\t\t846.0,\n\t\t694.0,\n\t\t547.5,\n\t\t407.0,\n\t\t272.5,\n\t\t144.0,\n\t\t22.5,\n\t\t-92.5,\n\t\t-201.0,\n\t\t-302.5,\n\t\t-397.0,\n\t\t-485.0,\n\t\t-565.5,\n\t\t-640.0,\n\t\t-707.0,\n\t\t-767.5,\n\t\t-822.0,\n\t\t-869.5,\n\t\t-911.0,\n\t\t-946.5,\n\t\t-976.0,\n\t\t-1000.0,\n\t\t1018.5,\n\t\t1031.5,\n\t\t1040.0,\n\t\t1043.5,\n\t\t1042.5,\n\t\t1037.5,\n\t\t1028.5,\n\t\t1016.0,\n\t\t1000.5,\n\t\t981.0,\n\t\t959.5,\n\t\t935.0,\n\t\t908.5,\n\t\t879.5,\n\t\t849.0,\n\t\t817.0,\n\t\t783.5,\n\t\t749.0,\n\t\t714.0,\n\t\t678.0,\n\t\t641.5,\n\t\t605.0,\n\t\t568.5,\n\t\t532.0,\n\t\t495.5,\n\t\t459.5,\n\t\t424.0,\n\t\t389.5,\n\t\t355.5,\n\t\t322.5,\n\t\t290.5,\n\t\t259.5,\n\t\t229.5,\n\t\t200.5,\n\t\t173.5,\n\t\t147.0,\n\t\t122.0,\n\t\t98.5,\n\t\t76.5,\n\t\t55.5,\n\t\t36.0,\n\t\t18.0,\n\t\t1.0,\n\t\t-14.5,\n\t\t-28.5,\n\t\t-41.5,\n\t\t-53.0,\n\t\t-63.5,\n\t\t-73.0,\n\t\t-81.5,\n\t\t-88.5,\n\t\t-94.5,\n\t\t-100.0,\n\t\t-104.0,\n\t\t-107.5,\n\t\t-110.5,\n\t\t-112.0,\n\t\t-113.5,\n\t\t-114.0,\n\t\t-114.0,\n\t\t-113.5,\n\t\t-112.5,\n\t\t-111.0,\n\t\t-109.0,\n\t\t106.5,\n\t\t104.0,\n\t\t101.0,\n\t\t98.0,\n\t\t95.0,\n\t\t91.5,\n\t\t88.0,\n\t\t84.5,\n\t\t80.5,\n\t\t77.0,\n\t\t73.5,\n\t\t69.5,\n\t\t66.0,\n\t\t62.5,\n\t\t58.5,\n\t\t55.5,\n\t\t52.0,\n\t\t48.5,\n\t\t45.5,\n\t\t42.5,\n\t\t39.5,\n\t\t36.5,\n\t\t34.0,\n\t\t31.5,\n\t\t29.0,\n\t\t26.5,\n\t\t24.5,\n\t\t22.5,\n\t\t20.5,\n\t\t19.0,\n\t\t17.5,\n\t\t15.5,\n\t\t14.5,\n\t\t13.0,\n\t\t12.0,\n\t\t10.5,\n\t\t9.5,\n\t\t8.5,\n\t\t8.0,\n\t\t7.0,\n\t\t6.5,\n\t\t5.5,\n\t\t5.0,\n\t\t4.5,\n\t\t4.0,\n\t\t3.5,\n\t\t3.5,\n\t\t3.0,\n\t\t2.5,\n\t\t2.5,\n\t\t2.0,\n\t\t2.0,\n\t\t1.5,\n\t\t1.5,\n\t\t1.0,\n\t\t1.0,\n\t\t1.0,\n\t\t1.0,\n\t\t0.5,\n\t\t0.5,\n\t\t0.5,\n\t\t0.5,\n\t\t0.5,\n\t\t0.5,\n\t]);\n\n\t// Quantizer lookup, step 1: bitrate classes\n\tstatic QUANT_LUT_STEP_1 = [\n\t\t// 32, 48, 56, 64, 80, 96,112,128,160,192,224,256,320,384 <- bitrate\n\t\t[0, 0, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2], // mono\n\t\t// 16, 24, 28, 32, 40, 48, 56, 64, 80, 96,112,128,160,192 <- bitrate / chan\n\t\t[0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2, 2], // stereo\n\t];\n\n\t// Quantizer lookup, step 2: bitrate class, sample rate -> B2 table idx, sblimit\n\tstatic QUANT_TAB = {\n\t\tA: 27 | 64, // Table 3-B.2a: high-rate, sblimit = 27\n\t\tB: 30 | 64, // Table 3-B.2b: high-rate, sblimit = 30\n\t\tC: 8, // Table 3-B.2c:  low-rate, sblimit =  8\n\t\tD: 12, // Table 3-B.2d:  low-rate, sblimit = 12\n\t};\n\n\tstatic QUANT_LUT_STEP_2 = [\n\t\t//   44.1 kHz,        48 kHz,          32 kHz\n\t\t[MP2.QUANT_TAB.C, MP2.QUANT_TAB.C, MP2.QUANT_TAB.D], // 32 - 48 kbit/sec/ch\n\t\t[MP2.QUANT_TAB.A, MP2.QUANT_TAB.A, MP2.QUANT_TAB.A], // 56 - 80 kbit/sec/ch\n\t\t[MP2.QUANT_TAB.B, MP2.QUANT_TAB.A, MP2.QUANT_TAB.B], // 96+\t kbit/sec/ch\n\t];\n\n\t// Quantizer lookup, step 3: B2 table, subband -> nbal, row index\n\t// (upper 4 bits: nbal, lower 4 bits: row index)\n\tstatic QUANT_LUT_STEP_3 = [\n\t\t// Low-rate table (3-B.2c and 3-B.2d)\n\t\t[0x44, 0x44, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34],\n\t\t// High-rate table (3-B.2a and 3-B.2b)\n\t\t[\n\t\t\t0x43,\n\t\t\t0x43,\n\t\t\t0x43,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x42,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x31,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t\t0x20,\n\t\t],\n\t\t// MPEG-2 LSR table (B.2 in ISO 13818-3)\n\t\t[\n\t\t\t0x45,\n\t\t\t0x45,\n\t\t\t0x45,\n\t\t\t0x45,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x34,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t\t0x24,\n\t\t],\n\t];\n\n\t// Quantizer lookup, step 4: table row, allocation[] value -> quant table index\n\tstatic QUANT_LUT_STEP4 = [\n\t\t[0, 1, 2, 17],\n\t\t[0, 1, 2, 3, 4, 5, 6, 17],\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 17],\n\t\t[0, 1, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\n\t\t[0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 17],\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n\t];\n\n\tstatic QUANT_TAB = [\n\t\t{ levels: 3, group: 1, bits: 5 }, //  1\n\t\t{ levels: 5, group: 1, bits: 7 }, //  2\n\t\t{ levels: 7, group: 0, bits: 3 }, //  3\n\t\t{ levels: 9, group: 1, bits: 10 }, //  4\n\t\t{ levels: 15, group: 0, bits: 4 }, //  5\n\t\t{ levels: 31, group: 0, bits: 5 }, //  6\n\t\t{ levels: 63, group: 0, bits: 6 }, //  7\n\t\t{ levels: 127, group: 0, bits: 7 }, //  8\n\t\t{ levels: 255, group: 0, bits: 8 }, //  9\n\t\t{ levels: 511, group: 0, bits: 9 }, // 10\n\t\t{ levels: 1023, group: 0, bits: 10 }, // 11\n\t\t{ levels: 2047, group: 0, bits: 11 }, // 12\n\t\t{ levels: 4095, group: 0, bits: 12 }, // 13\n\t\t{ levels: 8191, group: 0, bits: 13 }, // 14\n\t\t{ levels: 16383, group: 0, bits: 14 }, // 15\n\t\t{ levels: 32767, group: 0, bits: 15 }, // 16\n\t\t{ levels: 65535, group: 0, bits: 16 }, // 17\n\t];\n}\n","import { BitBuffer } from \"./buffer.js\";\nimport { BaseDecoder } from \"./decoder.js\";\nimport { Now } from \"./utils.js\";\n\nexport class MPEG1WASM extends BaseDecoder {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.onDecodeCallback = options.onVideoDecode;\n\t\tthis.module = options.wasmModule;\n\n\t\tthis.bufferSize = options.videoBufferSize || 512 * 1024;\n\t\tthis.bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\n\n\t\tthis.decodeFirstFrame = options.decodeFirstFrame !== false;\n\t\tthis.hasSequenceHeader = false;\n\t}\n\n\t// MPEG1WASM.prototype = Object.create(JSMpeg.Decoder.Base.prototype);\n\t// MPEG1WASM.prototype.constructor = MPEG1WASM;\n\n\tinitializeWasmDecoder = () => {\n\t\tthis.instance = this.module.instance;\n\t\tthis.functions = this.module.instance.exports;\n\t\tthis.decoder = this.functions.mpeg1_decoder_create(this.bufferSize, this.bufferMode);\n\t};\n\n\tdestroy = () => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\tthis.functions.mpeg1_decoder_destroy(this.decoder);\n\t};\n\n\tbufferGetIndex = () => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\treturn this.functions.mpeg1_decoder_get_index(this.decoder);\n\t};\n\n\tbufferSetIndex = (index) => {\n\t\tif (!this.decoder) {\n\t\t\treturn;\n\t\t}\n\t\tthis.functions.mpeg1_decoder_set_index(this.decoder, index);\n\t};\n\n\tbufferWrite = (buffers) => {\n\t\t// 1/28/20\n\t\t// https://github.com/SuperAwesomeLTD/jsmpeg/pull/1/commits/e2728ba23086fec6aea62f4f2810c5c755199a40\n\t\tif (!this.module.instance) {\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\n\t\t\treturn;\n\t\t}\n\t\tif (!this.decoder) {\n\t\t\tthis.initializeWasmDecoder();\n\t\t}\n\n\t\tlet totalLength = 0;\n\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\ttotalLength += buffers[i].length;\n\t\t}\n\n\t\tlet ptr = this.functions.mpeg1_decoder_get_write_ptr(this.decoder, totalLength);\n\t\tfor (let i = 0; i < buffers.length; i++) {\n\t\t\tthis.instance.heapU8.set(buffers[i], ptr);\n\t\t\tptr += buffers[i].length;\n\t\t}\n\n\t\tthis.functions.mpeg1_decoder_did_write(this.decoder, totalLength);\n\t\treturn totalLength;\n\t};\n\n\twrite = (pts, buffers) => {\n\t\tthis.baseWrite(pts, buffers);\n\n\t\t// 1/28/20\n\t\tif (\n\t\t\t!this.hasSequenceHeader &&\n\t\t\tthis.functions &&\n\t\t\tthis.functions.mpeg1_decoder_has_sequence_header(this.decoder)\n\t\t) {\n\t\t\tthis.loadSequnceHeader();\n\t\t}\n\t};\n\n\tloadSequnceHeader = () => {\n\t\tthis.hasSequenceHeader = true;\n\t\tthis.frameRate = this.functions.mpeg1_decoder_get_frame_rate(this.decoder);\n\t\tthis.codedSize = this.functions.mpeg1_decoder_get_coded_size(this.decoder);\n\n\t\tif (this.destination) {\n\t\t\tvar w = this.functions.mpeg1_decoder_get_width(this.decoder);\n\t\t\tvar h = this.functions.mpeg1_decoder_get_height(this.decoder);\n\t\t\tthis.destination.resize(w, h);\n\t\t}\n\n\t\tif (this.decodeFirstFrame) {\n\t\t\tthis.decode();\n\t\t}\n\t};\n\n\tdecode = () => {\n\t\tlet startTime = Now();\n\n\t\tif (!this.decoder) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet didDecode = this.functions.mpeg1_decoder_decode(this.decoder);\n\t\tif (!didDecode) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Invoke decode callbacks\n\t\tif (this.destination) {\n\t\t\tlet ptrY = this.functions.mpeg1_decoder_get_y_ptr(this.decoder),\n\t\t\t\tptrCr = this.functions.mpeg1_decoder_get_cr_ptr(this.decoder),\n\t\t\t\tptrCb = this.functions.mpeg1_decoder_get_cb_ptr(this.decoder);\n\n\t\t\tlet dy = this.instance.heapU8.subarray(ptrY, ptrY + this.codedSize);\n\t\t\tlet dcr = this.instance.heapU8.subarray(ptrCr, ptrCr + (this.codedSize >> 2));\n\t\t\tlet dcb = this.instance.heapU8.subarray(ptrCb, ptrCb + (this.codedSize >> 2));\n\n\t\t\tthis.destination.render(dy, dcr, dcb, false);\n\t\t}\n\n\t\tthis.advanceDecodedTime(1 / this.frameRate);\n\n\t\tlet elapsedTime = Now() - startTime;\n\t\tif (this.onDecodeCallback) {\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\n\t\t}\n\t\treturn true;\n\t};\n}\n","// Inspired by Java MPEG-1 Video Decoder and Player by Zoltan Korandi \n// https://sourceforge.net/projects/javampeg1video/\n\nimport { BitBuffer } from \"./buffer.js\";\nimport { BaseDecoder } from \"./decoder.js\";\nimport { Now, Fill } from \"./utils.js\";\n\n\n// window.doneDecoding = false;\n\n// function skipCount(b) {\n// \tb.skipCount = 1;\n// \tsetTimeout(skipCount, window.interval, b);\n// }\n\nexport class MPEG1 extends BaseDecoder {\n\tconstructor(options) {\n\t\t\n\t\tsuper(options);\n\n\t\tthis.onDecodeCallback = options.onVideoDecode;\n\n\t\tlet bufferSize = options.videoBufferSize || 512 * 1024;\n\t\tlet bufferMode = options.streaming\n\t\t\t? BitBuffer.MODE.EVICT\n\t\t\t: BitBuffer.MODE.EXPAND;\n\n\t\tthis.bits = new BitBuffer(bufferSize, bufferMode);\n\n\t\tthis.customIntraQuantMatrix = new Uint8Array(64);\n\t\tthis.customNonIntraQuantMatrix = new Uint8Array(64);\n\t\tthis.blockData = new Int32Array(64);\n\n\t\tthis.currentFrame = 0;\n\t\tthis.decodeFirstFrame = options.decodeFirstFrame !== false;\n\n\t\tthis.frameRate = 30;\n\n\t\t// skip rendering x times:\n\t\t// 1/28/20\n\t\t// this.skipCount = 0;\n\n\t\t// Picture Layer\n\n\t\tthis.currentY = null;\n\t\tthis.currentCr = null;\n\t\tthis.currentCb = null;\n\n\t\tthis.pictureType = 0;\n\n\t\t// Buffers for motion compensation\n\t\tthis.forwardY = null;\n\t\tthis.forwardCr = null;\n\t\tthis.forwardCb = null;\n\n\t\tthis.fullPelForward = false;\n\t\tthis.forwardFCode = 0;\n\t\tthis.forwardRSize = 0;\n\t\tthis.forwardF = 0;\n\n\t\t// Slice Layer\n\n\t\tthis.quantizerScale = 0;\n\t\tthis.sliceBegin = false;\n\n\t\t// Macroblock Layer\n\n\t\tthis.macroblockAddress = 0;\n\t\tthis.mbRow = 0;\n\t\tthis.mbCol = 0;\n\n\t\tthis.macroblockType = 0;\n\t\tthis.macroblockIntra = false;\n\t\tthis.macroblockMotFw = false;\n\n\t\tthis.motionFwH = 0;\n\t\tthis.motionFwV = 0;\n\t\tthis.motionFwHPrev = 0;\n\t\tthis.motionFwVPrev = 0;\n\n\n\t\t// Block layer\n\n\t\tthis.dcPredictorY = 0;\n\t\tthis.dcPredictorCr = 0;\n\t\tthis.dcPredictorCb = 0;\n\n\t\t// this.blockData = null;\n\n\t}\n\n\twrite = (pts, buffers) => {\n\n\t\tthis.baseWrite(pts, buffers);\n\n\t\tif (!this.hasSequenceHeader) {\n\t\t\tif (this.bits.findStartCode(MPEG1.START.SEQUENCE) === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.decodeSequenceHeader();\n\n\t\t\tif (this.decodeFirstFrame) {\n\t\t\t\tthis.decode();\n\t\t\t}\n\t\t}\n\n\t\t// this.currentPictureDecoded = false;\n\t\t// if (!window.doneDecoding) {\n\t\t// \tthis.decode();\n\t\t// \tconsole.log(\"not finished decoding!\");\n\t\t// \tthis.currentPictureDecoded = true;\n\t\t// } else {\n\t\t// \tsetTimeout(() => {\n\t\t// \t\tthis.decode();\n\t\t// \t\tthis.currentPictureDecoded = true;\n\t\t// \t}, 0);\n\t\t// }\n\t};\n\n\tdecode = () => {\n\n\t\tlet startTime = Now();\n\t\t\n\t\tif (!this.hasSequenceHeader) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.bits.findStartCode(MPEG1.START.PICTURE) === -1) {\n\t\t\t// let bufferedBytes = this.bits.byteLength - (this.bits.index >> 3);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.decodePicture();\n\t\tthis.advanceDecodedTime(1 / this.frameRate);\n\n\t\tlet elapsedTime = Now() - startTime;\n\t\tif (this.onDecodeCallback) {\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\treadHuffman = (codeTable) => {\n\t\tlet state = 0;\n\t\tdo {\n\t\t\tstate = codeTable[state + this.bits.read(1)];\n\t\t} while (state >= 0 && codeTable[state] !== 0);\n\t\treturn codeTable[state+2];\n\t};\n\n\n\t// Sequence Layer\n\n\n\tdecodeSequenceHeader = () => {\n\t\tlet newWidth = this.bits.read(12),\n\t\t\tnewHeight = this.bits.read(12);\n\n\t\t// skip pixel aspect ratio\n\t\tthis.bits.skip(4);\n\n\t\tthis.frameRate = MPEG1.PICTURE_RATE[this.bits.read(4)];\n\n\t\t// skip bitRate, marker, bufferSize and constrained bit\n\t\tthis.bits.skip(18 + 1 + 10 + 1);\n\n\t\tif (newWidth !== this.width || newHeight !== this.height) {\n\t\t\tthis.width = newWidth;\n\t\t\tthis.height = newHeight;\n\n\t\t\tthis.initBuffers();\n\n\t\t\tif (this.destination) {\n\t\t\t\tthis.destination.resize(newWidth, newHeight);\n\t\t\t}\n\t\t}\n\n\t\tif (this.bits.read(1)) { // load custom intra quant matrix?\n\t\t\tfor (let i = 0; i < 64; i++) {\n\t\t\t\tthis.customIntraQuantMatrix[MPEG1.ZIG_ZAG[i]] = this.bits.read(8);\n\t\t\t}\n\t\t\tthis.intraQuantMatrix = this.customIntraQuantMatrix;\n\t\t}\n\n\t\tif (this.bits.read(1)) { // load custom non intra quant matrix?\n\t\t\tfor (let i = 0; i < 64; i++) {\n\t\t\t\tlet idx = MPEG1.ZIG_ZAG[i];\n\t\t\t\tthis.customNonIntraQuantMatrix[idx] = this.bits.read(8);\n\t\t\t}\n\t\t\tthis.nonIntraQuantMatrix = this.customNonIntraQuantMatrix;\n\t\t}\n\n\t\tthis.hasSequenceHeader = true;\n\t};\n\n\tinitBuffers = () => {\n\t\tthis.intraQuantMatrix = MPEG1.DEFAULT_INTRA_QUANT_MATRIX;\n\t\tthis.nonIntraQuantMatrix = MPEG1.DEFAULT_NON_INTRA_QUANT_MATRIX;\n\n\t\tthis.mbWidth = (this.width + 15) >> 4;\n\t\tthis.mbHeight = (this.height + 15) >> 4;\n\t\tthis.mbSize = this.mbWidth * this.mbHeight;\n\n\t\tthis.codedWidth = this.mbWidth << 4;\n\t\tthis.codedHeight = this.mbHeight << 4;\n\t\tthis.codedSize = this.codedWidth * this.codedHeight;\n\n\t\tthis.halfWidth = this.mbWidth << 3;\n\t\tthis.halfHeight = this.mbHeight << 3;\n\n\t\t// Allocated buffers and resize the canvas\n\t\tthis.currentY = new Uint8ClampedArray(this.codedSize);\n\t\tthis.currentY32 = new Uint32Array(this.currentY.buffer);\n\n\t\tthis.currentCr = new Uint8ClampedArray(this.codedSize >> 2);\n\t\tthis.currentCr32 = new Uint32Array(this.currentCr.buffer);\n\n\t\tthis.currentCb = new Uint8ClampedArray(this.codedSize >> 2);\n\t\tthis.currentCb32 = new Uint32Array(this.currentCb.buffer);\n\n\n\t\tthis.forwardY = new Uint8ClampedArray(this.codedSize);\n\t\tthis.forwardY32 = new Uint32Array(this.forwardY.buffer);\n\n\t\tthis.forwardCr = new Uint8ClampedArray(this.codedSize >> 2);\n\t\tthis.forwardCr32 = new Uint32Array(this.forwardCr.buffer);\n\n\t\tthis.forwardCb = new Uint8ClampedArray(this.codedSize >> 2);\n\t\tthis.forwardCb32 = new Uint32Array(this.forwardCb.buffer);\n\t};\n\n\n\t// Picture Layer\n\n\tdecodePicture = (skipOutput) => {\n\t\tthis.currentFrame++;\n\n\t\tthis.bits.skip(10); // skip temporalReference\n\t\tthis.pictureType = this.bits.read(3);\n\t\tthis.bits.skip(16); // skip vbv_delay\n\n\t\t// Skip B and D frames or unknown coding type\n\t\tif (this.pictureType <= 0 || this.pictureType >= MPEG1.PICTURE_TYPE.B) {\n\t\t\treturn;\n\t\t}\n\n\t\t// full_pel_forward, forward_f_code\n\t\tif (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\n\t\t\tthis.fullPelForward = this.bits.read(1);\n\t\t\tthis.forwardFCode = this.bits.read(3);\n\t\t\tif (this.forwardFCode === 0) {\n\t\t\t\t// Ignore picture with zero forward_f_code\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.forwardRSize = this.forwardFCode - 1;\n\t\t\tthis.forwardF = 1 << this.forwardRSize;\n\t\t}\n\n\t\tlet code = 0;\n\t\tdo {\n\t\t\tcode = this.bits.findNextStartCode();\n\t\t} while (code === MPEG1.START.EXTENSION || code === MPEG1.START.USER_DATA );\n\n\n\t\twhile (code >= MPEG1.START.SLICE_FIRST && code <= MPEG1.START.SLICE_LAST) {\n\t\t\tthis.decodeSlice(code & 0x000000FF);\n\t\t\tcode = this.bits.findNextStartCode();\n\t\t}\n\n\t\tif (code !== -1) {\n\t\t\t// We found the next start code; rewind 32bits and let the main loop\n\t\t\t// handle it.\n\t\t\tthis.bits.rewind(32);\n\t\t}\n\n\t\t// Invoke decode callbacks\n\t\tif (this.destination/* && this.skipCount === 0*/) {\n\t\t\tthis.destination.render(this.currentY, this.currentCr, this.currentCb, true);\n\t\t}\n\t\t// if (this.skipCount > 0) {\n\t\t// \tthis.skipCount -= 1;\n\t\t// }\n\n\t\t// If this is a reference picture then rotate the prediction pointers\n\t\tif (\n\t\t\tthis.pictureType === MPEG1.PICTURE_TYPE.INTRA ||\n\t\t\tthis.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE\n\t\t) {\n\t\t\tlet\n\t\t\t\ttmpY = this.forwardY,\n\t\t\t\ttmpY32 = this.forwardY32,\n\t\t\t\ttmpCr = this.forwardCr,\n\t\t\t\ttmpCr32 = this.forwardCr32,\n\t\t\t\ttmpCb = this.forwardCb,\n\t\t\t\ttmpCb32 = this.forwardCb32;\n\n\t\t\tthis.forwardY = this.currentY;\n\t\t\tthis.forwardY32 = this.currentY32;\n\t\t\tthis.forwardCr = this.currentCr;\n\t\t\tthis.forwardCr32 = this.currentCr32;\n\t\t\tthis.forwardCb = this.currentCb;\n\t\t\tthis.forwardCb32 = this.currentCb32;\n\n\t\t\tthis.currentY = tmpY;\n\t\t\tthis.currentY32 = tmpY32;\n\t\t\tthis.currentCr = tmpCr;\n\t\t\tthis.currentCr32 = tmpCr32;\n\t\t\tthis.currentCb = tmpCb;\n\t\t\tthis.currentCb32 = tmpCb32;\n\t\t}\n\t};\n\n\n\t// Slice Layer\n\n\tdecodeSlice = (slice) => {\n\t\tthis.sliceBegin = true;\n\t\tthis.macroblockAddress = (slice - 1) * this.mbWidth - 1;\n\n\t\t// Reset motion vectors and DC predictors\n\t\tthis.motionFwH = this.motionFwHPrev = 0;\n\t\tthis.motionFwV = this.motionFwVPrev = 0;\n\t\tthis.dcPredictorY  = 128;\n\t\tthis.dcPredictorCr = 128;\n\t\tthis.dcPredictorCb = 128;\n\n\t\tthis.quantizerScale = this.bits.read(5);\n\n\t\t// skip extra bits\n\t\twhile (this.bits.read(1)) {\n\t\t\tthis.bits.skip(8);\n\t\t}\n\n\t\tdo {\n\t\t\tthis.decodeMacroblock();\n\t\t} while (!this.bits.nextBytesAreStartCode());\n\t};\n\n\n\t// Macroblock Layer\n\n\tdecodeMacroblock = () => {\n\t\t// Decode macroblock_address_increment\n\t\tlet\n\t\t\tincrement = 0,\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\n\n\t\twhile (t === 34) {\n\t\t\t// macroblock_stuffing\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\n\t\t}\n\t\twhile (t === 35) {\n\t\t\t// macroblock_escape\n\t\t\tincrement += 33;\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\n\t\t}\n\t\tincrement += t;\n\n\t\t// Process any skipped macroblocks\n\t\tif (this.sliceBegin) {\n\t\t\t// The first macroblock_address_increment of each slice is relative\n\t\t\t// to beginning of the preverious row, not the preverious macroblock\n\t\t\tthis.sliceBegin = false;\n\t\t\tthis.macroblockAddress += increment;\n\t\t}\n\t\telse {\n\t\t\tif (this.macroblockAddress + increment >= this.mbSize) {\n\t\t\t\t// Illegal (too large) macroblock_address_increment\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (increment > 1) {\n\t\t\t\t// Skipped macroblocks reset DC predictors\n\t\t\t\tthis.dcPredictorY  = 128;\n\t\t\t\tthis.dcPredictorCr = 128;\n\t\t\t\tthis.dcPredictorCb = 128;\n\n\t\t\t\t// Skipped macroblocks in P-pictures reset motion vectors\n\t\t\t\tif (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\n\t\t\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\n\t\t\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Predict skipped macroblocks\n\t\t\twhile (increment > 1) {\n\t\t\t\tthis.macroblockAddress++;\n\t\t\t\tthis.mbRow = (this.macroblockAddress / this.mbWidth)|0;\n\t\t\t\tthis.mbCol = this.macroblockAddress % this.mbWidth;\n\t\t\t\tthis.copyMacroblock(\n\t\t\t\t\tthis.motionFwH, this.motionFwV,\n\t\t\t\t\tthis.forwardY, this.forwardCr, this.forwardCb\n\t\t\t\t);\n\t\t\t\tincrement--;\n\t\t\t}\n\t\t\tthis.macroblockAddress++;\n\t\t}\n\t\tthis.mbRow = (this.macroblockAddress / this.mbWidth)|0;\n\t\tthis.mbCol = this.macroblockAddress % this.mbWidth;\n\n\t\t// Process the current macroblock\n\t\tvar mbTable = MPEG1.MACROBLOCK_TYPE[this.pictureType];\n\t\tthis.macroblockType = this.readHuffman(mbTable);\n\t\tthis.macroblockIntra = (this.macroblockType & 0x01);\n\t\tthis.macroblockMotFw = (this.macroblockType & 0x08);\n\n\t\t// Quantizer scale\n\t\tif ((this.macroblockType & 0x10) !== 0) {\n\t\t\tthis.quantizerScale = this.bits.read(5);\n\t\t}\n\n\t\tif (this.macroblockIntra) {\n\t\t\t// Intra-coded macroblocks reset motion vectors\n\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\n\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\n\t\t}\n\t\telse {\n\t\t\t// Non-intra macroblocks reset DC predictors\n\t\t\tthis.dcPredictorY = 128;\n\t\t\tthis.dcPredictorCr = 128;\n\t\t\tthis.dcPredictorCb = 128;\n\n\t\t\tthis.decodeMotionVectors();\n\t\t\tthis.copyMacroblock(\n\t\t\t\tthis.motionFwH, this.motionFwV,\n\t\t\t\tthis.forwardY, this.forwardCr, this.forwardCb\n\t\t\t);\n\t\t}\n\n\t\t// Decode blocks\n\t\tlet cbp = ((this.macroblockType & 0x02) !== 0)\n\t\t\t? this.readHuffman(MPEG1.CODE_BLOCK_PATTERN)\n\t\t\t: (this.macroblockIntra ? 0x3f : 0);\n\n\t\tfor (let block = 0, mask = 0x20; block < 6; block++) {\n\t\t\tif ((cbp & mask) !== 0) {\n\t\t\t\tthis.decodeBlock(block);\n\t\t\t}\n\t\t\tmask >>= 1;\n\t\t}\n\t};\n\n\n\tdecodeMotionVectors = function() {\n\t\tvar code, d, r = 0;\n\n\t\t// Forward\n\t\tif (this.macroblockMotFw) {\n\t\t\t// Horizontal forward\n\t\t\tcode = this.readHuffman(MPEG1.MOTION);\n\t\t\tif ((code !== 0) && (this.forwardF !== 1)) {\n\t\t\t\tr = this.bits.read(this.forwardRSize);\n\t\t\t\td = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n\t\t\t\tif (code < 0) {\n\t\t\t\t\td = -d;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\td = code;\n\t\t\t}\n\n\t\t\tthis.motionFwHPrev += d;\n\t\t\tif (this.motionFwHPrev > (this.forwardF << 4) - 1) {\n\t\t\t\tthis.motionFwHPrev -= this.forwardF << 5;\n\t\t\t}\n\t\t\telse if (this.motionFwHPrev < ((-this.forwardF) << 4)) {\n\t\t\t\tthis.motionFwHPrev += this.forwardF << 5;\n\t\t\t}\n\n\t\t\tthis.motionFwH = this.motionFwHPrev;\n\t\t\tif (this.fullPelForward) {\n\t\t\t\tthis.motionFwH <<= 1;\n\t\t\t}\n\n\t\t\t// Vertical forward\n\t\t\tcode = this.readHuffman(MPEG1.MOTION);\n\t\t\tif ((code !== 0) && (this.forwardF !== 1)) {\n\t\t\t\tr = this.bits.read(this.forwardRSize);\n\t\t\t\td = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n\t\t\t\tif (code < 0) {\n\t\t\t\t\td = -d;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\td = code;\n\t\t\t}\n\n\t\t\tthis.motionFwVPrev += d;\n\t\t\tif (this.motionFwVPrev > (this.forwardF << 4) - 1) {\n\t\t\t\tthis.motionFwVPrev -= this.forwardF << 5;\n\t\t\t}\n\t\t\telse if (this.motionFwVPrev < ((-this.forwardF) << 4)) {\n\t\t\t\tthis.motionFwVPrev += this.forwardF << 5;\n\t\t\t}\n\n\t\t\tthis.motionFwV = this.motionFwVPrev;\n\t\t\tif (this.fullPelForward) {\n\t\t\t\tthis.motionFwV <<= 1;\n\t\t\t}\n\t\t}\n\t\telse if (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\n\t\t\t// No motion information in P-picture, reset vectors\n\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\n\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\n\t\t}\n\t};\n\n\tcopyMacroblock = function(motionH, motionV, sY, sCr, sCb) {\n\t\tvar\n\t\t\twidth, scan,\n\t\t\tH, V, oddH, oddV,\n\t\t\tsrc, dest, last;\n\n\t\t// We use 32bit writes here\n\t\tvar dY = this.currentY32,\n\t\t\tdCb = this.currentCb32,\n\t\t\tdCr = this.currentCr32;\n\n\t\t// Luminance\n\t\twidth = this.codedWidth;\n\t\tscan = width - 16;\n\n\t\tH = motionH >> 1;\n\t\tV = motionV >> 1;\n\t\toddH = (motionH & 1) === 1;\n\t\toddV = (motionV & 1) === 1;\n\n\t\tsrc = ((this.mbRow << 4) + V) * width + (this.mbCol << 4) + H;\n\t\tdest = (this.mbRow * width + this.mbCol) << 2;\n\t\tlast = dest + (width << 2);\n\n\t\tvar x, y1, y2, y;\n\t\tif (oddH) {\n\t\t\tif (oddV) {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\n\t\t\t\t\t\ty2 = sY[src] + sY[src+width]; src++;\n\t\t\t\t\t\ty = (((y1 + y2 + 2) >> 2) & 0xff);\n\n\t\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 6) & 0xff00);\n\n\t\t\t\t\t\ty2 = sY[src] + sY[src+width]; src++;\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 14) & 0xff0000);\n\n\t\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 22) & 0xff000000);\n\n\t\t\t\t\t\tdY[dest++] = y;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\ty1 = sY[src++];\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\n\t\t\t\t\t\ty2 = sY[src++];\n\t\t\t\t\t\ty = (((y1 + y2 + 1) >> 1) & 0xff);\n\n\t\t\t\t\t\ty1 = sY[src++];\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 7) & 0xff00);\n\n\t\t\t\t\t\ty2 = sY[src++];\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 15) & 0xff0000);\n\n\t\t\t\t\t\ty1 = sY[src++];\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 23) & 0xff000000);\n\n\t\t\t\t\t\tdY[dest++] = y;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (oddV) {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\n\t\t\t\t\t\ty = (((sY[src] + sY[src+width] + 1) >> 1) & 0xff); src++;\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 7) & 0xff00); src++;\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 15) & 0xff0000); src++;\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 23) & 0xff000000); src++;\n\n\t\t\t\t\t\tdY[dest++] = y;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\n\t\t\t\t\t\ty = sY[src]; src++;\n\t\t\t\t\t\ty |= sY[src] << 8; src++;\n\t\t\t\t\t\ty |= sY[src] << 16; src++;\n\t\t\t\t\t\ty |= sY[src] << 24; src++;\n\n\t\t\t\t\t\tdY[dest++] = y;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Chrominance\n\n\t\twidth = this.halfWidth;\n\t\tscan = width - 8;\n\n\t\tH = (motionH/2) >> 1;\n\t\tV = (motionV/2) >> 1;\n\t\toddH = ((motionH/2) & 1) === 1;\n\t\toddV = ((motionV/2) & 1) === 1;\n\n\t\tsrc = ((this.mbRow << 3) + V) * width + (this.mbCol << 3) + H;\n\t\tdest = (this.mbRow * width + this.mbCol) << 1;\n\t\tlast = dest + (width << 1);\n\n\t\tvar cr1, cr2, cr,\n\t\t\tcb1, cb2, cb;\n\t\tif (oddH) {\n\t\t\tif (oddV) {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\n\t\t\t\t\tcb1 = sCb[src] + sCb[src+width];\n\t\t\t\t\tsrc++;\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\n\t\t\t\t\t\tcr2 = sCr[src] + sCr[src+width];\n\t\t\t\t\t\tcb2 = sCb[src] + sCb[src+width]; src++;\n\t\t\t\t\t\tcr = (((cr1 + cr2 + 2) >> 2) & 0xff);\n\t\t\t\t\t\tcb = (((cb1 + cb2 + 2) >> 2) & 0xff);\n\n\t\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\n\t\t\t\t\t\tcb1 = sCb[src] + sCb[src+width]; src++;\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 6) & 0xff00);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 6) & 0xff00);\n\n\t\t\t\t\t\tcr2 = sCr[src] + sCr[src+width];\n\t\t\t\t\t\tcb2 = sCb[src] + sCb[src+width]; src++;\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 14) & 0xff0000);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 14) & 0xff0000);\n\n\t\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\n\t\t\t\t\t\tcb1 = sCb[src] + sCb[src+width]; src++;\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 22) & 0xff000000);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 22) & 0xff000000);\n\n\t\t\t\t\t\tdCr[dest] = cr;\n\t\t\t\t\t\tdCb[dest] = cb;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tcr1 = sCr[src];\n\t\t\t\t\tcb1 = sCb[src];\n\t\t\t\t\tsrc++;\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\n\t\t\t\t\t\tcr2 = sCr[src];\n\t\t\t\t\t\tcb2 = sCb[src++];\n\t\t\t\t\t\tcr = (((cr1 + cr2 + 1) >> 1) & 0xff);\n\t\t\t\t\t\tcb = (((cb1 + cb2 + 1) >> 1) & 0xff);\n\n\t\t\t\t\t\tcr1 = sCr[src];\n\t\t\t\t\t\tcb1 = sCb[src++];\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 7) & 0xff00);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 7) & 0xff00);\n\n\t\t\t\t\t\tcr2 = sCr[src];\n\t\t\t\t\t\tcb2 = sCb[src++];\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 15) & 0xff0000);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 15) & 0xff0000);\n\n\t\t\t\t\t\tcr1 = sCr[src];\n\t\t\t\t\t\tcb1 = sCb[src++];\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 23) & 0xff000000);\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 23) & 0xff000000);\n\n\t\t\t\t\t\tdCr[dest] = cr;\n\t\t\t\t\t\tdCb[dest] = cb;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (oddV) {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\n\t\t\t\t\t\tcr = (((sCr[src] + sCr[src+width] + 1) >> 1) & 0xff);\n\t\t\t\t\t\tcb = (((sCb[src] + sCb[src+width] + 1) >> 1) & 0xff); src++;\n\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 7) & 0xff00);\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 7) & 0xff00); src++;\n\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 15) & 0xff0000);\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 15) & 0xff0000); src++;\n\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 23) & 0xff000000);\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 23) & 0xff000000); src++;\n\n\t\t\t\t\t\tdCr[dest] = cr;\n\t\t\t\t\t\tdCb[dest] = cb;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (dest < last) {\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\n\t\t\t\t\t\tcr = sCr[src];\n\t\t\t\t\t\tcb = sCb[src]; src++;\n\n\t\t\t\t\t\tcr |= sCr[src] << 8;\n\t\t\t\t\t\tcb |= sCb[src] << 8; src++;\n\n\t\t\t\t\t\tcr |= sCr[src] << 16;\n\t\t\t\t\t\tcb |= sCb[src] << 16; src++;\n\n\t\t\t\t\t\tcr |= sCr[src] << 24;\n\t\t\t\t\t\tcb |= sCb[src] << 24; src++;\n\n\t\t\t\t\t\tdCr[dest] = cr;\n\t\t\t\t\t\tdCb[dest] = cb;\n\t\t\t\t\t\tdest++;\n\t\t\t\t\t}\n\t\t\t\t\tdest += scan >> 2; src += scan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// Block layer\n\n\tdecodeBlock = function(block) {\n\n\t\tvar\n\t\t\tn = 0,\n\t\t\tquantMatrix;\n\n\t\t// Decode DC coefficient of intra-coded blocks\n\t\tif (this.macroblockIntra) {\n\t\t\tvar\n\t\t\t\tpredictor,\n\t\t\t\tdctSize;\n\n\t\t\t// DC prediction\n\n\t\t\tif (block < 4) {\n\t\t\t\tpredictor = this.dcPredictorY;\n\t\t\t\tdctSize = this.readHuffman(MPEG1.DCT_DC_SIZE_LUMINANCE);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpredictor = (block === 4 ? this.dcPredictorCr : this.dcPredictorCb);\n\t\t\t\tdctSize = this.readHuffman(MPEG1.DCT_DC_SIZE_CHROMINANCE);\n\t\t\t}\n\n\t\t\t// Read DC coeff\n\t\t\tif (dctSize > 0) {\n\t\t\t\tvar differential = this.bits.read(dctSize);\n\t\t\t\tif ((differential & (1 << (dctSize - 1))) !== 0) {\n\t\t\t\t\tthis.blockData[0] = predictor + differential;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.blockData[0] = predictor + ((-1 << dctSize)|(differential+1));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.blockData[0] = predictor;\n\t\t\t}\n\n\t\t\t// Save predictor value\n\t\t\tif (block < 4) {\n\t\t\t\tthis.dcPredictorY = this.blockData[0];\n\t\t\t}\n\t\t\telse if (block === 4) {\n\t\t\t\tthis.dcPredictorCr = this.blockData[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.dcPredictorCb = this.blockData[0];\n\t\t\t}\n\n\t\t\t// Dequantize + premultiply\n\t\t\tthis.blockData[0] <<= (3 + 5);\n\n\t\t\tquantMatrix = this.intraQuantMatrix;\n\t\t\tn = 1;\n\t\t}\n\t\telse {\n\t\t\tquantMatrix = this.nonIntraQuantMatrix;\n\t\t}\n\n\t\t// Decode AC coefficients (+DC for non-intra)\n\t\tvar level = 0;\n\t\twhile (true) {\n\t\t\tvar\n\t\t\t\trun = 0,\n\t\t\t\tcoeff = this.readHuffman(MPEG1.DCT_COEFF);\n\n\t\t\tif ((coeff === 0x0001) && (n > 0) && (this.bits.read(1) === 0)) {\n\t\t\t\t// end_of_block\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (coeff === 0xffff) {\n\t\t\t\t// escape\n\t\t\t\trun = this.bits.read(6);\n\t\t\t\tlevel = this.bits.read(8);\n\t\t\t\tif (level === 0) {\n\t\t\t\t\tlevel = this.bits.read(8);\n\t\t\t\t}\n\t\t\t\telse if (level === 128) {\n\t\t\t\t\tlevel = this.bits.read(8) - 256;\n\t\t\t\t}\n\t\t\t\telse if (level > 128) {\n\t\t\t\t\tlevel = level - 256;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\trun = coeff >> 8;\n\t\t\t\tlevel = coeff & 0xff;\n\t\t\t\tif (this.bits.read(1)) {\n\t\t\t\t\tlevel = -level;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tn += run;\n\t\t\tif (n < 0 || n >= MPEG1.ZIG_ZAG.length) break;\n\t\t\tvar dezigZagged = MPEG1.ZIG_ZAG[n];\n\t\t\tn++;\n\n\t\t\t// Dequantize, oddify, clip\n\t\t\tlevel <<= 1;\n\t\t\tif (!this.macroblockIntra) {\n\t\t\t\tlevel += (level < 0 ? -1 : 1);\n\t\t\t}\n\t\t\tlevel = (level * this.quantizerScale * quantMatrix[dezigZagged]) >> 4;\n\t\t\tif ((level & 1) === 0) {\n\t\t\t\tlevel -= level > 0 ? 1 : -1;\n\t\t\t}\n\t\t\tif (level > 2047) {\n\t\t\t\tlevel = 2047;\n\t\t\t}\n\t\t\telse if (level < -2048) {\n\t\t\t\tlevel = -2048;\n\t\t\t}\n\n\t\t\t// Save premultiplied coefficient\n\t\t\tthis.blockData[dezigZagged] = level * MPEG1.PREMULTIPLIER_MATRIX[dezigZagged];\n\t\t}\n\n\t\t// Move block to its place\n\t\tvar\n\t\t\tdestArray,\n\t\t\tdestIndex,\n\t\t\tscan;\n\n\t\tif (block < 4) {\n\t\t\tdestArray = this.currentY;\n\t\t\tscan = this.codedWidth - 8;\n\t\t\tdestIndex = (this.mbRow * this.codedWidth + this.mbCol) << 4;\n\t\t\tif ((block & 1) !== 0) {\n\t\t\t\tdestIndex += 8;\n\t\t\t}\n\t\t\tif ((block & 2) !== 0) {\n\t\t\t\tdestIndex += this.codedWidth << 3;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdestArray = (block === 4) ? this.currentCb : this.currentCr;\n\t\t\tscan = (this.codedWidth >> 1) - 8;\n\t\t\tdestIndex = ((this.mbRow * this.codedWidth) << 2) + (this.mbCol << 3);\n\t\t}\n\n\t\tif (this.macroblockIntra) {\n\t\t\t// Overwrite (no prediction)\n\t\t\tif (n === 1) {\n\t\t\t\tthis.CopyValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n\t\t\t\tthis.blockData[0] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.IDCT(this.blockData);\n\t\t\t\tthis.CopyBlockToDestination(this.blockData, destArray, destIndex, scan);\n\t\t\t\tFill(this.blockData, 0);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Add data to the predicted macroblock\n\t\t\tif (n === 1) {\n\t\t\t\tthis.AddValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n\t\t\t\tthis.blockData[0] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.IDCT(this.blockData);\n\t\t\t\tthis.AddBlockToDestination(this.blockData, destArray, destIndex, scan);\n\t\t\t\tFill(this.blockData, 0);\n\t\t\t}\n\t\t}\n\n\t\tn = 0;\n\t};\n\n\tCopyBlockToDestination = function(block, dest, index, scan) {\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\n\t\t\tdest[index+0] = block[n+0];\n\t\t\tdest[index+1] = block[n+1];\n\t\t\tdest[index+2] = block[n+2];\n\t\t\tdest[index+3] = block[n+3];\n\t\t\tdest[index+4] = block[n+4];\n\t\t\tdest[index+5] = block[n+5];\n\t\t\tdest[index+6] = block[n+6];\n\t\t\tdest[index+7] = block[n+7];\n\t\t}\n\t};\n\n\tAddBlockToDestination = function(block, dest, index, scan) {\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\n\t\t\tdest[index+0] += block[n+0];\n\t\t\tdest[index+1] += block[n+1];\n\t\t\tdest[index+2] += block[n+2];\n\t\t\tdest[index+3] += block[n+3];\n\t\t\tdest[index+4] += block[n+4];\n\t\t\tdest[index+5] += block[n+5];\n\t\t\tdest[index+6] += block[n+6];\n\t\t\tdest[index+7] += block[n+7];\n\t\t}\n\t};\n\n\tCopyValueToDestination = function(value, dest, index, scan) {\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\n\t\t\tdest[index+0] = value;\n\t\t\tdest[index+1] = value;\n\t\t\tdest[index+2] = value;\n\t\t\tdest[index+3] = value;\n\t\t\tdest[index+4] = value;\n\t\t\tdest[index+5] = value;\n\t\t\tdest[index+6] = value;\n\t\t\tdest[index+7] = value;\n\t\t}\n\t};\n\n\tAddValueToDestination = function(value, dest, index, scan) {\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\n\t\t\tdest[index+0] += value;\n\t\t\tdest[index+1] += value;\n\t\t\tdest[index+2] += value;\n\t\t\tdest[index+3] += value;\n\t\t\tdest[index+4] += value;\n\t\t\tdest[index+5] += value;\n\t\t\tdest[index+6] += value;\n\t\t\tdest[index+7] += value;\n\t\t}\n\t};\n\n\tIDCT = function(block) {\n\t\t// See http://vsr.informatik.tu-chemnitz.de/~jan/MPEG/HTML/IDCT.html\n\t\t// for more info.\n\n\t\tvar\n\t\t\tb1, b3, b4, b6, b7, tmp1, tmp2, m0,\n\t\t\tx0, x1, x2, x3, x4, y3, y4, y5, y6, y7;\n\n\t\t// Transform columns\n\t\tfor (var i = 0; i < 8; ++i) {\n\t\t\tb1 = block[4*8+i];\n\t\t\tb3 = block[2*8+i] + block[6*8+i];\n\t\t\tb4 = block[5*8+i] - block[3*8+i];\n\t\t\ttmp1 = block[1*8+i] + block[7*8+i];\n\t\t\ttmp2 = block[3*8+i] + block[5*8+i];\n\t\t\tb6 = block[1*8+i] - block[7*8+i];\n\t\t\tb7 = tmp1 + tmp2;\n\t\t\tm0 = block[0*8+i];\n\t\t\tx4 = ((b6*473 - b4*196 + 128) >> 8) - b7;\n\t\t\tx0 = x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\n\t\t\tx1 = m0 - b1;\n\t\t\tx2 = (((block[2*8+i] - block[6*8+i])*362 + 128) >> 8) - b3;\n\t\t\tx3 = m0 + b1;\n\t\t\ty3 = x1 + x2;\n\t\t\ty4 = x3 + b3;\n\t\t\ty5 = x1 - x2;\n\t\t\ty6 = x3 - b3;\n\t\t\ty7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\n\t\t\tblock[0*8+i] = b7 + y4;\n\t\t\tblock[1*8+i] = x4 + y3;\n\t\t\tblock[2*8+i] = y5 - x0;\n\t\t\tblock[3*8+i] = y6 - y7;\n\t\t\tblock[4*8+i] = y6 + y7;\n\t\t\tblock[5*8+i] = x0 + y5;\n\t\t\tblock[6*8+i] = y3 - x4;\n\t\t\tblock[7*8+i] = y4 - b7;\n\t\t}\n\n\t\t// Transform rows\n\t\tfor (var i = 0; i < 64; i += 8) {\n\t\t\tb1 = block[4+i];\n\t\t\tb3 = block[2+i] + block[6+i];\n\t\t\tb4 = block[5+i] - block[3+i];\n\t\t\ttmp1 = block[1+i] + block[7+i];\n\t\t\ttmp2 = block[3+i] + block[5+i];\n\t\t\tb6 = block[1+i] - block[7+i];\n\t\t\tb7 = tmp1 + tmp2;\n\t\t\tm0 = block[0+i];\n\t\t\tx4 = ((b6*473 - b4*196 + 128) >> 8) - b7;\n\t\t\tx0 = x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\n\t\t\tx1 = m0 - b1;\n\t\t\tx2 = (((block[2+i] - block[6+i])*362 + 128) >> 8) - b3;\n\t\t\tx3 = m0 + b1;\n\t\t\ty3 = x1 + x2;\n\t\t\ty4 = x3 + b3;\n\t\t\ty5 = x1 - x2;\n\t\t\ty6 = x3 - b3;\n\t\t\ty7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\n\t\t\tblock[0+i] = (b7 + y4 + 128) >> 8;\n\t\t\tblock[1+i] = (x4 + y3 + 128) >> 8;\n\t\t\tblock[2+i] = (y5 - x0 + 128) >> 8;\n\t\t\tblock[3+i] = (y6 - y7 + 128) >> 8;\n\t\t\tblock[4+i] = (y6 + y7 + 128) >> 8;\n\t\t\tblock[5+i] = (x0 + y5 + 128) >> 8;\n\t\t\tblock[6+i] = (y3 - x4 + 128) >> 8;\n\t\t\tblock[7+i] = (y4 - b7 + 128) >> 8;\n\t\t}\n\t};\n\n\n\n\t// VLC Tables and Constants\n\n\tstatic PICTURE_RATE = [\n\t\t0.000, 23.976, 24.000, 25.000, 29.970, 30.000, 50.000, 59.940,\n\t\t60.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000\n\t];\n\n\tstatic ZIG_ZAG = new Uint8Array([\n\t\t0,  1,  8, 16,  9,  2,  3, 10,\n\t\t17, 24, 32, 25, 18, 11,  4,  5,\n\t\t12, 19, 26, 33, 40, 48, 41, 34,\n\t\t27, 20, 13,  6,  7, 14, 21, 28,\n\t\t35, 42, 49, 56, 57, 50, 43, 36,\n\t\t29, 22, 15, 23, 30, 37, 44, 51,\n\t\t58, 59, 52, 45, 38, 31, 39, 46,\n\t\t53, 60, 61, 54, 47, 55, 62, 63\n\t]);\n\n\tstatic DEFAULT_INTRA_QUANT_MATRIX = new Uint8Array([\n\t\t8, 16, 19, 22, 26, 27, 29, 34,\n\t\t16, 16, 22, 24, 27, 29, 34, 37,\n\t\t19, 22, 26, 27, 29, 34, 34, 38,\n\t\t22, 22, 26, 27, 29, 34, 37, 40,\n\t\t22, 26, 27, 29, 32, 35, 40, 48,\n\t\t26, 27, 29, 32, 35, 40, 48, 58,\n\t\t26, 27, 29, 34, 38, 46, 56, 69,\n\t\t27, 29, 35, 38, 46, 56, 69, 83\n\t]);\n\n\tstatic DEFAULT_NON_INTRA_QUANT_MATRIX = new Uint8Array([\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\n\t\t16, 16, 16, 16, 16, 16, 16, 16\n\t]);\n\n\tstatic PREMULTIPLIER_MATRIX = new Uint8Array([\n\t\t32, 44, 42, 38, 32, 25, 17,  9,\n\t\t44, 62, 58, 52, 44, 35, 24, 12,\n\t\t42, 58, 55, 49, 42, 33, 23, 12,\n\t\t38, 52, 49, 44, 38, 30, 20, 10,\n\t\t32, 44, 42, 38, 32, 25, 17,  9,\n\t\t25, 35, 33, 30, 25, 20, 14,  7,\n\t\t17, 24, 23, 20, 17, 14,  9,  5,\n\t\t9, 12, 12, 10,  9,  7,  5,  2\n\t]);\n\n\t// MPEG-1 VLC\n\n\t//  macroblock_stuffing decodes as 34.\n\t//  macroblock_escape decodes as 35.\n\n\tstatic MACROBLOCK_ADDRESS_INCREMENT = new Int16Array([\n\t\t1*3,  2*3,  0, //   0\n\t\t3*3,  4*3,  0, //   1  0\n\t\t0,    0,  1, //   2  1.\n\t\t5*3,  6*3,  0, //   3  00\n\t\t7*3,  8*3,  0, //   4  01\n\t\t9*3, 10*3,  0, //   5  000\n\t\t11*3, 12*3,  0, //   6  001\n\t\t0,    0,  3, //   7  010.\n\t\t0,    0,  2, //   8  011.\n\t\t13*3, 14*3,  0, //   9  0000\n\t\t15*3, 16*3,  0, //  10  0001\n\t\t0,    0,  5, //  11  0010.\n\t\t0,    0,  4, //  12  0011.\n\t\t17*3, 18*3,  0, //  13  0000 0\n\t\t19*3, 20*3,  0, //  14  0000 1\n\t\t0,    0,  7, //  15  0001 0.\n\t\t0,    0,  6, //  16  0001 1.\n\t\t21*3, 22*3,  0, //  17  0000 00\n\t\t23*3, 24*3,  0, //  18  0000 01\n\t\t25*3, 26*3,  0, //  19  0000 10\n\t\t27*3, 28*3,  0, //  20  0000 11\n\t\t-1, 29*3,  0, //  21  0000 000\n\t\t-1, 30*3,  0, //  22  0000 001\n\t\t31*3, 32*3,  0, //  23  0000 010\n\t\t33*3, 34*3,  0, //  24  0000 011\n\t\t35*3, 36*3,  0, //  25  0000 100\n\t\t37*3, 38*3,  0, //  26  0000 101\n\t\t0,    0,  9, //  27  0000 110.\n\t\t0,    0,  8, //  28  0000 111.\n\t\t39*3, 40*3,  0, //  29  0000 0001\n\t\t41*3, 42*3,  0, //  30  0000 0011\n\t\t43*3, 44*3,  0, //  31  0000 0100\n\t\t45*3, 46*3,  0, //  32  0000 0101\n\t\t0,    0, 15, //  33  0000 0110.\n\t\t0,    0, 14, //  34  0000 0111.\n\t\t0,    0, 13, //  35  0000 1000.\n\t\t0,    0, 12, //  36  0000 1001.\n\t\t0,    0, 11, //  37  0000 1010.\n\t\t0,    0, 10, //  38  0000 1011.\n\t\t47*3,   -1,  0, //  39  0000 0001 0\n\t\t-1, 48*3,  0, //  40  0000 0001 1\n\t\t49*3, 50*3,  0, //  41  0000 0011 0\n\t\t51*3, 52*3,  0, //  42  0000 0011 1\n\t\t53*3, 54*3,  0, //  43  0000 0100 0\n\t\t55*3, 56*3,  0, //  44  0000 0100 1\n\t\t57*3, 58*3,  0, //  45  0000 0101 0\n\t\t59*3, 60*3,  0, //  46  0000 0101 1\n\t\t61*3,   -1,  0, //  47  0000 0001 00\n\t\t-1, 62*3,  0, //  48  0000 0001 11\n\t\t63*3, 64*3,  0, //  49  0000 0011 00\n\t\t65*3, 66*3,  0, //  50  0000 0011 01\n\t\t67*3, 68*3,  0, //  51  0000 0011 10\n\t\t69*3, 70*3,  0, //  52  0000 0011 11\n\t\t71*3, 72*3,  0, //  53  0000 0100 00\n\t\t73*3, 74*3,  0, //  54  0000 0100 01\n\t\t0,    0, 21, //  55  0000 0100 10.\n\t\t0,    0, 20, //  56  0000 0100 11.\n\t\t0,    0, 19, //  57  0000 0101 00.\n\t\t0,    0, 18, //  58  0000 0101 01.\n\t\t0,    0, 17, //  59  0000 0101 10.\n\t\t0,    0, 16, //  60  0000 0101 11.\n\t\t0,    0, 35, //  61  0000 0001 000. -- macroblock_escape\n\t\t0,    0, 34, //  62  0000 0001 111. -- macroblock_stuffing\n\t\t0,    0, 33, //  63  0000 0011 000.\n\t\t0,    0, 32, //  64  0000 0011 001.\n\t\t0,    0, 31, //  65  0000 0011 010.\n\t\t0,    0, 30, //  66  0000 0011 011.\n\t\t0,    0, 29, //  67  0000 0011 100.\n\t\t0,    0, 28, //  68  0000 0011 101.\n\t\t0,    0, 27, //  69  0000 0011 110.\n\t\t0,    0, 26, //  70  0000 0011 111.\n\t\t0,    0, 25, //  71  0000 0100 000.\n\t\t0,    0, 24, //  72  0000 0100 001.\n\t\t0,    0, 23, //  73  0000 0100 010.\n\t\t0,    0, 22  //  74  0000 0100 011.\n\t]);\n\n\t//  macroblock_type bitmap:\n\t//    0x10  macroblock_quant\n\t//    0x08  macroblock_motion_forward\n\t//    0x04  macroblock_motion_backward\n\t//    0x02  macrobkock_pattern\n\t//    0x01  macroblock_intra\n\t//\n\n\tstatic MACROBLOCK_TYPE_INTRA = new Int8Array([\n\t\t1*3,  2*3,     0, //   0\n\t\t-1,  3*3,     0, //   1  0\n\t\t0,    0,  0x01, //   2  1.\n\t\t0,    0,  0x11  //   3  01.\n\t]);\n\n\tstatic MACROBLOCK_TYPE_PREDICTIVE = new Int8Array([\n\t\t1*3,  2*3,     0, //  0\n\t\t3*3,  4*3,     0, //  1  0\n\t\t0,    0,  0x0a, //  2  1.\n\t\t5*3,  6*3,     0, //  3  00\n\t\t0,    0,  0x02, //  4  01.\n\t\t7*3,  8*3,     0, //  5  000\n\t\t0,    0,  0x08, //  6  001.\n\t\t9*3, 10*3,     0, //  7  0000\n\t\t11*3, 12*3,     0, //  8  0001\n\t\t-1, 13*3,     0, //  9  00000\n\t\t0,    0,  0x12, // 10  00001.\n\t\t0,    0,  0x1a, // 11  00010.\n\t\t0,    0,  0x01, // 12  00011.\n\t\t0,    0,  0x11  // 13  000001.\n\t]);\n\n\tstatic MACROBLOCK_TYPE_B = new Int8Array([\n\t\t1*3,  2*3,     0,  //  0\n\t\t3*3,  5*3,     0,  //  1  0\n\t\t4*3,  6*3,     0,  //  2  1\n\t\t8*3,  7*3,     0,  //  3  00\n\t\t0,    0,  0x0c,  //  4  10.\n\t\t9*3, 10*3,     0,  //  5  01\n\t\t0,    0,  0x0e,  //  6  11.\n\t\t13*3, 14*3,     0,  //  7  001\n\t\t12*3, 11*3,     0,  //  8  000\n\t\t0,    0,  0x04,  //  9  010.\n\t\t0,    0,  0x06,  // 10  011.\n\t\t18*3, 16*3,     0,  // 11  0001\n\t\t15*3, 17*3,     0,  // 12  0000\n\t\t0,    0,  0x08,  // 13  0010.\n\t\t0,    0,  0x0a,  // 14  0011.\n\t\t-1, 19*3,     0,  // 15  00000\n\t\t0,    0,  0x01,  // 16  00011.\n\t\t20*3, 21*3,     0,  // 17  00001\n\t\t0,    0,  0x1e,  // 18  00010.\n\t\t0,    0,  0x11,  // 19  000001.\n\t\t0,    0,  0x16,  // 20  000010.\n\t\t0,    0,  0x1a   // 21  000011.\n\t]);\n\n\tstatic MACROBLOCK_TYPE = [\n\t\tnull,\n\t\tMPEG1.MACROBLOCK_TYPE_INTRA,\n\t\tMPEG1.MACROBLOCK_TYPE_PREDICTIVE,\n\t\tMPEG1.MACROBLOCK_TYPE_B\n\t];\n\n\tstatic CODE_BLOCK_PATTERN = new Int16Array([\n\t\t2*3,   1*3,   0,  //   0\n\t\t3*3,   6*3,   0,  //   1  1\n\t\t4*3,   5*3,   0,  //   2  0\n\t\t8*3,  11*3,   0,  //   3  10\n\t\t12*3,  13*3,   0,  //   4  00\n\t\t9*3,   7*3,   0,  //   5  01\n\t\t10*3,  14*3,   0,  //   6  11\n\t\t20*3,  19*3,   0,  //   7  011\n\t\t18*3,  16*3,   0,  //   8  100\n\t\t23*3,  17*3,   0,  //   9  010\n\t\t27*3,  25*3,   0,  //  10  110\n\t\t21*3,  28*3,   0,  //  11  101\n\t\t15*3,  22*3,   0,  //  12  000\n\t\t24*3,  26*3,   0,  //  13  001\n\t\t\t0,     0,  60,  //  14  111.\n\t\t35*3,  40*3,   0,  //  15  0000\n\t\t44*3,  48*3,   0,  //  16  1001\n\t\t38*3,  36*3,   0,  //  17  0101\n\t\t42*3,  47*3,   0,  //  18  1000\n\t\t29*3,  31*3,   0,  //  19  0111\n\t\t39*3,  32*3,   0,  //  20  0110\n\t\t\t0,     0,  32,  //  21  1010.\n\t\t45*3,  46*3,   0,  //  22  0001\n\t\t33*3,  41*3,   0,  //  23  0100\n\t\t43*3,  34*3,   0,  //  24  0010\n\t\t\t0,     0,   4,  //  25  1101.\n\t\t30*3,  37*3,   0,  //  26  0011\n\t\t\t0,     0,   8,  //  27  1100.\n\t\t\t0,     0,  16,  //  28  1011.\n\t\t\t0,     0,  44,  //  29  0111 0.\n\t\t50*3,  56*3,   0,  //  30  0011 0\n\t\t\t0,     0,  28,  //  31  0111 1.\n\t\t\t0,     0,  52,  //  32  0110 1.\n\t\t\t0,     0,  62,  //  33  0100 0.\n\t\t61*3,  59*3,   0,  //  34  0010 1\n\t\t52*3,  60*3,   0,  //  35  0000 0\n\t\t\t0,     0,   1,  //  36  0101 1.\n\t\t55*3,  54*3,   0,  //  37  0011 1\n\t\t\t0,     0,  61,  //  38  0101 0.\n\t\t\t0,     0,  56,  //  39  0110 0.\n\t\t57*3,  58*3,   0,  //  40  0000 1\n\t\t\t0,     0,   2,  //  41  0100 1.\n\t\t\t0,     0,  40,  //  42  1000 0.\n\t\t51*3,  62*3,   0,  //  43  0010 0\n\t\t\t0,     0,  48,  //  44  1001 0.\n\t\t64*3,  63*3,   0,  //  45  0001 0\n\t\t49*3,  53*3,   0,  //  46  0001 1\n\t\t\t0,     0,  20,  //  47  1000 1.\n\t\t\t0,     0,  12,  //  48  1001 1.\n\t\t80*3,  83*3,   0,  //  49  0001 10\n\t\t\t0,     0,  63,  //  50  0011 00.\n\t\t77*3,  75*3,   0,  //  51  0010 00\n\t\t65*3,  73*3,   0,  //  52  0000 00\n\t\t84*3,  66*3,   0,  //  53  0001 11\n\t\t\t0,     0,  24,  //  54  0011 11.\n\t\t\t0,     0,  36,  //  55  0011 10.\n\t\t\t0,     0,   3,  //  56  0011 01.\n\t\t69*3,  87*3,   0,  //  57  0000 10\n\t\t81*3,  79*3,   0,  //  58  0000 11\n\t\t68*3,  71*3,   0,  //  59  0010 11\n\t\t70*3,  78*3,   0,  //  60  0000 01\n\t\t67*3,  76*3,   0,  //  61  0010 10\n\t\t72*3,  74*3,   0,  //  62  0010 01\n\t\t86*3,  85*3,   0,  //  63  0001 01\n\t\t88*3,  82*3,   0,  //  64  0001 00\n\t\t-1,  94*3,   0,  //  65  0000 000\n\t\t95*3,  97*3,   0,  //  66  0001 111\n\t\t\t0,     0,  33,  //  67  0010 100.\n\t\t\t0,     0,   9,  //  68  0010 110.\n\t\t106*3, 110*3,   0,  //  69  0000 100\n\t\t102*3, 116*3,   0,  //  70  0000 010\n\t\t\t0,     0,   5,  //  71  0010 111.\n\t\t\t0,     0,  10,  //  72  0010 010.\n\t\t93*3,  89*3,   0,  //  73  0000 001\n\t\t\t0,     0,   6,  //  74  0010 011.\n\t\t\t0,     0,  18,  //  75  0010 001.\n\t\t\t0,     0,  17,  //  76  0010 101.\n\t\t\t0,     0,  34,  //  77  0010 000.\n\t\t113*3, 119*3,   0,  //  78  0000 011\n\t\t103*3, 104*3,   0,  //  79  0000 111\n\t\t90*3,  92*3,   0,  //  80  0001 100\n\t\t109*3, 107*3,   0,  //  81  0000 110\n\t\t117*3, 118*3,   0,  //  82  0001 001\n\t\t101*3,  99*3,   0,  //  83  0001 101\n\t\t98*3,  96*3,   0,  //  84  0001 110\n\t\t100*3,  91*3,   0,  //  85  0001 011\n\t\t114*3, 115*3,   0,  //  86  0001 010\n\t\t105*3, 108*3,   0,  //  87  0000 101\n\t\t112*3, 111*3,   0,  //  88  0001 000\n\t\t121*3, 125*3,   0,  //  89  0000 0011\n\t\t\t0,     0,  41,  //  90  0001 1000.\n\t\t\t0,     0,  14,  //  91  0001 0111.\n\t\t\t0,     0,  21,  //  92  0001 1001.\n\t\t124*3, 122*3,   0,  //  93  0000 0010\n\t\t120*3, 123*3,   0,  //  94  0000 0001\n\t\t\t0,     0,  11,  //  95  0001 1110.\n\t\t\t0,     0,  19,  //  96  0001 1101.\n\t\t\t0,     0,   7,  //  97  0001 1111.\n\t\t\t0,     0,  35,  //  98  0001 1100.\n\t\t\t0,     0,  13,  //  99  0001 1011.\n\t\t\t0,     0,  50,  // 100  0001 0110.\n\t\t\t0,     0,  49,  // 101  0001 1010.\n\t\t\t0,     0,  58,  // 102  0000 0100.\n\t\t\t0,     0,  37,  // 103  0000 1110.\n\t\t\t0,     0,  25,  // 104  0000 1111.\n\t\t\t0,     0,  45,  // 105  0000 1010.\n\t\t\t0,     0,  57,  // 106  0000 1000.\n\t\t\t0,     0,  26,  // 107  0000 1101.\n\t\t\t0,     0,  29,  // 108  0000 1011.\n\t\t\t0,     0,  38,  // 109  0000 1100.\n\t\t\t0,     0,  53,  // 110  0000 1001.\n\t\t\t0,     0,  23,  // 111  0001 0001.\n\t\t\t0,     0,  43,  // 112  0001 0000.\n\t\t\t0,     0,  46,  // 113  0000 0110.\n\t\t\t0,     0,  42,  // 114  0001 0100.\n\t\t\t0,     0,  22,  // 115  0001 0101.\n\t\t\t0,     0,  54,  // 116  0000 0101.\n\t\t\t0,     0,  51,  // 117  0001 0010.\n\t\t\t0,     0,  15,  // 118  0001 0011.\n\t\t\t0,     0,  30,  // 119  0000 0111.\n\t\t\t0,     0,  39,  // 120  0000 0001 0.\n\t\t\t0,     0,  47,  // 121  0000 0011 0.\n\t\t\t0,     0,  55,  // 122  0000 0010 1.\n\t\t\t0,     0,  27,  // 123  0000 0001 1.\n\t\t\t0,     0,  59,  // 124  0000 0010 0.\n\t\t\t0,     0,  31   // 125  0000 0011 1.\n\t]);\n\n\tstatic MOTION = new Int16Array([\n\t\t1*3,   2*3,   0,  //   0\n\t\t4*3,   3*3,   0,  //   1  0\n\t\t\t0,     0,   0,  //   2  1.\n\t\t6*3,   5*3,   0,  //   3  01\n\t\t8*3,   7*3,   0,  //   4  00\n\t\t\t0,     0,  -1,  //   5  011.\n\t\t\t0,     0,   1,  //   6  010.\n\t\t9*3,  10*3,   0,  //   7  001\n\t\t12*3,  11*3,   0,  //   8  000\n\t\t\t0,     0,   2,  //   9  0010.\n\t\t\t0,     0,  -2,  //  10  0011.\n\t\t14*3,  15*3,   0,  //  11  0001\n\t\t16*3,  13*3,   0,  //  12  0000\n\t\t20*3,  18*3,   0,  //  13  0000 1\n\t\t\t0,     0,   3,  //  14  0001 0.\n\t\t\t0,     0,  -3,  //  15  0001 1.\n\t\t17*3,  19*3,   0,  //  16  0000 0\n\t\t-1,  23*3,   0,  //  17  0000 00\n\t\t27*3,  25*3,   0,  //  18  0000 11\n\t\t26*3,  21*3,   0,  //  19  0000 01\n\t\t24*3,  22*3,   0,  //  20  0000 10\n\t\t32*3,  28*3,   0,  //  21  0000 011\n\t\t29*3,  31*3,   0,  //  22  0000 101\n\t\t-1,  33*3,   0,  //  23  0000 001\n\t\t36*3,  35*3,   0,  //  24  0000 100\n\t\t\t0,     0,  -4,  //  25  0000 111.\n\t\t30*3,  34*3,   0,  //  26  0000 010\n\t\t\t0,     0,   4,  //  27  0000 110.\n\t\t\t0,     0,  -7,  //  28  0000 0111.\n\t\t\t0,     0,   5,  //  29  0000 1010.\n\t\t37*3,  41*3,   0,  //  30  0000 0100\n\t\t\t0,     0,  -5,  //  31  0000 1011.\n\t\t\t0,     0,   7,  //  32  0000 0110.\n\t\t38*3,  40*3,   0,  //  33  0000 0011\n\t\t42*3,  39*3,   0,  //  34  0000 0101\n\t\t\t0,     0,  -6,  //  35  0000 1001.\n\t\t\t0,     0,   6,  //  36  0000 1000.\n\t\t51*3,  54*3,   0,  //  37  0000 0100 0\n\t\t50*3,  49*3,   0,  //  38  0000 0011 0\n\t\t45*3,  46*3,   0,  //  39  0000 0101 1\n\t\t52*3,  47*3,   0,  //  40  0000 0011 1\n\t\t43*3,  53*3,   0,  //  41  0000 0100 1\n\t\t44*3,  48*3,   0,  //  42  0000 0101 0\n\t\t\t0,     0,  10,  //  43  0000 0100 10.\n\t\t\t0,     0,   9,  //  44  0000 0101 00.\n\t\t\t0,     0,   8,  //  45  0000 0101 10.\n\t\t\t0,     0,  -8,  //  46  0000 0101 11.\n\t\t57*3,  66*3,   0,  //  47  0000 0011 11\n\t\t\t0,     0,  -9,  //  48  0000 0101 01.\n\t\t60*3,  64*3,   0,  //  49  0000 0011 01\n\t\t56*3,  61*3,   0,  //  50  0000 0011 00\n\t\t55*3,  62*3,   0,  //  51  0000 0100 00\n\t\t58*3,  63*3,   0,  //  52  0000 0011 10\n\t\t\t0,     0, -10,  //  53  0000 0100 11.\n\t\t59*3,  65*3,   0,  //  54  0000 0100 01\n\t\t\t0,     0,  12,  //  55  0000 0100 000.\n\t\t\t0,     0,  16,  //  56  0000 0011 000.\n\t\t\t0,     0,  13,  //  57  0000 0011 110.\n\t\t\t0,     0,  14,  //  58  0000 0011 100.\n\t\t\t0,     0,  11,  //  59  0000 0100 010.\n\t\t\t0,     0,  15,  //  60  0000 0011 010.\n\t\t\t0,     0, -16,  //  61  0000 0011 001.\n\t\t\t0,     0, -12,  //  62  0000 0100 001.\n\t\t\t0,     0, -14,  //  63  0000 0011 101.\n\t\t\t0,     0, -15,  //  64  0000 0011 011.\n\t\t\t0,     0, -11,  //  65  0000 0100 011.\n\t\t\t0,     0, -13   //  66  0000 0011 111.\n\t]);\n\n\tstatic DCT_DC_SIZE_LUMINANCE = new Int8Array([\n\t\t2*3,   1*3, 0,  //   0\n\t\t6*3,   5*3, 0,  //   1  1\n\t\t3*3,   4*3, 0,  //   2  0\n\t\t\t0,     0, 1,  //   3  00.\n\t\t\t0,     0, 2,  //   4  01.\n\t\t9*3,   8*3, 0,  //   5  11\n\t\t7*3,  10*3, 0,  //   6  10\n\t\t\t0,     0, 0,  //   7  100.\n\t\t12*3,  11*3, 0,  //   8  111\n\t\t\t0,     0, 4,  //   9  110.\n\t\t\t0,     0, 3,  //  10  101.\n\t\t13*3,  14*3, 0,  //  11  1111\n\t\t\t0,     0, 5,  //  12  1110.\n\t\t\t0,     0, 6,  //  13  1111 0.\n\t\t16*3,  15*3, 0,  //  14  1111 1\n\t\t17*3,    -1, 0,  //  15  1111 11\n\t\t\t0,     0, 7,  //  16  1111 10.\n\t\t\t0,     0, 8   //  17  1111 110.\n\t]);\n\n\tstatic DCT_DC_SIZE_CHROMINANCE = new Int8Array([\n\t\t2*3,   1*3, 0,  //   0\n\t\t4*3,   3*3, 0,  //   1  1\n\t\t6*3,   5*3, 0,  //   2  0\n\t\t8*3,   7*3, 0,  //   3  11\n\t\t\t0,     0, 2,  //   4  10.\n\t\t\t0,     0, 1,  //   5  01.\n\t\t\t0,     0, 0,  //   6  00.\n\t\t10*3,   9*3, 0,  //   7  111\n\t\t\t0,     0, 3,  //   8  110.\n\t\t12*3,  11*3, 0,  //   9  1111\n\t\t\t0,     0, 4,  //  10  1110.\n\t\t14*3,  13*3, 0,  //  11  1111 1\n\t\t\t0,     0, 5,  //  12  1111 0.\n\t\t16*3,  15*3, 0,  //  13  1111 11\n\t\t\t0,     0, 6,  //  14  1111 10.\n\t\t17*3,    -1, 0,  //  15  1111 111\n\t\t\t0,     0, 7,  //  16  1111 110.\n\t\t\t0,     0, 8   //  17  1111 1110.\n\t]);\n\n\t//  dct_coeff bitmap:\n\t//    0xff00  run\n\t//    0x00ff  level\n\n\t//  Decoded values are unsigned. Sign bit follows in the stream.\n\n\t//  Interpretation of the value 0x0001\n\t//    for dc_coeff_first:  run=0, level=1\n\t//    for dc_coeff_next:   If the next bit is 1: run=0, level=1\n\t//                         If the next bit is 0: end_of_block\n\n\t//  escape decodes as 0xffff.\n\n\tstatic DCT_COEFF = new Int32Array([\n\t\t1*3,   2*3,      0,  //   0\n\t\t4*3,   3*3,      0,  //   1  0\n\t\t\t0,     0, 0x0001,  //   2  1.\n\t\t7*3,   8*3,      0,  //   3  01\n\t\t6*3,   5*3,      0,  //   4  00\n\t\t13*3,   9*3,      0,  //   5  001\n\t\t11*3,  10*3,      0,  //   6  000\n\t\t14*3,  12*3,      0,  //   7  010\n\t\t\t0,     0, 0x0101,  //   8  011.\n\t\t20*3,  22*3,      0,  //   9  0011\n\t\t18*3,  21*3,      0,  //  10  0001\n\t\t16*3,  19*3,      0,  //  11  0000\n\t\t\t0,     0, 0x0201,  //  12  0101.\n\t\t17*3,  15*3,      0,  //  13  0010\n\t\t\t0,     0, 0x0002,  //  14  0100.\n\t\t\t0,     0, 0x0003,  //  15  0010 1.\n\t\t27*3,  25*3,      0,  //  16  0000 0\n\t\t29*3,  31*3,      0,  //  17  0010 0\n\t\t24*3,  26*3,      0,  //  18  0001 0\n\t\t32*3,  30*3,      0,  //  19  0000 1\n\t\t\t0,     0, 0x0401,  //  20  0011 0.\n\t\t23*3,  28*3,      0,  //  21  0001 1\n\t\t\t0,     0, 0x0301,  //  22  0011 1.\n\t\t\t0,     0, 0x0102,  //  23  0001 10.\n\t\t\t0,     0, 0x0701,  //  24  0001 00.\n\t\t\t0,     0, 0xffff,  //  25  0000 01. -- escape\n\t\t\t0,     0, 0x0601,  //  26  0001 01.\n\t\t37*3,  36*3,      0,  //  27  0000 00\n\t\t\t0,     0, 0x0501,  //  28  0001 11.\n\t\t35*3,  34*3,      0,  //  29  0010 00\n\t\t39*3,  38*3,      0,  //  30  0000 11\n\t\t33*3,  42*3,      0,  //  31  0010 01\n\t\t40*3,  41*3,      0,  //  32  0000 10\n\t\t52*3,  50*3,      0,  //  33  0010 010\n\t\t54*3,  53*3,      0,  //  34  0010 001\n\t\t48*3,  49*3,      0,  //  35  0010 000\n\t\t43*3,  45*3,      0,  //  36  0000 001\n\t\t46*3,  44*3,      0,  //  37  0000 000\n\t\t\t0,     0, 0x0801,  //  38  0000 111.\n\t\t\t0,     0, 0x0004,  //  39  0000 110.\n\t\t\t0,     0, 0x0202,  //  40  0000 100.\n\t\t\t0,     0, 0x0901,  //  41  0000 101.\n\t\t51*3,  47*3,      0,  //  42  0010 011\n\t\t55*3,  57*3,      0,  //  43  0000 0010\n\t\t60*3,  56*3,      0,  //  44  0000 0001\n\t\t59*3,  58*3,      0,  //  45  0000 0011\n\t\t61*3,  62*3,      0,  //  46  0000 0000\n\t\t\t0,     0, 0x0a01,  //  47  0010 0111.\n\t\t\t0,     0, 0x0d01,  //  48  0010 0000.\n\t\t\t0,     0, 0x0006,  //  49  0010 0001.\n\t\t\t0,     0, 0x0103,  //  50  0010 0101.\n\t\t\t0,     0, 0x0005,  //  51  0010 0110.\n\t\t\t0,     0, 0x0302,  //  52  0010 0100.\n\t\t\t0,     0, 0x0b01,  //  53  0010 0011.\n\t\t\t0,     0, 0x0c01,  //  54  0010 0010.\n\t\t76*3,  75*3,      0,  //  55  0000 0010 0\n\t\t67*3,  70*3,      0,  //  56  0000 0001 1\n\t\t73*3,  71*3,      0,  //  57  0000 0010 1\n\t\t78*3,  74*3,      0,  //  58  0000 0011 1\n\t\t72*3,  77*3,      0,  //  59  0000 0011 0\n\t\t69*3,  64*3,      0,  //  60  0000 0001 0\n\t\t68*3,  63*3,      0,  //  61  0000 0000 0\n\t\t66*3,  65*3,      0,  //  62  0000 0000 1\n\t\t81*3,  87*3,      0,  //  63  0000 0000 01\n\t\t91*3,  80*3,      0,  //  64  0000 0001 01\n\t\t82*3,  79*3,      0,  //  65  0000 0000 11\n\t\t83*3,  86*3,      0,  //  66  0000 0000 10\n\t\t93*3,  92*3,      0,  //  67  0000 0001 10\n\t\t84*3,  85*3,      0,  //  68  0000 0000 00\n\t\t90*3,  94*3,      0,  //  69  0000 0001 00\n\t\t88*3,  89*3,      0,  //  70  0000 0001 11\n\t\t\t0,     0, 0x0203,  //  71  0000 0010 11.\n\t\t\t0,     0, 0x0104,  //  72  0000 0011 00.\n\t\t\t0,     0, 0x0007,  //  73  0000 0010 10.\n\t\t\t0,     0, 0x0402,  //  74  0000 0011 11.\n\t\t\t0,     0, 0x0502,  //  75  0000 0010 01.\n\t\t\t0,     0, 0x1001,  //  76  0000 0010 00.\n\t\t\t0,     0, 0x0f01,  //  77  0000 0011 01.\n\t\t\t0,     0, 0x0e01,  //  78  0000 0011 10.\n\t\t105*3, 107*3,      0,  //  79  0000 0000 111\n\t\t111*3, 114*3,      0,  //  80  0000 0001 011\n\t\t104*3,  97*3,      0,  //  81  0000 0000 010\n\t\t125*3, 119*3,      0,  //  82  0000 0000 110\n\t\t96*3,  98*3,      0,  //  83  0000 0000 100\n\t\t-1, 123*3,      0,  //  84  0000 0000 000\n\t\t95*3, 101*3,      0,  //  85  0000 0000 001\n\t\t106*3, 121*3,      0,  //  86  0000 0000 101\n\t\t99*3, 102*3,      0,  //  87  0000 0000 011\n\t\t113*3, 103*3,      0,  //  88  0000 0001 110\n\t\t112*3, 116*3,      0,  //  89  0000 0001 111\n\t\t110*3, 100*3,      0,  //  90  0000 0001 000\n\t\t124*3, 115*3,      0,  //  91  0000 0001 010\n\t\t117*3, 122*3,      0,  //  92  0000 0001 101\n\t\t109*3, 118*3,      0,  //  93  0000 0001 100\n\t\t120*3, 108*3,      0,  //  94  0000 0001 001\n\t\t127*3, 136*3,      0,  //  95  0000 0000 0010\n\t\t139*3, 140*3,      0,  //  96  0000 0000 1000\n\t\t130*3, 126*3,      0,  //  97  0000 0000 0101\n\t\t145*3, 146*3,      0,  //  98  0000 0000 1001\n\t\t128*3, 129*3,      0,  //  99  0000 0000 0110\n\t\t\t0,     0, 0x0802,  // 100  0000 0001 0001.\n\t\t132*3, 134*3,      0,  // 101  0000 0000 0011\n\t\t155*3, 154*3,      0,  // 102  0000 0000 0111\n\t\t\t0,     0, 0x0008,  // 103  0000 0001 1101.\n\t\t137*3, 133*3,      0,  // 104  0000 0000 0100\n\t\t143*3, 144*3,      0,  // 105  0000 0000 1110\n\t\t151*3, 138*3,      0,  // 106  0000 0000 1010\n\t\t142*3, 141*3,      0,  // 107  0000 0000 1111\n\t\t\t0,     0, 0x000a,  // 108  0000 0001 0011.\n\t\t\t0,     0, 0x0009,  // 109  0000 0001 1000.\n\t\t\t0,     0, 0x000b,  // 110  0000 0001 0000.\n\t\t\t0,     0, 0x1501,  // 111  0000 0001 0110.\n\t\t\t0,     0, 0x0602,  // 112  0000 0001 1110.\n\t\t\t0,     0, 0x0303,  // 113  0000 0001 1100.\n\t\t\t0,     0, 0x1401,  // 114  0000 0001 0111.\n\t\t\t0,     0, 0x0702,  // 115  0000 0001 0101.\n\t\t\t0,     0, 0x1101,  // 116  0000 0001 1111.\n\t\t\t0,     0, 0x1201,  // 117  0000 0001 1010.\n\t\t\t0,     0, 0x1301,  // 118  0000 0001 1001.\n\t\t148*3, 152*3,      0,  // 119  0000 0000 1101\n\t\t\t0,     0, 0x0403,  // 120  0000 0001 0010.\n\t\t153*3, 150*3,      0,  // 121  0000 0000 1011\n\t\t\t0,     0, 0x0105,  // 122  0000 0001 1011.\n\t\t131*3, 135*3,      0,  // 123  0000 0000 0001\n\t\t\t0,     0, 0x0204,  // 124  0000 0001 0100.\n\t\t149*3, 147*3,      0,  // 125  0000 0000 1100\n\t\t172*3, 173*3,      0,  // 126  0000 0000 0101 1\n\t\t162*3, 158*3,      0,  // 127  0000 0000 0010 0\n\t\t170*3, 161*3,      0,  // 128  0000 0000 0110 0\n\t\t168*3, 166*3,      0,  // 129  0000 0000 0110 1\n\t\t157*3, 179*3,      0,  // 130  0000 0000 0101 0\n\t\t169*3, 167*3,      0,  // 131  0000 0000 0001 0\n\t\t174*3, 171*3,      0,  // 132  0000 0000 0011 0\n\t\t178*3, 177*3,      0,  // 133  0000 0000 0100 1\n\t\t156*3, 159*3,      0,  // 134  0000 0000 0011 1\n\t\t164*3, 165*3,      0,  // 135  0000 0000 0001 1\n\t\t183*3, 182*3,      0,  // 136  0000 0000 0010 1\n\t\t175*3, 176*3,      0,  // 137  0000 0000 0100 0\n\t\t\t0,     0, 0x0107,  // 138  0000 0000 1010 1.\n\t\t\t0,     0, 0x0a02,  // 139  0000 0000 1000 0.\n\t\t\t0,     0, 0x0902,  // 140  0000 0000 1000 1.\n\t\t\t0,     0, 0x1601,  // 141  0000 0000 1111 1.\n\t\t\t0,     0, 0x1701,  // 142  0000 0000 1111 0.\n\t\t\t0,     0, 0x1901,  // 143  0000 0000 1110 0.\n\t\t\t0,     0, 0x1801,  // 144  0000 0000 1110 1.\n\t\t\t0,     0, 0x0503,  // 145  0000 0000 1001 0.\n\t\t\t0,     0, 0x0304,  // 146  0000 0000 1001 1.\n\t\t\t0,     0, 0x000d,  // 147  0000 0000 1100 1.\n\t\t\t0,     0, 0x000c,  // 148  0000 0000 1101 0.\n\t\t\t0,     0, 0x000e,  // 149  0000 0000 1100 0.\n\t\t\t0,     0, 0x000f,  // 150  0000 0000 1011 1.\n\t\t\t0,     0, 0x0205,  // 151  0000 0000 1010 0.\n\t\t\t0,     0, 0x1a01,  // 152  0000 0000 1101 1.\n\t\t\t0,     0, 0x0106,  // 153  0000 0000 1011 0.\n\t\t180*3, 181*3,      0,  // 154  0000 0000 0111 1\n\t\t160*3, 163*3,      0,  // 155  0000 0000 0111 0\n\t\t196*3, 199*3,      0,  // 156  0000 0000 0011 10\n\t\t\t0,     0, 0x001b,  // 157  0000 0000 0101 00.\n\t\t203*3, 185*3,      0,  // 158  0000 0000 0010 01\n\t\t202*3, 201*3,      0,  // 159  0000 0000 0011 11\n\t\t\t0,     0, 0x0013,  // 160  0000 0000 0111 00.\n\t\t\t0,     0, 0x0016,  // 161  0000 0000 0110 01.\n\t\t197*3, 207*3,      0,  // 162  0000 0000 0010 00\n\t\t\t0,     0, 0x0012,  // 163  0000 0000 0111 01.\n\t\t191*3, 192*3,      0,  // 164  0000 0000 0001 10\n\t\t188*3, 190*3,      0,  // 165  0000 0000 0001 11\n\t\t\t0,     0, 0x0014,  // 166  0000 0000 0110 11.\n\t\t184*3, 194*3,      0,  // 167  0000 0000 0001 01\n\t\t\t0,     0, 0x0015,  // 168  0000 0000 0110 10.\n\t\t186*3, 193*3,      0,  // 169  0000 0000 0001 00\n\t\t\t0,     0, 0x0017,  // 170  0000 0000 0110 00.\n\t\t204*3, 198*3,      0,  // 171  0000 0000 0011 01\n\t\t\t0,     0, 0x0019,  // 172  0000 0000 0101 10.\n\t\t\t0,     0, 0x0018,  // 173  0000 0000 0101 11.\n\t\t200*3, 205*3,      0,  // 174  0000 0000 0011 00\n\t\t\t0,     0, 0x001f,  // 175  0000 0000 0100 00.\n\t\t\t0,     0, 0x001e,  // 176  0000 0000 0100 01.\n\t\t\t0,     0, 0x001c,  // 177  0000 0000 0100 11.\n\t\t\t0,     0, 0x001d,  // 178  0000 0000 0100 10.\n\t\t\t0,     0, 0x001a,  // 179  0000 0000 0101 01.\n\t\t\t0,     0, 0x0011,  // 180  0000 0000 0111 10.\n\t\t\t0,     0, 0x0010,  // 181  0000 0000 0111 11.\n\t\t189*3, 206*3,      0,  // 182  0000 0000 0010 11\n\t\t187*3, 195*3,      0,  // 183  0000 0000 0010 10\n\t\t218*3, 211*3,      0,  // 184  0000 0000 0001 010\n\t\t\t0,     0, 0x0025,  // 185  0000 0000 0010 011.\n\t\t215*3, 216*3,      0,  // 186  0000 0000 0001 000\n\t\t\t0,     0, 0x0024,  // 187  0000 0000 0010 100.\n\t\t210*3, 212*3,      0,  // 188  0000 0000 0001 110\n\t\t\t0,     0, 0x0022,  // 189  0000 0000 0010 110.\n\t\t213*3, 209*3,      0,  // 190  0000 0000 0001 111\n\t\t221*3, 222*3,      0,  // 191  0000 0000 0001 100\n\t\t219*3, 208*3,      0,  // 192  0000 0000 0001 101\n\t\t217*3, 214*3,      0,  // 193  0000 0000 0001 001\n\t\t223*3, 220*3,      0,  // 194  0000 0000 0001 011\n\t\t\t0,     0, 0x0023,  // 195  0000 0000 0010 101.\n\t\t\t0,     0, 0x010b,  // 196  0000 0000 0011 100.\n\t\t\t0,     0, 0x0028,  // 197  0000 0000 0010 000.\n\t\t\t0,     0, 0x010c,  // 198  0000 0000 0011 011.\n\t\t\t0,     0, 0x010a,  // 199  0000 0000 0011 101.\n\t\t\t0,     0, 0x0020,  // 200  0000 0000 0011 000.\n\t\t\t0,     0, 0x0108,  // 201  0000 0000 0011 111.\n\t\t\t0,     0, 0x0109,  // 202  0000 0000 0011 110.\n\t\t\t0,     0, 0x0026,  // 203  0000 0000 0010 010.\n\t\t\t0,     0, 0x010d,  // 204  0000 0000 0011 010.\n\t\t\t0,     0, 0x010e,  // 205  0000 0000 0011 001.\n\t\t\t0,     0, 0x0021,  // 206  0000 0000 0010 111.\n\t\t\t0,     0, 0x0027,  // 207  0000 0000 0010 001.\n\t\t\t0,     0, 0x1f01,  // 208  0000 0000 0001 1011.\n\t\t\t0,     0, 0x1b01,  // 209  0000 0000 0001 1111.\n\t\t\t0,     0, 0x1e01,  // 210  0000 0000 0001 1100.\n\t\t\t0,     0, 0x1002,  // 211  0000 0000 0001 0101.\n\t\t\t0,     0, 0x1d01,  // 212  0000 0000 0001 1101.\n\t\t\t0,     0, 0x1c01,  // 213  0000 0000 0001 1110.\n\t\t\t0,     0, 0x010f,  // 214  0000 0000 0001 0011.\n\t\t\t0,     0, 0x0112,  // 215  0000 0000 0001 0000.\n\t\t\t0,     0, 0x0111,  // 216  0000 0000 0001 0001.\n\t\t\t0,     0, 0x0110,  // 217  0000 0000 0001 0010.\n\t\t\t0,     0, 0x0603,  // 218  0000 0000 0001 0100.\n\t\t\t0,     0, 0x0b02,  // 219  0000 0000 0001 1010.\n\t\t\t0,     0, 0x0e02,  // 220  0000 0000 0001 0111.\n\t\t\t0,     0, 0x0d02,  // 221  0000 0000 0001 1000.\n\t\t\t0,     0, 0x0c02,  // 222  0000 0000 0001 1001.\n\t\t\t0,     0, 0x0f02   // 223  0000 0000 0001 0110.\n\t]);\n\n\tstatic PICTURE_TYPE = {\n\t\tINTRA: 1,\n\t\tPREDICTIVE: 2,\n\t\tB: 3\n\t};\n\n\tstatic START = {\n\t\tSEQUENCE: 0xB3,\n\t\tSLICE_FIRST: 0x01,\n\t\tSLICE_LAST: 0xAF,\n\t\tPICTURE: 0x00,\n\t\tEXTENSION: 0xB5,\n\t\tUSER_DATA: 0xB2\n\t};\n\n\n}","// import { AjaxSource } from \"./ajax.js\";\n// import { AjaxProgressiveSource } from \"./ajax-progressive.js\";\n// import { FetchSource } from \"./fetch.js\";\nimport { SIOSource /*, WSSource*/ } from \"./websocket.js\";\n\nimport { MPEG1 } from \"./mpeg1.js\";\nimport { MPEG1WASM } from \"./mpeg1-wasm.js\";\n\nimport { MP2 } from \"./mp2.js\";\nimport { MP2WASM } from \"./mp2-wasm.js\";\n\n// import { MPEG2 } from \"./mpeg2.js\";\n\nimport { WebGLRenderer } from \"./webgl.js\";\nimport { CanvasRenderer } from \"./canvas2d.js\";\n\nimport { WebAudioOut } from \"./webaudio.js\";\n\nimport { TS } from \"./ts.js\";\n// import { TS2 } from \"./ts2.js\";\n\nimport { WASM } from \"./wasm-module.js\";\n\nimport { WASM_BINARY_INLINED } from \"../jsmpeg.wasm.js\";\n\nimport { Now, Base64ToArrayBuffer } from \"./utils.js\";\n\nexport class Player {\n\tconstructor(options) {\n\t\toptions.streaming = true;\n\t\tthis.options = options || {};\n\t\tthis.source = new SIOSource(options);\n\n\t\tthis.maxAudioLag = options.maxAudioLag || 0.25;\n\t\tthis.loop = options.loop !== false;\n\t\tthis.autoplay = !!options.autoplay || options.streaming;\n\n\t\tthis.demuxer = new TS(options);\n\t\t// this.demuxer = new TS2(options);\n\t\tthis.source.connect(this.demuxer);\n\n\t\toptions.disableWebAssembly = true;\n\n\t\tif (!options.disableWebAssembly && WASM.IsSupported()) {\n\t\t\tthis.wasmModule = WASM.GetModule();\n\t\t\toptions.wasmModule = this.wasmModule;\n\t\t}\n\n\t\tif (options.video !== false) {\n\t\t\tthis.video = options.wasmModule ? new MPEG1WASM(options) : new MPEG1(options);\n\n\t\t\tthis.renderer =\n\t\t\t\t!options.disableGl && WebGLRenderer.IsSupported()\n\t\t\t\t\t? new WebGLRenderer(options)\n\t\t\t\t\t: new CanvasRenderer(options);\n\n\t\t\tthis.demuxer.connect(TS.STREAM.VIDEO_1, this.video);\n\t\t\tthis.video.connect(this.renderer);\n\t\t}\n\n\t\tif (options.audio !== false && WebAudioOut.IsSupported()) {\n\t\t\tthis.audio = options.wasmModule ? new MP2WASM(options) : new MP2(options);\n\t\t\tthis.audioOut = new WebAudioOut(options);\n\t\t\tthis.demuxer.connect(TS.STREAM.AUDIO_1, this.audio);\n\t\t\tthis.audio.connect(this.audioOut);\n\t\t}\n\n\t\tObject.defineProperty(this, \"currentTime\", {\n\t\t\tget: this.getCurrentTime,\n\t\t\tset: this.setCurrentTime,\n\t\t});\n\t\tObject.defineProperty(this, \"volume\", {\n\t\t\tget: this.getVolume,\n\t\t\tset: this.setVolume,\n\t\t});\n\n\t\tthis.unpauseOnShow = false;\n\t\tif (options.pauseWhenHidden !== false) {\n\t\t\tdocument.addEventListener(\"visibilitychange\", this.showHide.bind(this));\n\t\t}\n\n\t\t// If we have WebAssembly support, wait until the module is compiled before\n\t\t// loading the source. Otherwise the decoders won't know what to do with\n\t\t// the source data.\n\t\tif (this.wasmModule) {\n\t\t\tif (this.wasmModule.ready) {\n\t\t\t\tthis.startLoading();\n\n\t\t\t\t// todo:\n\t\t\t} else if (/*JSMpeg.WASM_BINARY_INLINED*/ true) {\n\t\t\t\tlet wasm = Base64ToArrayBuffer(WASM_BINARY_INLINED);\n\t\t\t\tthis.wasmModule.loadFromBuffer(wasm, this.startLoading.bind(this));\n\t\t\t} else {\n\t\t\t\tthis.wasmModule.loadFromFile(\"jsmpeg.wasm\", this.startLoading.bind(this));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.startLoading();\n\t\t}\n\t}\n\n\tstartLoading = () => {\n\t\tthis.source.start();\n\t\tif (this.autoplay) {\n\t\t\tthis.play();\n\t\t}\n\t};\n\n\tshowHide = () => {\n\t\tif (document.visibilityState === \"hidden\") {\n\t\t\tthis.unpauseOnShow = this.wantsToPlay;\n\t\t\tthis.pause();\n\t\t} else if (this.unpauseOnShow) {\n\t\t\tthis.play();\n\t\t}\n\t};\n\n\tplay = () => {\n\t\tif (this.animationId) {\n\t\t\treturn;\n\t\t}\n\t\tthis.animationId = requestAnimationFrame(this.update.bind(this));\n\t\tthis.wantsToPlay = true;\n\t\tthis.paused = false;\n\t};\n\n\tpause = () => {\n\t\tif (this.paused) {\n\t\t\treturn;\n\t\t}\n\t\tcancelAnimationFrame(this.animationId);\n\t\tthis.animationId = null;\n\t\tthis.wantsToPlay = false;\n\t\tthis.isPlaying = false;\n\t\tthis.paused = true;\n\n\t\tif (this.audio && this.audio.canPlay) {\n\t\t\t// Seek to the currentTime again - audio may already be enqueued a bit\n\t\t\t// further, so we have to rewind it.\n\t\t\tthis.audioOut.stop();\n\t\t\tthis.seek(this.currentTime);\n\t\t}\n\n\t\tif (this.options.onPause) {\n\t\t\tthis.options.onPause(this);\n\t\t}\n\t};\n\n\tgetVolume = () => {\n\t\treturn this.audioOut ? this.audioOut.volume : 0;\n\t};\n\n\tsetVolume = function(volume) {\n\t\tif (this.audioOut) {\n\t\t\tthis.audioOut.volume = volume;\n\t\t}\n\t};\n\n\tstop = () => {\n\t\tthis.pause();\n\t\tthis.seek(0);\n\t\tif (this.video && this.options.decodeFirstFrame !== false) {\n\t\t\tthis.video.decode();\n\t\t}\n\t};\n\n\tdestroy = () => {\n\t\tthis.pause();\n\t\tthis.source.destroy();\n\t\tthis.video && this.video.destroy();\n\t\tthis.renderer && this.renderer.destroy();\n\t\tthis.audio && this.audio.destroy();\n\t\tthis.audioOut && this.audioOut.destroy();\n\t};\n\n\tseek = (time) => {\n\t\tlet startOffset =\n\t\t\tthis.audio && this.audio.canPlay ? this.audio.startTime : this.video.startTime;\n\n\t\tif (this.video) {\n\t\t\tthis.video.seek(time + startOffset);\n\t\t}\n\t\tif (this.audio) {\n\t\t\tthis.audio.seek(time + startOffset);\n\t\t}\n\n\t\tthis.startTime = Now() - time;\n\t};\n\n\tgetCurrentTime = () => {\n\t\treturn this.audio && this.audio.canPlay\n\t\t\t? this.audio.currentTime - this.audio.startTime\n\t\t\t: this.video\n\t\t\t? this.video.currentTime - this.video.startTime\n\t\t\t: null;\n\t};\n\n\tsetCurrentTime = function(time) {\n\t\tthis.seek(time);\n\t};\n\n\tupdate = () => {\n\t\tthis.animationId = requestAnimationFrame(this.update.bind(this));\n\n\t\tif (!this.source.established) {\n\t\t\tif (this.renderer) {\n\t\t\t\tthis.renderer.renderProgress(this.source.progress);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.isPlaying) {\n\t\t\tthis.isPlaying = true;\n\t\t\tthis.startTime = Now() - this.currentTime;\n\n\t\t\tif (this.options.onPlay) {\n\t\t\t\tthis.options.onPlay(this);\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.streaming) {\n\t\t\tthis.updateForStreaming();\n\t\t} else {\n\t\t\tthis.updateForStaticFile();\n\t\t}\n\t};\n\n\tupdateForStreaming = () => {\n\t\t// When streaming, immediately decode everything we have buffered up until\n\t\t// now to minimize playback latency.\n\t\tif (this.video) {\n\t\t\tthis.video.decode();\n\t\t}\n\n\t\tif (this.audio) {\n\t\t\tlet decoded = false;\n\t\t\tdo {\n\t\t\t\t// If there's a lot of audio enqueued already, disable output and\n\t\t\t\t// catch up with the encoding.\n\t\t\t\tif (this.audioOut.enqueuedTime > this.maxAudioLag) {\n\t\t\t\t\tthis.audioOut.resetEnqueuedTime();\n\t\t\t\t\tthis.audioOut.enabled = false;\n\t\t\t\t}\n\t\t\t\tdecoded = this.audio.decode();\n\t\t\t} while (decoded);\n\t\t\tthis.audioOut.enabled = true;\n\t\t}\n\t};\n\n\tnextFrame = () => {\n\t\tif (this.source.established && this.video) {\n\t\t\treturn this.video.decode();\n\t\t}\n\t\treturn false;\n\t};\n\n\tupdateForStaticFile = () => {\n\t\tlet notEnoughData = false;\n\t\tlet headroom = 0;\n\n\t\t// If we have an audio track, we always try to sync the video to the audio.\n\t\t// Gaps and discontinuities are far more percetable in audio than in video.\n\n\t\tif (this.audio && this.audio.canPlay) {\n\t\t\t// Do we have to decode and enqueue some more audio data?\n\t\t\twhile (!notEnoughData && this.audio.decodedTime - this.audio.currentTime < 0.25) {\n\t\t\t\tnotEnoughData = !this.audio.decode();\n\t\t\t}\n\n\t\t\t// Sync video to audio\n\t\t\tif (this.video && this.video.currentTime < this.audio.currentTime) {\n\t\t\t\tnotEnoughData = !this.video.decode();\n\t\t\t}\n\n\t\t\theadroom = this.demuxer.currentTime - this.audio.currentTime;\n\t\t} else if (this.video) {\n\t\t\t// Video only - sync it to player's wallclock\n\t\t\tlet targetTime = Now() - this.startTime + this.video.startTime,\n\t\t\t\tlateTime = targetTime - this.video.currentTime,\n\t\t\t\tframeTime = 1 / this.video.frameRate;\n\n\t\t\tif (this.video && lateTime > 0) {\n\t\t\t\t// If the video is too far behind (>2 frames), simply reset the\n\t\t\t\t// target time to the next frame instead of trying to catch up.\n\t\t\t\tif (lateTime > frameTime * 2) {\n\t\t\t\t\tthis.startTime += lateTime;\n\t\t\t\t}\n\n\t\t\t\tnotEnoughData = !this.video.decode();\n\t\t\t}\n\n\t\t\theadroom = this.demuxer.currentTime - targetTime;\n\t\t}\n\n\t\t// Notify the source of the playhead headroom, so it can decide whether to\n\t\t// continue loading further data.\n\t\tthis.source.resume(headroom);\n\n\t\t// If we failed to decode and the source is complete, it means we reached\n\t\t// the end of our data. We may want to loop.\n\t\tif (notEnoughData && this.source.completed) {\n\t\t\tif (this.loop) {\n\t\t\t\tthis.seek(0);\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t\tif (this.options.onEnded) {\n\t\t\t\t\tthis.options.onEnded(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If there's not enough data and the source is not completed, we have\n\t\t// just stalled.\n\t\telse if (notEnoughData && this.options.onStalled) {\n\t\t\tthis.options.onStalled(this);\n\t\t}\n\t};\n}\n","import { BitBuffer } from \"./buffer.js\";\n\nexport class TS {\n\tconstructor(options) {\n\t\tthis.bits = null;\n\t\tthis.leftoverBytes = null;\n\n\t\tthis.guessVideoFrameEnd = true;\n\t\tthis.pidsToStreamIds = {};\n\n\t\tthis.pesPacketInfo = {};\n\t\tthis.startTime = 0;\n\t\tthis.currentTime = 0;\n\t}\n\n\tstatic STREAM = {\n\t\tPACK_HEADER: 0xba,\n\t\tSYSTEM_HEADER: 0xbb,\n\t\tPROGRAM_MAP: 0xbc,\n\t\tPRIVATE_1: 0xbd,\n\t\tPADDING: 0xbe,\n\t\tPRIVATE_2: 0xbf,\n\t\tAUDIO_1: 0xc0,\n\t\tVIDEO_1: 0xe0,\n\t\tDIRECTORY: 0xff,\n\t};\n\n\tconnect = (streamId, destination) => {\n\t\tthis.pesPacketInfo[streamId] = {\n\t\t\tdestination: destination,\n\t\t\tcurrentLength: 0,\n\t\t\ttotalLength: 0,\n\t\t\tpts: 0,\n\t\t\tbuffers: [],\n\t\t};\n\t};\n\n\twrite = (buffer) => {\n\t\tif (this.leftoverBytes) {\n\t\t\tlet totalLength = buffer.byteLength + this.leftoverBytes.byteLength;\n\t\t\tthis.bits = new BitBuffer(totalLength);\n\t\t\tthis.bits.write([this.leftoverBytes, buffer]);\n\t\t} else {\n\t\t\tthis.bits = new BitBuffer(buffer);\n\t\t}\n\n\t\twhile (this.bits.has(188 << 3) && this.parsePacket()) {}\n\n\t\tlet leftoverCount = this.bits.byteLength - (this.bits.index >> 3);\n\t\tthis.leftoverBytes =\n\t\t\tleftoverCount > 0 ? this.bits.bytes.subarray(this.bits.index >> 3) : null;\n\t};\n\n\tparsePacket = () => {\n\t\t// Check if we're in sync with packet boundaries; attempt to resync if not.\n\t\tif (this.bits.read(8) !== 0x47) {\n\t\t\tif (!this.resync()) {\n\t\t\t\t// Couldn't resync; maybe next time...\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tlet end = (this.bits.index >> 3) + 187;\n\t\tlet transportError = this.bits.read(1),\n\t\t\tpayloadStart = this.bits.read(1),\n\t\t\ttransportPriority = this.bits.read(1),\n\t\t\tpid = this.bits.read(13),\n\t\t\ttransportScrambling = this.bits.read(2),\n\t\t\tadaptationField = this.bits.read(2),\n\t\t\tcontinuityCounter = this.bits.read(4);\n\n\t\t// If this is the start of a new payload; signal the end of the previous\n\t\t// frame, if we didn't do so already.\n\t\tlet streamId = this.pidsToStreamIds[pid];\n\t\tif (payloadStart && streamId) {\n\t\t\tlet pi = this.pesPacketInfo[streamId];\n\t\t\tif (pi && pi.currentLength) {\n\t\t\t\tthis.packetComplete(pi);\n\t\t\t}\n\t\t}\n\n\t\t// Extract current payload\n\t\tif (adaptationField & 0x1) {\n\t\t\tif (adaptationField & 0x2) {\n\t\t\t\tlet adaptationFieldLength = this.bits.read(8);\n\t\t\t\tthis.bits.skip(adaptationFieldLength << 3);\n\t\t\t}\n\n\t\t\tif (payloadStart && this.bits.nextBytesAreStartCode()) {\n\t\t\t\tthis.bits.skip(24);\n\t\t\t\tstreamId = this.bits.read(8);\n\t\t\t\tthis.pidsToStreamIds[pid] = streamId;\n\n\t\t\t\tlet packetLength = this.bits.read(16);\n\t\t\t\tthis.bits.skip(8);\n\t\t\t\tlet ptsDtsFlag = this.bits.read(2);\n\t\t\t\tthis.bits.skip(6);\n\t\t\t\tlet headerLength = this.bits.read(8);\n\t\t\t\tlet payloadBeginIndex = this.bits.index + (headerLength << 3);\n\n\t\t\t\tlet pi = this.pesPacketInfo[streamId];\n\t\t\t\tif (pi) {\n\t\t\t\t\tlet pts = 0;\n\t\t\t\t\tif (ptsDtsFlag & 0x2) {\n\t\t\t\t\t\t// The Presentation Timestamp is encoded as 33(!) bit\n\t\t\t\t\t\t// integer, but has a \"marker bit\" inserted at weird places\n\t\t\t\t\t\t// in between, making the whole thing 5 bytes in size.\n\t\t\t\t\t\t// You can't make this shit up...\n\t\t\t\t\t\tthis.bits.skip(4);\n\t\t\t\t\t\tlet p32_30 = this.bits.read(3);\n\t\t\t\t\t\tthis.bits.skip(1);\n\t\t\t\t\t\tlet p29_15 = this.bits.read(15);\n\t\t\t\t\t\tthis.bits.skip(1);\n\t\t\t\t\t\tlet p14_0 = this.bits.read(15);\n\t\t\t\t\t\tthis.bits.skip(1);\n\n\t\t\t\t\t\t// Can't use bit shifts here; we need 33 bits of precision,\n\t\t\t\t\t\t// so we're using JavaScript's double number type. Also\n\t\t\t\t\t\t// divide by the 90khz clock to get the pts in seconds.\n\t\t\t\t\t\tpts = (p32_30 * 1073741824 + p29_15 * 32768 + p14_0) / 90000;\n\n\t\t\t\t\t\tthis.currentTime = pts;\n\t\t\t\t\t\tif (this.startTime === -1) {\n\t\t\t\t\t\t\tthis.startTime = pts;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet payloadLength = packetLength ? packetLength - headerLength - 3 : 0;\n\t\t\t\t\tthis.packetStart(pi, pts, payloadLength);\n\t\t\t\t}\n\n\t\t\t\t// Skip the rest of the header without parsing it\n\t\t\t\tthis.bits.index = payloadBeginIndex;\n\t\t\t}\n\n\t\t\tif (streamId) {\n\t\t\t\t// Attempt to detect if the PES packet is complete. For Audio (and\n\t\t\t\t// other) packets, we received a total packet length with the PES\n\t\t\t\t// header, so we can check the current length.\n\n\t\t\t\t// For Video packets, we have to guess the end by detecting if this\n\t\t\t\t// TS packet was padded - there's no good reason to pad a TS packet\n\t\t\t\t// in between, but it might just fit exactly. If this fails, we can\n\t\t\t\t// only wait for the next PES header for that stream.\n\n\t\t\t\tlet pi = this.pesPacketInfo[streamId];\n\t\t\t\tif (pi) {\n\t\t\t\t\tlet start = this.bits.index >> 3;\n\t\t\t\t\tlet complete = this.packetAddData(pi, start, end);\n\n\t\t\t\t\tlet hasPadding = !payloadStart && adaptationField & 0x2;\n\t\t\t\t\tif (complete || (this.guessVideoFrameEnd && hasPadding)) {\n\t\t\t\t\t\tthis.packetComplete(pi);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.bits.index = end << 3;\n\t\treturn true;\n\t};\n\n\tresync = () => {\n\t\t// Check if we have enough data to attempt a resync. We need 5 full packets.\n\t\tif (!this.bits.has((188 * 6) << 3)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet byteIndex = this.bits.index >> 3;\n\n\t\t// Look for the first sync token in the first 187 bytes\n\t\tfor (let i = 0; i < 187; i++) {\n\t\t\tif (this.bits.bytes[byteIndex + i] === 0x47) {\n\t\t\t\t// Look for 4 more sync tokens, each 188 bytes appart\n\t\t\t\tlet foundSync = true;\n\t\t\t\tfor (let j = 1; j < 5; j++) {\n\t\t\t\t\tif (this.bits.bytes[byteIndex + i + 188 * j] !== 0x47) {\n\t\t\t\t\t\tfoundSync = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (foundSync) {\n\t\t\t\t\tthis.bits.index = (byteIndex + i + 1) << 3;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// In theory, we shouldn't arrive here. If we do, we had enough data but\n\t\t// still didn't find sync - this can only happen if we were fed garbage\n\t\t// data. Check your source!\n\t\tconsole.warn(\"JSMpeg: Possible garbage data. Skipping.\");\n\t\tthis.bits.skip(187 << 3);\n\t\treturn false;\n\t};\n\n\tpacketStart = (pi, pts, payloadLength) => {\n\t\tpi.totalLength = payloadLength;\n\t\tpi.currentLength = 0;\n\t\tpi.pts = pts;\n\t};\n\n\tpacketAddData = (pi, start, end) => {\n\t\tpi.buffers.push(this.bits.bytes.subarray(start, end));\n\t\tpi.currentLength += end - start;\n\n\t\tlet complete = pi.totalLength !== 0 && pi.currentLength >= pi.totalLength;\n\t\treturn complete;\n\t};\n\n\tpacketComplete = (pi) => {\n\t\tpi.destination.write(pi.pts, pi.buffers);\n\t\tpi.totalLength = 0;\n\t\tpi.currentLength = 0;\n\t\tpi.buffers = [];\n\t};\n}\n","export function Now() {\n\treturn window.performance ? window.performance.now() / 1000 : Date.now() / 1000;\n}\n\nexport function CreateVideoElements() {\n\tvar elements = document.querySelectorAll(\".jsmpeg\");\n\tfor (var i = 0; i < elements.length; i++) {\n\t\tnew this.VideoElement(elements[i]);\n\t}\n}\n\nexport function Fill(array, value) {\n\tif (array.fill) {\n\t\tarray.fill(value);\n\t} else {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tarray[i] = value;\n\t\t}\n\t}\n}\n\nexport function Base64ToArrayBuffer(base64) {\n\tvar binary = window.atob(base64);\n\tvar length = binary.length;\n\tvar bytes = new Uint8Array(length);\n\tfor (var i = 0; i < length; i++) {\n\t\tbytes[i] = binary.charCodeAt(i);\n\t}\n\treturn bytes.buffer;\n}\n","import { AjaxSource } from \"./ajax.js\";\n\nexport class WASM {\n\tconstructor() {\n\t\tthis.stackSize = 5 * 1024 * 1024; // emscripten default\n\t\tthis.pageSize = 64 * 1024; // wasm page size\n\t\tthis.onInitCallback = null;\n\t\tthis.ready = false;\n\t}\n\n\twrite = function(buffer) {\n\t\tthis.loadFromBuffer(buffer, this.onInitCallback);\n\t};\n\n\tloadFromFile = function(url, callback) {\n\t\tthis.onInitCallback = callback;\n\t\tvar ajax = new AjaxSource(url, {});\n\t\tajax.connect(this);\n\t\tajax.start();\n\t};\n\n\tloadFromBuffer = function(buffer, callback) {\n\t\tthis.moduleInfo = this.readDylinkSection(buffer);\n\t\tif (!this.moduleInfo) {\n\t\t\tthis.callback && this.callback(null);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.memory = new WebAssembly.Memory({ initial: 256 });\n\t\tvar env = {\n\t\t\tmemory: this.memory,\n\t\t\t__memory_base: 0,\n\t\t\ttable: new WebAssembly.Table({\n\t\t\t\tinitial: this.moduleInfo.tableSize,\n\t\t\t\telement: \"anyfunc\",\n\t\t\t}),\n\t\t\t__table_base: 0,\n\t\t\tabort: this.c_abort.bind(this),\n\t\t\t// ___assert_fail: this.c_assertFail.bind(this),\n\t\t\t// _sbrk: this.c_sbrk.bind(this),\n\n\t\t\t__assert_fail: this.c_assertFail.bind(this),\n\t\t\tsbrk: this.c_sbrk.bind(this),\n\t\t\tstackSave: () => {},\n\t\t\tstackRestore: () => {},\n\t\t};\n\n\t\tthis.brk = this.align(this.moduleInfo.memorySize + this.stackSize);\n\t\tWebAssembly.instantiate(buffer, { env: env }).then(\n\t\t\tfunction(results) {\n\t\t\t\tthis.instance = results.instance;\n\t\t\t\tif (this.instance.exports.__post_instantiate) {\n\t\t\t\t\tthis.instance.exports.__post_instantiate();\n\t\t\t\t}\n\t\t\t\tthis.createHeapViews();\n\t\t\t\tthis.ready = true;\n\t\t\t\tcallback && callback(this);\n\t\t\t}.bind(this),\n\t\t);\n\t};\n\n\tcreateHeapViews = function() {\n\t\tthis.instance.heapU8 = new Uint8Array(this.memory.buffer);\n\t\tthis.instance.heapU32 = new Uint32Array(this.memory.buffer);\n\t\tthis.instance.heapF32 = new Float32Array(this.memory.buffer);\n\t};\n\n\talign = function(addr) {\n\t\tvar a = Math.pow(2, this.moduleInfo.memoryAlignment);\n\t\treturn Math.ceil(addr / a) * a;\n\t};\n\n\tc_sbrk = function(size) {\n\t\tvar previousBrk = this.brk;\n\t\tthis.brk += size;\n\n\t\tif (this.brk > this.memory.buffer.byteLength) {\n\t\t\tvar bytesNeeded = this.brk - this.memory.buffer.byteLength;\n\t\t\tvar pagesNeeded = Math.ceil(bytesNeeded / this.pageSize);\n\t\t\tthis.memory.grow(pagesNeeded);\n\t\t\tthis.createHeapViews();\n\t\t}\n\t\treturn previousBrk;\n\t};\n\n\tc_abort = function(size) {\n\t\tconsole.warn(\"JSMPeg: WASM abort\", arguments);\n\t};\n\n\tc_assertFail = function(size) {\n\t\tconsole.warn(\"JSMPeg: WASM ___assert_fail\", arguments);\n\t};\n\n\treadDylinkSection = function(buffer) {\n\t\t// Read the WASM header and dylink section of the .wasm binary data\n\t\t// to get the needed table size and static data size.\n\n\t\t// https://github.com/WebAssembly/tool-conventions/blob/master/DynamicLinking.md\n\t\t// https://github.com/kripken/emscripten/blob/20602efb955a7c6c20865a495932427e205651d2/src/support.js\n\n\t\tvar bytes = new Uint8Array(buffer);\n\t\tvar next = 0;\n\n\t\tvar readVarUint = function() {\n\t\t\tvar ret = 0;\n\t\t\tvar mul = 1;\n\t\t\twhile (1) {\n\t\t\t\tvar byte = bytes[next++];\n\t\t\t\tret += (byte & 0x7f) * mul;\n\t\t\t\tmul *= 0x80;\n\t\t\t\tif (!(byte & 0x80)) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar matchNextBytes = function(expected) {\n\t\t\tfor (var i = 0; i < expected.length; i++) {\n\t\t\t\tvar b = typeof expected[i] === \"string\" ? expected[i].charCodeAt(0) : expected[i];\n\t\t\t\tif (bytes[next++] !== b) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t// Make sure we have a wasm header\n\t\tif (!matchNextBytes([0, \"a\", \"s\", \"m\"])) {\n\t\t\tconsole.warn(\"JSMpeg: WASM header not found\");\n\t\t\treturn null;\n\t\t}\n\n\t\t// Make sure we have a dylink section\n\t\tvar next = 9;\n\t\tvar sectionSize = readVarUint();\n\t\tif (!matchNextBytes([6, \"d\", \"y\", \"l\", \"i\", \"n\", \"k\"])) {\n\t\t\tconsole.warn(\"JSMpeg: No dylink section found in WASM\");\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tmemorySize: readVarUint(),\n\t\t\tmemoryAlignment: readVarUint(),\n\t\t\ttableSize: readVarUint(),\n\t\t\ttableAlignment: readVarUint(),\n\t\t};\n\t};\n\n\tstatic IsSupported = function() {\n\t\treturn !!window.WebAssembly;\n\t};\n\n\tstatic GetModule = function() {\n\t\tWASM.CACHED_MODULE = WASM.CACHED_MODULE || new WASM();\n\t\treturn WASM.CACHED_MODULE;\n\t};\n}\n","import { Now } from \"./utils.js\";\n\nexport class WebAudioOut {\n\tconstructor(options) {\n\t\tthis.context = WebAudioOut.CachedContext =\n\t\t\tWebAudioOut.CachedContext ||\n\t\t\tnew (window.AudioContext || window.webkitAudioContext)();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.destination = this.gain;\n\n\t\t// Keep track of the number of connections to this AudioContext, so we\n\t\t// can safely close() it when we're the only one connected to it.\n\t\tthis.gain.connect(this.context.destination);\n\t\tthis.context._connections = (this.context._connections || 0) + 1;\n\n\t\tthis.startTime = 0;\n\t\tthis.buffer = null;\n\t\tthis.wallclockStartTime = 0;\n\t\tthis.volume = 1;\n\t\tthis.enabled = true;\n\n\t\t// maybe needs to be global to class:\n\t\t// todo:\n\t\tthis.CachedContext = null;\n\n\t\tthis.unlocked = !WebAudioOut.NeedsUnlocking();\n\t\tthis.unlockTimer = null;\n\n\t\tObject.defineProperty(this, \"enqueuedTime\", { get: this.getEnqueuedTime });\n\t}\n\n\tdestroy = () => {\n\t\tclearTimeout(this.unlockTimer);\n\t\tthis.gain.disconnect();\n\t\tthis.context._connections--;\n\n\t\tif (this.context._connections === 0) {\n\t\t\tthis.context.close();\n\t\t\tWebAudioOut.CachedContext = null;\n\t\t}\n\t};\n\n\tplay = (sampleRate, left, right) => {\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If the context is not unlocked yet, we simply advance the start time\n\t\t// to \"fake\" actually playing audio. This will keep the video in sync.\n\t\tif (!this.unlocked) {\n\t\t\tlet ts = Now();\n\t\t\tif (this.wallclockStartTime < ts) {\n\t\t\t\tthis.wallclockStartTime = ts;\n\t\t\t}\n\t\t\tthis.wallclockStartTime += left.length / sampleRate;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.gain.gain.value = this.volume;\n\n\t\tlet buffer = this.context.createBuffer(2, left.length, sampleRate);\n\t\tbuffer.getChannelData(0).set(left);\n\t\tbuffer.getChannelData(1).set(right);\n\n\t\tlet source = this.context.createBufferSource();\n\t\tsource.buffer = buffer;\n\t\tsource.connect(this.destination);\n\n\t\tlet now = this.context.currentTime;\n\t\tlet duration = buffer.duration;\n\t\tif (this.startTime < now) {\n\t\t\tthis.startTime = now;\n\t\t\tthis.wallclockStartTime = Now();\n\t\t}\n\n\t\tsource.start(this.startTime);\n\t\tthis.startTime += duration;\n\t\tthis.wallclockStartTime += duration;\n\t};\n\n\tstop = () => {\n\t\t// Meh; there seems to be no simple way to get a list of currently\n\t\t// active source nodes from the Audio Context, and maintaining this\n\t\t// list ourselfs would be a pain, so we just set the gain to 0\n\t\t// to cut off all enqueued audio instantly.\n\t\tthis.gain.gain.value = 0;\n\t};\n\n\tgetEnqueuedTime = () => {\n\t\t// The AudioContext.currentTime is only updated every so often, so if we\n\t\t// want to get exact timing, we need to rely on the system time.\n\t\treturn Math.max(this.wallclockStartTime - Now(), 0);\n\t};\n\n\tresetEnqueuedTime = () => {\n\t\tthis.startTime = this.context.currentTime;\n\t\tthis.wallclockStartTime = Now();\n\t};\n\n\tunlock = (callback) => {\n\t\tif (this.unlocked) {\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis.unlockCallback = callback;\n\n\t\t// Create empty buffer and play it\n\t\tvar buffer = this.context.createBuffer(1, 1, 22050);\n\t\tvar source = this.context.createBufferSource();\n\t\tsource.buffer = buffer;\n\t\tsource.connect(this.destination);\n\t\tsource.start(0);\n\n\t\t// setTimeout(this.checkIfUnlocked.bind(this, source, 0), 0);\n\t\tthis.unlockTimer = setTimeout(this.checkIfUnlocked, 0, source, 0);\n\t};\n\n\tcheckIfUnlocked = (source, attempt) => {\n\t\tif (\n\t\t\tsource.playbackState === source.PLAYING_STATE ||\n\t\t\tsource.playbackState === source.FINISHED_STATE\n\t\t) {\n\t\t\tthis.unlocked = true;\n\t\t\tif (this.unlockCallback) {\n\t\t\t\tthis.unlockCallback();\n\t\t\t\tthis.unlockCallback = null;\n\t\t\t}\n\t\t} else if (attempt < 10) {\n\t\t\t// Jeez, what a shit show. Thanks iOS!\n\t\t\t// setTimeout(this.checkIfUnlocked.bind(this, source, attempt + 1), 100);\n\t\t\tthis.unlockTimer = setTimeout(this.checkIfUnlocked, 100, source, attempt + 1);\n\t\t}\n\t};\n\n\tstatic NeedsUnlocking = () => {\n\t\treturn /iPhone|iPad|iPod/i.test(navigator.userAgent);\n\t};\n\n\tstatic IsSupported = () => {\n\t\treturn window.AudioContext || window.webkitAudioContext;\n\t};\n}\n","export class WebGLRenderer {\n\tconstructor(options) {\n\t\tthis.canvas = options.canvas || document.createElement(\"canvas\");\n\t\tthis.width = this.canvas.width;\n\t\tthis.height = this.canvas.height;\n\t\tthis.enabled = true;\n\n\t\tthis.hasTextureData = {};\n\n\t\tthis.contextCreateOptions = {\n\t\t\tpreserveDrawingBuffer: !!options.preserveDrawingBuffer,\n\t\t\talpha: false,\n\t\t\tdepth: false,\n\t\t\tstencil: false,\n\t\t\tantialias: false,\n\t\t\tpremultipliedAlpha: false,\n\t\t};\n\n\t\tthis.gl =\n\t\t\tthis.canvas.getContext(\"webgl\", this.contextCreateOptions) ||\n\t\t\tthis.canvas.getContext(\"experimental-webgl\", this.contextCreateOptions);\n\n\t\tif (!this.gl) {\n\t\t\tthrow new Error(\"Failed to get WebGL Context\");\n\t\t}\n\n\t\tif (this.gl.isContextLost()) {\n\t\t\tthrow new Error(\"WebGL Context is lost!\");\n\t\t}\n\n\t\tthis.SHADER = {\n\t\t\tFRAGMENT_YCRCB_TO_RGBA: [\n\t\t\t\t\"precision mediump float;\",\n\t\t\t\t\"uniform sampler2D textureY;\",\n\t\t\t\t\"uniform sampler2D textureCb;\",\n\t\t\t\t\"uniform sampler2D textureCr;\",\n\t\t\t\t\"varying vec2 texCoord;\",\n\n\t\t\t\t\"mat4 rec601 = mat4(\",\n\t\t\t\t\"1.16438,  0.00000,  1.59603, -0.87079,\",\n\t\t\t\t\"1.16438, -0.39176, -0.81297,  0.52959,\",\n\t\t\t\t\"1.16438,  2.01723,  0.00000, -1.08139,\",\n\t\t\t\t\"0, 0, 0, 1\",\n\t\t\t\t\");\",\n\n\t\t\t\t\"void main() {\",\n\t\t\t\t\"float y = texture2D(textureY, texCoord).r;\",\n\t\t\t\t\"float cb = texture2D(textureCb, texCoord).r;\",\n\t\t\t\t\"float cr = texture2D(textureCr, texCoord).r;\",\n\n\t\t\t\t\"gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;\",\n\t\t\t\t\"}\",\n\t\t\t].join(\"\\n\"),\n\n\t\t\tFRAGMENT_LOADING: [\n\t\t\t\t\"precision mediump float;\",\n\t\t\t\t\"uniform float progress;\",\n\t\t\t\t\"varying vec2 texCoord;\",\n\n\t\t\t\t\"void main() {\",\n\t\t\t\t\"float c = ceil(progress-(1.0-texCoord.y));\",\n\t\t\t\t\"gl_FragColor = vec4(c,c,c,1);\",\n\t\t\t\t\"}\",\n\t\t\t].join(\"\\n\"),\n\n\t\t\tVERTEX_IDENTITY: [\n\t\t\t\t\"attribute vec2 vertex;\",\n\t\t\t\t\"varying vec2 texCoord;\",\n\n\t\t\t\t\"void main() {\",\n\t\t\t\t\"texCoord = vertex;\",\n\t\t\t\t\"gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);\",\n\t\t\t\t\"}\",\n\t\t\t].join(\"\\n\"),\n\t\t};\n\n\t\tlet gl = this.gl;\n\t\tlet vertexAttr = null;\n\n\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n\n\t\t// Init buffers\n\t\tthis.vertexBuffer = gl.createBuffer();\n\t\tlet vertexCoords = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, vertexCoords, gl.STATIC_DRAW);\n\n\t\t// Setup the main YCrCbToRGBA shader\n\t\tthis.program = this.createProgram(\n\t\t\tthis.SHADER.VERTEX_IDENTITY,\n\t\t\tthis.SHADER.FRAGMENT_YCRCB_TO_RGBA,\n\t\t);\n\t\tvertexAttr = gl.getAttribLocation(this.program, \"vertex\");\n\t\tgl.enableVertexAttribArray(vertexAttr);\n\t\tgl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n\t\tthis.textureY = this.createTexture(0, \"textureY\");\n\t\tthis.textureCb = this.createTexture(1, \"textureCb\");\n\t\tthis.textureCr = this.createTexture(2, \"textureCr\");\n\n\t\t// Setup the loading animation shader\n\t\tthis.loadingProgram = this.createProgram(\n\t\t\tthis.SHADER.VERTEX_IDENTITY,\n\t\t\tthis.SHADER.FRAGMENT_LOADING,\n\t\t);\n\t\tvertexAttr = gl.getAttribLocation(this.loadingProgram, \"vertex\");\n\t\tgl.enableVertexAttribArray(vertexAttr);\n\t\tgl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n\t\tthis.shouldCreateUnclampedViews = !this.allowsClampedTextureData();\n\t}\n\n\tdestroy = () => {\n\t\tlet gl = this.gl;\n\n\t\tthis.deleteTexture(gl.TEXTURE0, this.textureY);\n\t\tthis.deleteTexture(gl.TEXTURE1, this.textureCb);\n\t\tthis.deleteTexture(gl.TEXTURE2, this.textureCr);\n\n\t\tgl.useProgram(null);\n\t\tgl.deleteProgram(this.program);\n\t\tgl.deleteProgram(this.loadingProgram);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\tgl.deleteBuffer(this.vertexBuffer);\n\n\t\t// breaks:\n\t\t// gl.getExtension(\"WEBGL_lose_context\").loseContext();\n\t\t// window.lose_context = gl.getExtension(\"WEBGL_lose_context\");\n\t\t// window.lose_context.loseContext();\n\n\t\t// console.log(lose_context.restoreContext);\n\n\t\t// lose_context.restoreContext();\n\n\t\t// this.canvas.remove(); // don't do this because I need it // fosse\n\n\t\t// let newEl = document.createElement(\"canvas\");\n\t\t// newEl.id = this.canvas.id;\n\t\t// newEl.classList = this.canvas.classList;\n\t\t// newEl.width = this.canvas.width;\n\t\t// newEl.height = this.canvas.height;\n\t\t// newEl.style = this.canvas.style;\n\t\t// this.canvas.parentNode.replaceChild(newEl, this.canvas);\n\t\t// // window.newEl = newEl;\n\t\t// this.canvas.remove();\n\t};\n\n\tresize = (width, height) => {\n\t\tthis.width = width | 0;\n\t\tthis.height = height | 0;\n\n\t\tthis.canvas.width = this.width;\n\t\tthis.canvas.height = this.height;\n\n\t\tthis.gl.useProgram(this.program);\n\t\tlet codedWidth = ((this.width + 15) >> 4) << 4;\n\t\tthis.gl.viewport(0, 0, codedWidth, this.height);\n\t};\n\n\tcreateTexture = (index, name) => {\n\t\tlet gl = this.gl;\n\t\tlet texture = gl.createTexture();\n\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tgl.uniform1i(gl.getUniformLocation(this.program, name), index);\n\n\t\treturn texture;\n\t};\n\n\tcreateProgram = (vsh, fsh) => {\n\t\tlet gl = this.gl;\n\t\tlet program = gl.createProgram();\n\n\t\tgl.attachShader(program, this.compileShader(gl.VERTEX_SHADER, vsh));\n\t\tgl.attachShader(program, this.compileShader(gl.FRAGMENT_SHADER, fsh));\n\t\tgl.linkProgram(program);\n\t\tgl.useProgram(program);\n\n\t\treturn program;\n\t};\n\n\tcompileShader = (type, source) => {\n\t\tlet gl = this.gl;\n\t\tlet shader = gl.createShader(type);\n\n\t\tgl.shaderSource(shader, source);\n\t\tgl.compileShader(shader);\n\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\t\tthrow new Error(gl.getShaderInfoLog(shader));\n\t\t}\n\n\t\treturn shader;\n\t};\n\n\tallowsClampedTextureData = () => {\n\t\tlet gl = this.gl;\n\t\tlet texture = gl.createTexture();\n\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texImage2D(\n\t\t\tgl.TEXTURE_2D,\n\t\t\t0,\n\t\t\tgl.LUMINANCE,\n\t\t\t1,\n\t\t\t1,\n\t\t\t0,\n\t\t\tgl.LUMINANCE,\n\t\t\tgl.UNSIGNED_BYTE,\n\t\t\tnew Uint8ClampedArray([0]),\n\t\t);\n\t\treturn gl.getError() === 0;\n\t};\n\n\trenderProgress = (progress) => {\n\t\tlet gl = this.gl;\n\n\t\tgl.useProgram(this.loadingProgram);\n\n\t\tlet loc = gl.getUniformLocation(this.loadingProgram, \"progress\");\n\t\tgl.uniform1f(loc, progress);\n\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\t};\n\n\trender = (y, cb, cr, isClampedArray) => {\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet gl = this.gl;\n\t\tlet w = ((this.width + 15) >> 4) << 4,\n\t\t\th = this.height,\n\t\t\tw2 = w >> 1,\n\t\t\th2 = h >> 1;\n\n\t\t// In some browsers WebGL doesn't like Uint8ClampedArrays (this is a bug\n\t\t// and should be fixed soon-ish), so we have to create a Uint8Array view\n\t\t// for each plane.\n\t\tif (isClampedArray && this.shouldCreateUnclampedViews) {\n\t\t\t(y = new Uint8Array(y.buffer)),\n\t\t\t\t(cb = new Uint8Array(cb.buffer)),\n\t\t\t\t(cr = new Uint8Array(cr.buffer));\n\t\t}\n\n\t\tgl.useProgram(this.program);\n\n\t\tthis.updateTexture(gl.TEXTURE0, this.textureY, w, h, y);\n\t\tthis.updateTexture(gl.TEXTURE1, this.textureCb, w2, h2, cb);\n\t\tthis.updateTexture(gl.TEXTURE2, this.textureCr, w2, h2, cr);\n\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\t};\n\n\tupdateTexture = (unit, texture, w, h, data) => {\n\t\tlet gl = this.gl;\n\t\tgl.activeTexture(unit);\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\n\t\tif (this.hasTextureData[unit]) {\n\t\t\tgl.texSubImage2D(\n\t\t\t\tgl.TEXTURE_2D,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tw,\n\t\t\t\th,\n\t\t\t\tgl.LUMINANCE,\n\t\t\t\tgl.UNSIGNED_BYTE,\n\t\t\t\tdata,\n\t\t\t);\n\t\t} else {\n\t\t\tthis.hasTextureData[unit] = true;\n\t\t\tgl.texImage2D(\n\t\t\t\tgl.TEXTURE_2D,\n\t\t\t\t0,\n\t\t\t\tgl.LUMINANCE,\n\t\t\t\tw,\n\t\t\t\th,\n\t\t\t\t0,\n\t\t\t\tgl.LUMINANCE,\n\t\t\t\tgl.UNSIGNED_BYTE,\n\t\t\t\tdata,\n\t\t\t);\n\t\t}\n\t};\n\n\tdeleteTexture = (unit, texture) => {\n\t\tlet gl = this.gl;\n\t\tgl.activeTexture(unit);\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\tgl.deleteTexture(texture);\n\t};\n\n\tstatic IsSupported = () => {\n\t\ttry {\n\t\t\tif (!window.WebGLRenderingContext) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet canvas = document.createElement(\"canvas\");\n\t\t\treturn !!(canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"));\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t};\n}\n","import socketio from \"socket.io-client\";\n\nexport class SIOSource {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t\tthis.url = options.url;\n\t\tthis.path = options.path;\n\t\tthis.socket = options.videoConnection;\n\t\tthis.streaming = true;\n\n\t\tthis.callbacks = { connect: [], data: [] };\n\t\tthis.destination = null;\n\n\t\tthis.reconnectInterval =\n\t\t\toptions.reconnectInterval !== undefined ? options.reconnectInterval : 5;\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\n\n\t\tthis.completed = false;\n\t\tthis.established = false;\n\t\tthis.progress = 0;\n\n\t\tthis.reconnectTimeoutId = 0;\n\n\t\tthis.onEstablishedCallback = options.onSourceEstablished;\n\t\tthis.onCompletedCallback = options.onSourceCompleted; // Never used\n\t}\n\n\tconnect = (destination) => {\n\t\tthis.destination = destination;\n\t};\n\n\tdestroy = () => {\n\t\tclearTimeout(this.reconnectTimeoutId);\n\t\tthis.shouldAttemptReconnect = false;\n\t\tif (this.socket && !this.options.videoConnection) {\n\t\t\tthis.socket.close();\n\t\t}\n\t};\n\n\tstart = () => {\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\n\t\tthis.progress = 0;\n\t\tthis.established = false;\n\n\t\tif (!this.socket) {\n\t\t\tthis.socket = socketio(this.url, {\n\t\t\t\tpath: this.path,\n\t\t\t\ttransports: [\"websocket\"],\n\t\t\t});\n\t\t\tthis.socket.on(\"connect\", this.onOpen.bind(this));\n\t\t\tthis.socket.on(\"disconnect\", this.onClose.bind(this));\n\t\t\tthis.socket.on(\"videoData\", this.onMessage.bind(this));\n\t\t} else {\n\t\t\tthis.socket.on(\"connect\", this.onOpen.bind(this));\n\t\t\t// this.socket.on(\"disconnect\", this.onClose.bind(this));\n\t\t\tthis.socket.on(\"videoData\", this.onMessage.bind(this));\n\t\t}\n\t};\n\n\tresume = (secondsHeadroom) => {\n\t\t// Nothing to do here\n\t};\n\n\tonOpen = () => {\n\t\tthis.progress = 1;\n\t};\n\n\tonClose = () => {\n\t\tif (this.shouldAttemptReconnect) {\n\t\t\tclearTimeout(this.reconnectTimeoutId);\n\t\t\tthis.reconnectTimeoutId = setTimeout(() => {\n\t\t\t\tthis.start();\n\t\t\t}, this.reconnectInterval * 1000);\n\t\t}\n\t};\n\n\tonMessage = (ev) => {\n\t\tlet isFirstChunk = !this.established;\n\t\tthis.established = true;\n\n\t\tif (isFirstChunk && this.onEstablishedCallback) {\n\t\t\tthis.onEstablishedCallback(this);\n\t\t}\n\n\t\tif (this.destination) {\n\t\t\tthis.destination.write(ev);\n\t\t}\n\t};\n}\n","import { Player } from \"libs/jsmpeg/src/player.js\";\n\nexport default class Lagless2 {\n\tconstructor(options) {\n\t\tthis.videoCanvas = null;\n\t\tthis.graphicsCanvas = null;\n\t\tthis.context = null; // graphics context2d\n\t\tthis.player = {};\n\n\t\tthis.options = {\n\t\t\tvideoBufferSize: 512 * 1024, // 256kb (256 * 1024)\n\t\t\taudioBufferSize: 128 * 1024, // 128kb (128 * 1024)\n\t\t\tmaxAudioLag: 0.25,\n\t\t\t...options,\n\t\t};\n\n\t\tthis.times = [];\n\t\tthis.fps = 0;\n\t}\n\n\tpause = () => {\n\t\ttry {\n\t\t\tthis.player.pause();\n\t\t} catch (error) {}\n\n\t\t// setInterval(() => {\n\t\t// \tconsole.log(window.stream.player.getCurrentTime());\n\t\t// }, 10);\n\t};\n\n\tplay = () => {\n\t\ttry {\n\t\t\tthis.player.play();\n\t\t} catch (error) {}\n\t};\n\n\tdestroy = () => {\n\t\ttry {\n\t\t\tthis.player.destroy();\n\t\t} catch (error) {}\n\t};\n\n\t// calculate fps:\n\t// https://www.growingwiththeweb.com/2017/12/fast-simple-js-fps-counter.html\n\tonVideoDecode = () => {\n\t\t// copy from internal canvas to external canvas:\n\t\t// this.context.drawImage(this.player.renderer.canvas, 0, 0, this.player.renderer.canvas.width, this.player.renderer.canvas.height);\n\n\t\t// calulate fps:\n\t\tlet now = performance.now();\n\t\twhile (this.times.length > 0 && this.times[0] <= now - 1000) {\n\t\t\tthis.times.shift();\n\t\t}\n\t\tthis.times.push(now);\n\n\t\tif (this.fps != this.times.length) {\n\t\t\tthis.fps = this.times.length;\n\n\t\t\t// this.context.font = \"25px sans-serif\";\n\t\t\t// this.context.lineWidth = 1;\n\t\t\t// this.context.clearRect(0, 0, 1000, 500);\n\n\t\t\t// this.context.fillStyle = \"#FFF\";\n\t\t\t// this.context.fillText(`FPS: ${this.fps}`, 5, 50);\n\t\t\t// // this.context.fillStyle = \"#000\";\n\t\t\t// // this.context.strokeText(`FPS: ${this.fps}`, 5, 50);\n\t\t}\n\t};\n\n\tstart = (videoCanvas, graphicsCanvas) => {\n\t\tthis.videoCanvas = videoCanvas || this.videoCanvas;\n\t\tthis.graphicsCanvas = graphicsCanvas || this.graphicsCanvas || null;\n\n\t\tlet onVideoDecodeRef = null;\n\t\tif (this.graphicsCanvas) {\n\t\t\t// if (!this.context) {\n\t\t\tthis.context = this.graphicsCanvas.getContext(\"2d\");\n\t\t\t// }\n\t\t\tonVideoDecodeRef = this.onVideoDecode;\n\t\t}\n\n\t\tthis.player = new Player({\n\t\t\tvideoConnection: this.options.videoConnection,\n\t\t\tcanvas: this.videoCanvas,\n\t\t\tvideoBufferSize: this.options.videoBufferSize,\n\t\t\taudioBufferSize: this.options.audioBufferSize,\n\t\t\tmaxAudioLag: this.options.maxAudioLag,\n\t\t\tonVideoDecode: onVideoDecodeRef,\n\t\t\taudio: !!this.options.audio,\n\t\t\tvideo: !!this.options.video,\n\t\t\tpath: this.options.path,\n\t\t});\n\t};\n\n\t// restart = (videoCanvas, graphicsCanvas) => {\n\t// \tif (!this.videoCanvas) {\n\t// \t\tthis.start(videoCanvas, graphicsCanvas);\n\t// \t\treturn;\n\t// \t}\n\t// \tthis.player.video.destination.canvas = videoCanvas;\n\t// \tthis.graphicsCanvas = graphicsCanvas;\n\t// \tthis.context = this.graphicsCanvas.getContext(\"2d\");\n\t// };\n\n\trestart = (videoCanvas, graphicsCanvas) => {\n\t\tif (!this.videoCanvas) {\n\t\t\tthis.start(videoCanvas, graphicsCanvas);\n\t\t\treturn;\n\t\t}\n\t\tthis.player.video.destination.canvas = videoCanvas;\n\t\tthis.graphicsCanvas = graphicsCanvas;\n\t\tthis.context = this.graphicsCanvas.getContext(\"2d\");\n\t};\n}\n","import SimplePeer from \"simple-peer\";\r\nimport socketio from \"socket.io-client\";\r\n\r\nexport default class Lagless4 {\r\n\tconstructor(options) {\r\n\t\tthis.options = options;\r\n\t\tthis.canvas = null;\r\n\t\tthis.player = null;\r\n\t\tthis.connected = false;\r\n\r\n\t\tthis.videoConnection = null;\r\n\t}\r\n\r\n\tstart = () => {\r\n\t\tthis.videoConnection = socketio(this.options.url, {\r\n\t\t\tpath: this.options.path,\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\r\n\t\tthis.peer = new SimplePeer({\r\n\t\t\tinitiator: false,\r\n\t\t\ttrickle: true,\r\n\t\t});\r\n\t\tthis.peer.on(\"error\", (error) => {\r\n\t\t\tconsole.log(\"error\", error);\r\n\t\t});\r\n\t\tthis.peer.on(\"signal\", (data) => {\r\n\t\t\tconsole.log(\"SIGNAL\", JSON.stringify(data));\r\n\t\t\tthis.videoConnection.emit(\"clientPeerSignal\", JSON.stringify(data));\r\n\t\t});\r\n\t\tthis.peer.on(\"connect\", () => {\r\n\t\t\tconsole.log(\"CONNECT\");\r\n\t\t\tthis.peer.send(Math.random());\r\n\t\t});\r\n\t\tthis.peer.on(\"data\", (data) => {\r\n\t\t\tconsole.log(\"data: \" + data);\r\n\t\t});\r\n\t\tthis.videoConnection.on(\"hostPeerSignal\", (data) => {\r\n\t\t\tthis.peer.signal(JSON.parse(data));\r\n\t\t});\r\n\t\tthis.peer.on(\"stream\", (stream) => {\r\n\t\t\t// if (canvas == null) {\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\t// got remote video stream, then show it in a video tag\r\n\t\t\ttry {\r\n\t\t\t\tthis.canvas.src = window.URL.createObjectURL(stream); // deprecated\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.canvas.srcObject = stream;\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\ttry {\r\n\t\t\tthis.canvas.pause();\r\n\t\t} catch (error) {}\r\n\t};\r\n\r\n\tpause = () => {\r\n\t\ttry {\r\n\t\t\tthis.canvas.pause();\r\n\t\t} catch (error) {}\r\n\t};\r\n\r\n\tresume = (canvas) => {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\tif (!this.connected) {\r\n\t\t\tthis.connected = true;\r\n\t\t\tthis.videoConnection.emit(\"requestVideo\");\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t};\r\n}\r\n","import { combineReducers } from \"redux\";\nimport { reducer as form } from \"redux-form\";\n\nimport stream from \"./stream/index.js\";\nimport streams from \"./streams/index.js\";\nimport settings from \"./settings.js\";\n\nimport client from \"shared/features/client.js\";\nimport alert from \"shared/features/alert.js\";\n\nconst rootReducer = combineReducers({\n\tstream,\n\tstreams,\n\tclient,\n\tsettings,\n\talert,\n\tform,\n});\n\nexport default rootReducer;\n","const settings = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"UPDATE_SETTINGS\":\r\n\t\t\tlet newSettings = { ...action.payload.settings };\r\n\t\t\t// remove null / undefined keys:\r\n\t\t\t// Object.keys(newSettings).forEach(key => !newSettings[key] && delete newSettings[key]);\r\n\t\t\tObject.keys(newSettings).forEach(key => newSettings[key] === undefined && delete newSettings[key]);\r\n\t\t\treturn { ...state, ...newSettings };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default settings;","const accountMap = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"RECEIVE_ACCOUNT_MAP\":\r\n\t\t\treturn action.payload.map;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default accountMap;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport chat from \"shared/features/chat.js\";\r\n// import players from \"./players.js\";\r\nimport players from \"src/features/players.js\";\r\n// import time from \"./time.js\";\r\nimport time from \"shared/features/time.js\";\r\nimport accountMap from \"./accountMap.js\";\r\nimport waitlist from \"./waitlist.js\";\r\nimport info from \"./info.js\";\r\n\r\nconst streamReducer = combineReducers({\r\n\tchat,\r\n\tplayers,\r\n\ttime,\r\n\taccountMap,\r\n\twaitlist,\r\n\tinfo,\r\n});\r\n\r\nexport default streamReducer;\r\n","const info = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"UPDATE_STREAM_INFO\":\r\n\t\t\treturn { ...state, ...action.payload.data };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default info;\r\n","const waitlist = (state = [], action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"UPDATE_WAITLIST\":\r\n\t\t\treturn action.payload.waitlist;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default waitlist;","import { combineReducers } from \"redux\";\r\n\r\nimport streamList from \"./streamList.js\";\r\n\r\n\r\nconst streamsReducer = combineReducers({\r\n\tstreamList,\r\n});\r\n\r\nexport default streamsReducer;\r\n","const streamList = (state = [], action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"RECEIVE_STREAMS\":\r\n\t\t\treturn data.payload.streams;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default streamList;\r\n","import { all } from \"redux-saga/effects\";\r\n\r\nimport handleClientActions from \"shared/sagas/client.js\";\r\n\r\n// combine sagas?:\r\n// handles any outgoing actions w/ access to socket.io:\r\nconst handleActions = function*(params) {\r\n\tlet list = [];\r\n\tlist = list.concat(handleClientActions(params));\r\n\r\n\t// yield to entire list:\r\n\tyield all(list);\r\n};\r\n\r\nexport default handleActions;\r\n","import { all } from \"redux-saga/effects\";\r\n\r\nimport handleChatActions from \"shared/sagas/chat.js\";\r\nimport handlePlayersActions from \"./players.js\";\r\nimport handleClientActions from \"shared/sagas/client.js\";\r\n\r\n// combine sagas?:\r\n// handles any outgoing actions w/ access to socket.io:\r\nconst handleActions = function*(params) {\r\n\tlet list = [];\r\n\tlist = list.concat(handleChatActions(params));\r\n\tlist = list.concat(handlePlayersActions(params));\r\n\tlist = list.concat(handleClientActions(params));\r\n\r\n\t// yield to entire list:\r\n\tyield all(list);\r\n};\r\n\r\nexport default handleActions;\r\n","import { takeEvery } from \"redux-saga/effects\";\r\nimport { joinLeavePlayerControlQueue } from \"src/features/players.js\";\r\n\r\nconst handlePlayersActions = (params) => {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(joinLeavePlayerControlQueue.type, (action) => {\r\n\t\t\tif (action.payload.joinLeave === \"join\") {\r\n\t\t\t\tparams.socket.emit(\"joinQueue\", action.payload.cNum);\r\n\t\t\t} else {\r\n\t\t\t\tparams.socket.emit(\"leaveQueue\", action.payload.cNum);\r\n\t\t\t}\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handlePlayersActions;\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Button, Checkbox, Link } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\tminHeight: \"220px\",\r\n\t\ttextAlign: \"center\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tflexWrap: \"wrap\",\r\n\t\t// flex: \"1\",\r\n\t\tpaddingLeft: \"25px\",\r\n\t\tpaddingRight: \"25px\",\r\n\t},\r\n\tconnectWithButton: {\r\n\t\tdisplay: \"flex\",\r\n\t},\r\n\ttwitchLogo: {\r\n\t\twidth: \"60px\",\r\n\t\tmarginLeft: \"10px\",\r\n\t\tmarginRight: \"10px\",\r\n\t},\r\n\tgoogleLogo: {\r\n\t\twidth: \"80px\",\r\n\t},\r\n\tyoutubeLogo: {\r\n\t\twidth: \"80px\",\r\n\t\tmarginLeft: \"10px\",\r\n\t},\r\n\tdiscordLogo: {\r\n\t\twidth: \"80px\",\r\n\t\tmarginLeft: \"4px\",\r\n\t},\r\n});\r\n\r\nclass ConnectAccounts extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tTOSAgreed: false,\r\n\t\t};\r\n\r\n\t\tthis.agreeTOS = this.agreeTOS.bind(this);\r\n\t}\r\n\r\n\tagreeTOS(event) {\r\n\t\tthis.setState({ TOSAgreed: event.target.checked });\r\n\t}\r\n\r\n\tconnectAccountOrLogin(type) {\r\n\t\tif (window.banned) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet url = window.location.origin + \"/8099/auth/\" + type + \"/\";\r\n\t\tif (this.props.authToken != null) {\r\n\t\t\turl += \"?authToken=\" + this.props.authToken;\r\n\t\t}\r\n\t\twindow.location.href = url;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, showTOS } = this.props;\r\n\r\n\t\tlet canDelete =\r\n\t\t\tthis.props.connectedAccounts.length > 1 || this.props.validUsernames.length > 1;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.root} elevation={0}>\r\n\t\t\t\t{showTOS && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Checkbox onChange={this.agreeTOS} />\r\n\t\t\t\t\t\t<span>I have read and agree to the </span>\r\n\t\t\t\t\t\t<Link href=\"/tos\">Terms and Conditions</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={classes.connectWithButton}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\tclassName={null}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.connectAccountOrLogin(\"twitch\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={!this.state.TOSAgreed && showTOS}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>Connect with</span>\r\n\t\t\t\t\t\t<img className={classes.twitchLogo} src=\"/images/Twitch_Purple_RGB.png\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{this.props.connectedAccounts.includes(\"twitch\") && canDelete && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.onRemoveAccount(\"twitch\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.connectWithButton}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\tclassName={null}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.connectAccountOrLogin(\"youtube\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={!this.state.TOSAgreed && showTOS}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>Connect with</span>\r\n\t\t\t\t\t\t<img className={classes.youtubeLogo} src=\"/images/yt_logo_rgb_light.png\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{this.props.connectedAccounts.includes(\"youtube\") && canDelete && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.onRemoveAccount(\"youtube\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.connectWithButton}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\tclassName={null}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.connectAccountOrLogin(\"google\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={!this.state.TOSAgreed && showTOS}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span id=\"connectWithGoogleText\">Connect with Google</span>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{this.props.connectedAccounts.includes(\"google\") && canDelete && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.onRemoveAccount(\"google\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.connectWithButton}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\tclassName={null}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.connectAccountOrLogin(\"discord\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={!this.state.TOSAgreed && showTOS}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>Connect with</span>\r\n\t\t\t\t\t\t<img className={classes.discordLogo} src=\"/images/discord_logo.png\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{this.props.connectedAccounts.includes(\"discord\") && canDelete && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.onRemoveAccount(\"discord\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauthToken: state.client.authToken,\r\n\t\tconnectedAccounts: state.client.connectedAccounts,\r\n\t\tvalidUsernames: state.client.validUsernames,\r\n\t};\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps))(ConnectAccounts);\r\n","// react:\nimport React from \"react\";\n\nimport { Paper, Button, Popover } from \"@material-ui/core\";\n\nconst PopoverMenu = (props) => (\n\t<Popover\n\t\topen={props.open}\n\t\tanchorEl={props.anchorEl}\n\t\tonClose={props.onClose}\n\t\tanchorOrigin={{\n\t\t\tvertical: \"bottom\",\n\t\t\thorizontal: \"center\",\n\t\t}}\n\t\ttransformOrigin={{\n\t\t\tvertical: \"top\",\n\t\t\thorizontal: \"center\",\n\t\t}}\n\t>\n\t\t<Paper elevation={4} style={{ padding: \"10px\" }}>\n\t\t\t<div>{props.userid}</div>\n\t\t\t{/* <Button variant=\"contained\" color=\"primary\">View Profile</Button> */}\n\t\t\t<Button variant=\"contained\" color=\"primary\">\n\t\t\t\tView Profile\n\t\t\t</Button>\n\t\t\t<Button variant=\"contained\" color=\"secondary\">\n\t\t\t\tBan\n\t\t\t</Button>\n\t\t\t<Button variant=\"contained\" color=\"primary\">\n\t\t\t\tKick from Queue\n\t\t\t</Button>\n\t\t</Paper>\n\t</Popover>\n);\n\nexport default PopoverMenu;\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// components:\r\nimport PopoverMenu from \"shared/components/account/PopoverMenu.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {},\r\n});\r\n\r\nclass Username extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tloaded: false,\r\n\t\t\tpopoverOpen: false,\r\n\t\t};\r\n\r\n\t\tthis.ref = React.createRef();\r\n\t}\r\n\r\n\thandleOpenPopover = () => {\r\n\t\tthis.setState({ popoverOpen: true });\r\n\t};\r\n\r\n\thandleClosePopover = () => {\r\n\t\tthis.setState({ popoverOpen: false });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ loaded: true });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={this.props.style}\r\n\t\t\t\t\tonClick={this.handleOpenPopover}\r\n\t\t\t\t\tref={(ref) => {\r\n\t\t\t\t\t\tthis.ref = ref;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.loaded && (\r\n\t\t\t\t\t<PopoverMenu\r\n\t\t\t\t\t\tuserid={this.props.userid}\r\n\t\t\t\t\t\topen={this.state.popoverOpen}\r\n\t\t\t\t\t\tonClose={this.handleClosePopover}\r\n\t\t\t\t\t\tanchorEl={this.ref}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps))(Username);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\n// import InputLabel from \"@material-ui/core/InputLabel\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\talignSelf: \"center\",\r\n\t\tbackground: \"transparent\",\r\n\t},\r\n});\r\n\r\nclass UsernameDropdown extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {}\r\n\r\n\tgetUsernameList() {\r\n\t\tlet usernames = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.validUsernames.length; i++) {\r\n\t\t\tusernames.push(\r\n\t\t\t\t<MenuItem key={i} value={i}>\r\n\t\t\t\t\t{this.props.validUsernames[i]}&nbsp;&nbsp;\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.props.validUsernames.length == 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNot signed in.\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn usernames;\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet usernameIndex = this.props.validUsernames.indexOf(this.props.username);\r\n\t\tif (usernameIndex == -1) {\r\n\t\t\tusernameIndex = 0;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Select\r\n\t\t\t\tvalue={usernameIndex}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\tinput={<OutlinedInput labelWidth={0} />}\r\n\t\t\t>\r\n\t\t\t\t{this.getUsernameList()}\r\n\t\t\t</Select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusername: state.client.username,\r\n\t\tvalidUsernames: state.client.validUsernames,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t// updateSettings: (settings) => {\r\n\t\t// \tdispatch(updateSettings(settings))\r\n\t\t// },\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(UsernameDropdown);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\nimport MessageList from \"./MessageList.jsx\";\r\nimport MemberList from \"./MemberList.jsx\";\r\nimport SendMessageForm from \"./SendMessageForm.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, Tabs, Tab } from \"@material-ui/core\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tgridArea: \"chat\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\t// flex: \"1\",\r\n\t\tpadding: \"5px\",\r\n\t\theight: \"300px\",\r\n\t\t// new:\r\n\t\tposition: \"relative\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\theight: \"unset\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {\r\n\t\t\t// position: \"\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// padding: \"5px\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\n// @withStyles(styles)\r\nclass Chat extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\ttab: 0,\r\n\t\t};\r\n\t}\r\n\r\n\thandleChangeTab = (event, value) => {\r\n\t\tthis.setState({ tab: value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.props.hide) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"chat\" className={classes.root}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={this.state.tab}\r\n\t\t\t\t\tonChange={this.handleChangeTab}\r\n\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label=\"Chat\" />\r\n\t\t\t\t\t<Tab label=\"Members\" />\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<div hidden={this.state.tab !== 0}>\r\n\t\t\t\t\t<MessageList />\r\n\t\t\t\t\t<SendMessageForm />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div hidden={this.state.tab !== 1}>\r\n\t\t\t\t\t<MemberList />\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Chat);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// components:\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\n// import CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Username from \"shared/components/account/Username.jsx\";\r\n\r\n// material ui:\r\n// import Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\nimport { sendMessage } from \"shared/features/chat.js\";\r\n\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\toverflowY: \"auto\",\r\n\t\t// marginBottom: \"15px\",\r\n\t\tboxShadow: \"none\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 64,\r\n\t\tleft: 0,\r\n\t\tbottom: 90,\r\n\t\tright: 0,\r\n\t},\r\n\tlistItem: {\r\n\t\tcursor: \"pointer\",\r\n\t\tuserSelect: \"none\",\r\n\t\twidth: \"100%\",\r\n\t},\r\n});\r\n\r\nclass MemberList extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.messagesEnd = null;\r\n\t\tthis.rootRef = React.createRef();\r\n\t\tthis.shouldScroll = false;\r\n\t}\r\n\r\n\thandleClick = (event) => {};\r\n\r\n\tgetMemberList = () => {\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet members = [];\r\n\t\tlet count = 0;\r\n\r\n\t\tfor (let key in this.props.accountMap) {\r\n\r\n\t\t\tif (!this.props.accountMap.hasOwnProperty(key)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcount++;\r\n\t\t\tlet account = this.props.accountMap[key];\r\n\t\r\n\t\t\tmembers.push(\r\n\t\t\t\t<Username key={key} style={{ width: \"100%\" }} userid={account.userid}>\r\n\t\t\t\t\t<ListItem button className={classes.listItem} userid={account.userid}>\r\n\t\t\t\t\t\t<ListItemText primary={account.username} />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t</Username>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (count === 0) {\r\n\t\t\tmembers.push(\r\n\t\t\t\t<MenuItem key={0} userid={null}>\r\n\t\t\t\t\t<Typography variant=\"inherit\" noWrap>\r\n\t\t\t\t\t\tLoading...\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn members;\r\n\t};\r\n\r\n\r\n\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t\t{this.getMemberList()}\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\taccountMap: state.stream.accountMap,\r\n\t\tisMod: state.client.roles.mod,\r\n\t\tisBanned: state.client.isBanned,\r\n\t\t// lastMessage: state.stream.chat.messages[state.stream.chat.messages.length - 1],\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (text) => {\r\n\t\t\tdispatch(sendMessage(text));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(MemberList);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\nimport Linkify from \"react-linkify\";\n\n// components:\nimport Badge from \"shared/components/icons/Badge.jsx\";\nimport Username from \"shared/components/account/Username.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\n\nconst styles = (props) => ({\n\troot: {\n\t\t// display: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\tbackgroundColor: props.isBanned ? \"#d34c4ca4\" : null,\n\t\twordBreak: \"break-word\",\n\t\tmargin: \"5px 5px\",\n\t\tpadding: \"5px 10px\",\n\t\tfontSize: \"14px !important\",\n\t\t// color: theme.palette.primary.contrastText,\n\t\tborderRadius: \"5px\",\n\t},\n\tlinks: {\n\t\t// todo: use primary / secondary based on which it should be:\n\t\t// color: theme.palette.primary.contrastText,\n\t\t// color: \"#1a0dab\",\n\t\t// color: \"#0000ee\",\n\t\tcolor: \"#5DA6FF\",\n\t},\n\tuser: {\n\t\tdisplay: \"inline-flex\",\n\t\tmargin: \"0px 2px\",\n\t\tpadding: \"2px 5px\",\n\t\tcursor: \"pointer\",\n\t},\n});\n\nfunction pad(t) {\n\tlet s = \"\" + t;\n\twhile (s.length < 2) {\n\t\ts = \"0\" + s;\n\t}\n\treturn s;\n}\n\nfunction getTimeStamp(t) {\n\tlet time = new Date(t);\n\tlet hours = time.getHours();\n\thours = hours > 12 ? hours - 12 : hours;\n\tlet s = hours + \":\" + pad(time.getMinutes()) + \" \";\n\treturn s;\n}\n\nfunction ping(text, time) {\n\t// new Noty({\n\t// \ttheme: \"mint\",\n\t// \ttype: \"warning\",\n\t// \ttext: text,\n\t// \ttimeout: time,\n\t// \tsounds: {\n\t// \t\tvolume: 0.5,\n\t// \t\tsources: [\"https://remotegames.io/sounds/ding.wav\"],\n\t// \t\tconditions: [\"docVisible\"],\n\t// \t},\n\t// }).show();\n}\n\nconst linkRenderer = (classes, string) => {\n\tconst linkExp = /^https?:\\/\\/[a-z0-9_./-]*$/i\n\treturn <>\n\t\t{\n\n\t\t\tstring.split(/(https?:\\/\\/[a-z0-9_./-]*)/gi).map((part, k) => {\n\t\t\t\tif (part.match(linkExp)) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={part}\n\t\t\t\t\t\t\tclassName={classes?.links}\n\t\t\t\t\t\t\tonFocus={(e) => e.stopPropagation()}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{part}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn part;\n\t\t\t})\n\t\t}\n\t</>\n}\n\n// const linkRenderer = (classes, string) => {\n//   const linkExp = /^https?:\\/\\/[a-z0-9_./-]*$/i;\n\n//   return (\n//     <>\n//       {string.split(linkExp).map((part, key) => {\n//         if (part.match(linkExp)) {\n//           return (\n//             <a\n//               href={part}\n//               className={classes?.links}\n//               onFocus={(e) => e.stopPropagation()}\n//               target=\"_blank\"\n//               rel=\"noreferrer\"\n//             >\n//               {part}\n//             </a>\n//           );\n//         }\n//         return part;\n//       })}\n//     </>\n//   );\n// };\n\n\n// class Message extends PureComponent {\nclass Message extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet {\n\t\t\tclasses,\n\t\t\ttext,\n\t\t\tusername,\n\t\t\tuserid,\n\t\t\ttime,\n\t\t\tisReplay,\n\t\t\tisLastMessage,\n\t\t\taccountMap,\n\t\t} = this.props;\n\n\t\tif (!isReplay && isLastMessage) {\n\t\t\tlet mention = \"@\" + this.props.myUsername;\n\t\t\tif (text.indexOf(mention) > -1) {\n\t\t\t\tping(\"You've been pinged!\", 500);\n\t\t\t}\n\t\t}\n\n\t\tlet isDev = false;\n\t\tif (\n\t\t\tusername == \"fosse\" ||\n\t\t\tusername == \"fosse5\" ||\n\t\t\tusername == \"remotegames\" ||\n\t\t\tusername == \"fossephate\" ||\n\t\t\tusername == \"fosse#0430\"\n\t\t) {\n\t\t\tisDev = true;\n\t\t}\n\n\t\tlet icons = [];\n\n\t\tlet account = accountMap[userid];\n\t\tif (account && account.roles) {\n\t\t\tif (isDev) {\n\t\t\t\ticons.push(<Badge type=\"dev\" />);\n\t\t\t} else if (account.roles.host) {\n\t\t\t\ticons.push(<Badge type=\"host\" />);\n\t\t\t} else if (account.roles.mod) {\n\t\t\t\ticons.push(<Badge type=\"mod\" />);\n\t\t\t} else if (account.roles.plus) {\n\t\t\t\ticons.push(<Badge type=\"plus\" />);\n\t\t\t}\n\t\t\tif (account.roles.sub) {\n\t\t\t\ticons.push(<Badge type=\"sub1\" />);\n\t\t\t}\n\n\t\t\tif (account.roles.mod && !isReplay && isLastMessage) {\n\t\t\t\tif (text.indexOf(\"@everyone\") > -1) {\n\t\t\t\t\tping(\"You've been pinged!\", 500);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ticons = React.Children.toArray(icons);\n\n\t\treturn (\n\t\t\t<div className={classes.root} userid={userid} onClick={this.props.onClick}>\n\t\t\t\t{/* <Linkify properties={{ className: classes.links }}> */}\n\t\t\t\t{getTimeStamp(time)}\n\t\t\t\t{icons}\n\t\t\t\t{icons.length == 0 ? \" \" : null}\n\t\t\t\t<Username userid={userid} style={{ display: \"inline\" }}>\n\t\t\t\t\t<Paper elevation={4} className={classes.user}>\n\t\t\t\t\t\t{username}\n\t\t\t\t\t</Paper>\n\t\t\t\t</Username>{\" \"}\n\t\t\t\t<span>{linkRenderer(classes, text)}</span>\n\t\t\t\t{/* </Linkify> */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\taccountMap: state.stream.accountMap,\n\t\tmyUsername: state.client.username,\n\t};\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(Message);\n","// react:\nimport React, { Component } from \"react\";\n\n// components:\nimport Message from \"./Message.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper, Snackbar, IconButton, Button } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// redux:\nimport { connect } from \"react-redux\";\nimport { sendMessage } from \"shared/features/chat.js\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// jss:\n\nconst styles = (theme) => ({\n\troot: {\n\t\toverflowY: \"auto\",\n\t\t// marginBottom: \"15px\",\n\t\tboxShadow: \"none\",\n\t\t\"& > div:nth-child(even)\": {\n\t\t\t// backgroundColor: \"#FF3C28A4\",\n\t\t\t// backgroundColor: theme.palette.type === \"dark\" ? theme.palette.primary.dark : theme.palette.primary.light,\n\t\t\tcolor: theme.palette.type === \"dark\" ? \"#FFF\" : \"#000\",\n\t\t\tbackgroundColor:\n\t\t\t\ttheme.palette.type === \"dark\"\n\t\t\t\t\t? theme.palette.primary.dark\n\t\t\t\t\t: theme.palette.primary.light,\n\t\t},\n\t\t\"& > div:nth-child(odd)\": {\n\t\t\t// backgroundColor: \"#0AB9E6A4\",\n\t\t\t// backgroundColor: \"#2d2d2dA4\",\n\t\t\t// backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.dark : theme.palette.secondary.light,\n\t\t\tcolor: theme.palette.type === \"dark\" ? \"#FFF\" : \"#000\",\n\t\t\tbackgroundColor:\n\t\t\t\ttheme.palette.type === \"dark\"\n\t\t\t\t\t? theme.palette.secondary.dark\n\t\t\t\t\t: theme.palette.secondary.light,\n\t\t},\n\t\tposition: \"absolute\",\n\t\ttop: 64,\n\t\tleft: 0,\n\t\tbottom: 90,\n\t\tright: 0,\n\t\t// height: \"82%\",\n\t},\n});\n\nclass MessageList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messagesEnd = null;\n\t\tthis.rootRef = React.createRef();\n\t\tthis.shouldScroll = false;\n\n\t\tthis.state = {\n\t\t\tvoting: false,\n\t\t};\n\t}\n\n\thandleClick = (event) => {};\n\n\tgetSnapshotBeforeUpdate(prevProps, prevState) {\n\t\tif (prevProps.messages.length < this.props.messages.length) {\n\t\t\tlet messageList = document.getElementById(\"messageList\");\n\t\t\tif (\n\t\t\t\tmessageList &&\n\t\t\t\tMath.abs(\n\t\t\t\t\tmessageList.scrollHeight - messageList.scrollTop - messageList.offsetHeight,\n\t\t\t\t) < 2\n\t\t\t) {\n\t\t\t\tthis.shouldScroll = true;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (this.shouldScroll) {\n\t\t\tlet messageList = document.getElementById(\"messageList\");\n\t\t\tmessageList.scrollTop = messageList.scrollHeight;\n\t\t}\n\t\tthis.shouldScroll = false;\n\t}\n\n\tmapMessages() {\n\t\tlet messages = [];\n\t\tfor (let i = 0; i < this.props.messages.length; i++) {\n\t\t\tlet isLastMessage = i == this.props.messages.length - 1;\n\n\t\t\tif (this.props.messages[i].isBanned) {\n\t\t\t\tif (!this.props.isBanned && !this.props.isMod) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmessages.push(\n\t\t\t\t<Message\n\t\t\t\t\tkey={i}\n\t\t\t\t\t{...this.props.messages[i]}\n\t\t\t\t\tisLastMessage={isLastMessage}\n\t\t\t\t\tonContextMenu={this.handleClick}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t\treturn messages;\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (!this.state.voting) {\n\t\t\tlet message = nextProps.messages[nextProps.messages.length - 1];\n\t\t\tif (\n\t\t\t\tmessage &&\n\t\t\t\tmessage.username == \"HostBot\" &&\n\t\t\t\t/A vote has been started to/.test(message.text) &&\n\t\t\t\t!message.isReplay\n\t\t\t) {\n\t\t\t\tthis.setState({ voting: true });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t}, 18000);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t\t// }\n\n\t\t// return false;\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\tid=\"messageList\"\n\t\t\t\tclassName={classes.root}\n\t\t\t\televation={4}\n\t\t\t\tref={(el) => {\n\t\t\t\t\tthis.rootRef = el;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.mapMessages()}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ float: \"left\", clear: \"both\" }}\n\t\t\t\t\tref={(el) => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t\t}}\n\t\t\t\t\topen={this.state.voting}\n\t\t\t\t\tautoHideDuration={0}\n\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\tmessage={<span id=\"message-id\">A vote has started to switch games!</span>}\n\t\t\t\t\taction={[\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"leave\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.sendMessage(\"yea\");\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLEAVE\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\t<div key=\"spacer\" style={{ width: \"15px\" }} />,\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"stay\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.sendMessage(\"nay\");\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSTAY\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>,\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmessages: state.stream.chat.messages,\n\t\taccountMap: state.stream.accountMap,\n\t\tisMod: state.client.roles.mod,\n\t\tisBanned: state.client.isBanned,\n\t\t// lastMessage: state.stream.chat.messages[state.stream.chat.messages.length - 1],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsendMessage: (text) => {\n\t\t\tdispatch(sendMessage(text));\n\t\t},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(MessageList);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Fab, TextField, Paper, ListItem, ListItemText } from \"@material-ui/core\";\r\n\r\n// icons:\r\nimport { Send as SendIcon } from \"@material-ui/icons\";\r\n\r\n// mentions / autocomplete:\r\nimport ReactTextareaAutocomplete from \"@webscopeio/react-textarea-autocomplete\";\r\nimport emoji from \"@jukben/emoji-search\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\nimport { sendMessage } from \"shared/features/chat.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport classNames from \"classnames\";\r\n\r\nconst Loading = ({ data }) => <div>Loading</div>;\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\talignItems: \"center\",\r\n\t\twidth: \"100%\",\r\n\t\tminHeight: \"60px\",\r\n\t\theight: \"12%\",\r\n\t\tpaddingLeft: \"5px\",\r\n\t\tpaddingRight: \"5px\",\r\n\t},\r\n\r\n\tmessageBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tresize: \"none\",\r\n\t\t// width: \"98%\",\r\n\t\tborderRadius: \"6px\",\r\n\r\n\t\t\"&:focus\": {\r\n\t\t\toutlineOffset: \"0px !important\",\r\n\t\t\toutline: \"none !important\",\r\n\t\t\tboxShadow: \"0 0 3px blue !important\",\r\n\t\t},\r\n\t},\r\n\r\n\tmessageBoxContainer: {\r\n\t\tzIndex: 1,\r\n\t\twidth: \"90%\",\r\n\t\t// height: \"70%\",\r\n\t\tfontSize: \"14px\",\r\n\t\tlineHeight: \"20px\",\r\n\t\t// fontSize: \"inherit !important\",\r\n\t\tmarginRight: \"10px\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\ttextField: {\r\n\t\tflex: \"1\",\r\n\t\toverflowY: \"auto\",\r\n\t\theight: \"32px\",\r\n\t\t// height: \"56px\",\r\n\t\t\"&::-webkit-scrollbar\": {\r\n\t\t\twidth: \"0 !important\",\r\n\t\t},\r\n\t\t\"& textarea\": {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t},\r\n\t},\r\n\r\n\tcontainer: {\r\n\t\t\"& .rta\": {\r\n\t\t\t// position: \"relative\",\r\n\t\t\t// fontSize: \"18px\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// height: \"100%\",\r\n\t\t},\r\n\t\t\"& .rta__loader.rta__loader--empty-suggestion-data\": {\r\n\t\t\tborderRadius: \"3px\",\r\n\t\t\tboxShadow: \"0 0 5px rgba(27, 31, 35, 0.1)\",\r\n\t\t\tpadding: \"5px\",\r\n\t\t},\r\n\t\t\"& .rta--loading .rta__loader.rta__loader--suggestion-data\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: \"0\",\r\n\t\t\tleft: \"0\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackground: \"rgba(255, 255, 255, 0.8)\",\r\n\t\t},\r\n\t\t\"& .rta--loading .rta__loader.rta__loader--suggestion-data > *\": {\r\n\t\t\tposition: \"relative\",\r\n\t\t\ttop: \"50%\",\r\n\t\t},\r\n\t\t// \"& .rta__textarea\": {\r\n\t\t// width: \"100%\",\r\n\t\t// height: \"100%\",\r\n\t\t// fontSize: \"1em\",\r\n\t\t// },\r\n\t\t\"& .rta__autocomplete\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tdisplay: \"block\",\r\n\t\t\tmarginTop: \"1em\",\r\n\t\t},\r\n\t\t\"& .rta__autocomplete--top\": {\r\n\t\t\t// marginTop: \"0\",\r\n\t\t\t// marginBottom: \"1em\",\r\n\t\t},\r\n\t\t\"& .rta__list\": {\r\n\t\t\tlistStyle: \"none\",\r\n\t\t\tmargin: \"0px\",\r\n\t\t\tpadding: \"0px\",\r\n\t\t\tposition: \"relative\",\r\n\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t\tboxShadow:\r\n\t\t\t\t\"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)\",\r\n\t\t},\r\n\t\t\"& .rta__entity\": {\r\n\t\t\t// background: \"white\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// textAlign: \"left\",\r\n\t\t\t// outline: \"none\",\r\n\t\t},\r\n\t\t\"& .rta__entity:hover\": {\r\n\t\t\tcursor: \"pointer\",\r\n\t\t},\r\n\t\t\"& .rta__item:not(:last-child)\": {\r\n\t\t\t// borderBottom: \"1px solid #dfe2e5\",\r\n\t\t},\r\n\t\t\"& .rta__entity > *\": {\r\n\t\t\t// paddingLeft: \"4px\",\r\n\t\t\t// paddingRight: \"4px\",\r\n\t\t},\r\n\t\t\"& .rta__entity--selected\": {\r\n\t\t\tbackgroundColor: theme.palette.action.selected,\r\n\t\t},\r\n\t},\r\n\r\n\tsuggestion: {},\r\n});\r\n\r\nclass SendMessageForm extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.rta = React.createRef();\r\n\r\n\t\tthis.state = {\r\n\t\t\ttext: \"\",\r\n\t\t\tcommands: [\r\n\t\t\t\t\"help\",\r\n\t\t\t\t// \"discord\",\r\n\t\t\t\t\"games\",\r\n\t\t\t\t\"goto\",\r\n\t\t\t\t// \"source\",\r\n\t\t\t\t// \"fc\",\r\n\t\t\t\t// \"fixcontrollers\",\r\n\t\t\t\t\"lock\",\r\n\t\t\t\t\"unlock\",\r\n\t\t\t\t\"pluslock\",\r\n\t\t\t\t\"unpluslock\",\r\n\t\t\t\t// \"forcegoto\",\r\n\t\t\t\t\"setturnlength\",\r\n\t\t\t\t\"setforfeitlength\",\r\n\t\t\t\t// \"sublist\",\r\n\t\t\t\t// \"modlist\",\r\n\t\t\t\t// \"pluslist\",\r\n\t\t\t\t// \"banlist\",\r\n\t\t\t\t\"ban\",\r\n\t\t\t\t\"unban\",\r\n\t\t\t],\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.rta.textareaRef.setAttribute(\"autocomplete\", \"off\");\r\n\t}\r\n\r\n\thandleKeyPress = (event) => {\r\n\t\tif (event.key === \"Enter\") {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.sendMessage();\r\n\t\t}\r\n\t};\r\n\thandleTextChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\ttext: event.target.value,\r\n\t\t});\r\n\t};\r\n\tsendMessage = () => {\r\n\t\tif (this.state.text !== \"\") {\r\n\t\t\tthis.props.sendMessage({ text: this.state.text });\r\n\t\t\tthis.setState({ text: \"\" });\r\n\t\t\tthis.rta.setState({ value: \"\" });\r\n\t\t}\r\n\t};\r\n\tgetEmojiSuggestions = (token) => {\r\n\t\tif (token.length < 1) {\r\n\t\t\treturn [];\r\n\t\t} else {\r\n\t\t\treturn emoji(token)\r\n\t\t\t\t.slice(0, 5)\r\n\t\t\t\t.map(({ name, char }) => ({ name, char }));\r\n\t\t}\r\n\t};\r\n\r\n\tgetUsernameSuggestions = (token) => {\r\n\t\tlet suggestions = [];\r\n\t\tfor (let userid in this.props.accountMap) {\r\n\t\t\tlet username = this.props.accountMap[userid].username;\r\n\t\t\tif (username == null || username.toLowerCase().indexOf(token) == -1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (token.indexOf(username) > -1) {\r\n\t\t\t\tsuggestions = [];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tsuggestions.push({ name: username, char: `@${username}` });\r\n\t\t}\r\n\t\treturn suggestions.slice(0, 5);\r\n\t};\r\n\r\n\tgetCommandSuggestions = (token) => {\r\n\t\tlet suggestions = [];\r\n\t\tif (token.length < 1) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tfor (let i = 0; i < this.state.commands.length; i++) {\r\n\t\t\tlet command = this.state.commands[i];\r\n\t\t\tif (command.indexOf(token) == -1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (token.indexOf(command) > -1) {\r\n\t\t\t\tsuggestions = [];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tsuggestions.push({ name: command, char: \"!\" + command });\r\n\t\t}\r\n\t\treturn suggestions.slice(0, 5);\r\n\t};\r\n\r\n\trenderNameSuggestion = (obj) => {\r\n\t\treturn (\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemText>{obj.entity.name}</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t};\r\n\r\n\trenderCharSuggestion = (obj) => {\r\n\t\treturn (\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemText>{obj.entity.char}</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper\r\n\t\t\t\tid=\"SendMessageForm\"\r\n\t\t\t\tclassName={classNames(classes.root, classes.container)}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t<ReactTextareaAutocomplete\r\n\t\t\t\t\tid=\"messageBoxOld\"\r\n\t\t\t\t\tclassName={classes.messageBox}\r\n\t\t\t\t\tcontainerClassName={classes.messageBoxContainer}\r\n\t\t\t\t\tloadingComponent={Loading}\r\n\t\t\t\t\tref={(rta) => {\r\n\t\t\t\t\t\tthis.rta = rta;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttextAreaComponent={{ component: TextField, ref: \"inputRef\" }}\r\n\t\t\t\t\tminChar={0}\r\n\t\t\t\t\ttrigger={{\r\n\t\t\t\t\t\t\":\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getEmojiSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderCharSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"next\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"@\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getUsernameSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderNameSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"next\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"!\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getCommandSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderNameSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"end\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={this.handleTextChange}\r\n\t\t\t\t\tonKeyPress={this.handleKeyPress}\r\n\t\t\t\t\tvalue={this.state.text}\r\n\t\t\t\t\tplaceholder=\"Send a message\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Fab color=\"primary\" size=\"small\" onClick={this.sendMessage}>\r\n\t\t\t\t\t<SendIcon fontSize=\"small\" />\r\n\t\t\t\t</Fab>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\taccountMap: state.stream.accountMap,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (text) => {\r\n\t\t\tdispatch(sendMessage(text));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SendMessageForm);\r\n","// react:\r\nimport React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\nconst validate = (values) => {\r\n\tconst errors = {};\r\n\tconst requiredFields = [\"username\", \"password1\", \"password2\", \"email\"];\r\n\trequiredFields.forEach((field) => {\r\n\t\tif (!values[field]) {\r\n\t\t\terrors[field] = \"Required\";\r\n\t\t}\r\n\t});\r\n\tif (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n\t\terrors.email = \"Invalid email address\";\r\n\t}\r\n\treturn errors;\r\n};\r\n\r\nconst sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nconst renderTextField = ({\r\n\tlabel,\r\n\tinput,\r\n\tmeta: { touched, invalid, error },\r\n\t...custom\r\n}) => (\r\n\t<TextField\r\n\t\tlabel={label}\r\n\t\tplaceholder={label}\r\n\t\terror={touched && invalid}\r\n\t\thelperText={touched && error}\r\n\t\t{...input}\r\n\t\t{...custom}\r\n\t/>\r\n);\r\n\r\nconst renderCheckbox = ({ input, label }) => (\r\n\t<div>\r\n\t\t<FormControlLabel\r\n\t\t\tcontrol={\r\n\t\t\t\t<Checkbox checked={input.value ? true : false} onChange={input.onChange} />\r\n\t\t\t}\r\n\t\t\tlabel={label}\r\n\t\t/>\r\n\t</div>\r\n);\r\n\r\nconst renderFromHelper = ({ touched, error }) => {\r\n\tif (!(touched && error)) {\r\n\t\treturn;\r\n\t} else {\r\n\t\treturn <FormHelperText>{touched && error}</FormHelperText>;\r\n\t}\r\n};\r\n\r\nconst renderSelectField = ({\r\n\tinput,\r\n\tlabel,\r\n\tmeta: { touched, error },\r\n\tchildren,\r\n\t...custom\r\n}) => (\r\n\t<FormControl error={touched && error}>\r\n\t\t<InputLabel htmlFor=\"age-native-simple\">Age</InputLabel>\r\n\t\t<Select\r\n\t\t\tnative\r\n\t\t\t{...input}\r\n\t\t\t{...custom}\r\n\t\t\tinputProps={{\r\n\t\t\t\tname: \"age\",\r\n\t\t\t\tid: \"age-native-simple\",\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Select>\r\n\t\t{renderFromHelper({ touched, error })}\r\n\t</FormControl>\r\n);\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\tbuttons: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// position: \"relative\",\r\n\t\t// marginLeft: \"5px\",\r\n\t\t// marginRight: \"5px\",\r\n\t\t// textAlign: \"center\",\r\n\t},\r\n\tfield: {\r\n\t\tmargin: \"20px 0px\",\r\n\t},\r\n});\r\n\r\nconst LoginForm = (props) => {\r\n\tconst { handleSubmit, pristine, reset, submitting, classes } = props;\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div className={classes.field}>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname=\"user\"\r\n\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\tlabel=\"Username or Email\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.field}>\r\n\t\t\t\t<Field\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={classes.buttons}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tdisabled={pristine || submitting}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\treduxForm({\r\n\t\tform: \"RegisterForm\", // a unique identifier for this form\r\n\t\tvalidate,\r\n\t}),\r\n)(LoginForm);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tTextField,\r\n\tCheckbox,\r\n\tInputLabel,\r\n\tFormControlLabel,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tLink,\r\n\tSelect,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tButton,\r\n} from \"@material-ui/core\";\r\n\r\n// captcha:\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\nconst validate = (values) => {\r\n\tconst errors = {};\r\n\tconst requiredFields = [\"username\", \"password1\", \"password2\", \"email\"];\r\n\trequiredFields.forEach((field) => {\r\n\t\tif (!values[field]) {\r\n\t\t\terrors[field] = \"Required\";\r\n\t\t}\r\n\t});\r\n\tif (values.email && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n\t\terrors.email = \"Invalid email address\";\r\n\t}\r\n\treturn errors;\r\n};\r\n\r\nconst renderTextField = ({\r\n\tlabel,\r\n\tinput,\r\n\tmeta: { touched, invalid, error },\r\n\t...custom\r\n}) => (\r\n\t<TextField\r\n\t\tlabel={label}\r\n\t\tplaceholder={label}\r\n\t\terror={touched && invalid}\r\n\t\thelperText={touched && error}\r\n\t\t{...input}\r\n\t\t{...custom}\r\n\t/>\r\n);\r\n\r\nconst renderCheckbox = ({ input, label }) => (\r\n\t<div>\r\n\t\t<FormControlLabel\r\n\t\t\tcontrol={\r\n\t\t\t\t<Checkbox checked={input.value ? true : false} onChange={input.onChange} />\r\n\t\t\t}\r\n\t\t\tlabel={label}\r\n\t\t/>\r\n\t</div>\r\n);\r\n\r\nconst renderTOS = ({ input }) => (\r\n\t<div>\r\n\t\t<Checkbox checked={input.value ? true : false} onChange={input.onChange} />\r\n\t\t<span>I have read and agree to the </span>\r\n\t\t<Link href=\"/tos.html\">Terms and Conditions</Link>\r\n\t</div>\r\n);\r\n\r\nconst radioButton = ({ input, ...rest }) => (\r\n\t<FormControl>\r\n\t\t<RadioGroup {...input} {...rest}>\r\n\t\t\t<FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\r\n\t\t\t<FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\r\n\t\t</RadioGroup>\r\n\t</FormControl>\r\n);\r\n\r\nconst renderFromHelper = ({ touched, error }) => {\r\n\tif (!(touched && error)) {\r\n\t\treturn;\r\n\t} else {\r\n\t\treturn <FormHelperText>{touched && error}</FormHelperText>;\r\n\t}\r\n};\r\n\r\nconst renderSelectField = ({\r\n\tinput,\r\n\tlabel,\r\n\tmeta: { touched, error },\r\n\tchildren,\r\n\t...custom\r\n}) => (\r\n\t<FormControl error={touched && error}>\r\n\t\t<InputLabel htmlFor=\"age-native-simple\">Age</InputLabel>\r\n\t\t<Select\r\n\t\t\tnative\r\n\t\t\t{...input}\r\n\t\t\t{...custom}\r\n\t\t\tinputProps={{\r\n\t\t\t\tname: \"age\",\r\n\t\t\t\tid: \"age-native-simple\",\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Select>\r\n\t\t{renderFromHelper({ touched, error })}\r\n\t</FormControl>\r\n);\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\tbuttons: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// position: \"relative\",\r\n\t\t// marginLeft: \"5px\",\r\n\t\t// marginRight: \"5px\",\r\n\t\t// textAlign: \"center\",\r\n\t},\r\n\tfield: {\r\n\t\tmargin: \"20px 0px\",\r\n\t},\r\n});\r\n\r\nclass RegisterForm extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcaptchaCompleted: false,\r\n\t\t\tTOSAgreed: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcompleteCaptcha = () => {\r\n\t\tthis.setState({\r\n\t\t\tcaptchaCompleted: true,\r\n\t\t});\r\n\t};\r\n\r\n\tagreeTOS = (event) => {\r\n\t\tthis.setState({ TOSAgreed: event.target.checked });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { handleSubmit, pristine, reset, submitting, classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className={classes.field}>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.field}>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.field}>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"password1\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.field}>\r\n\t\t\t\t\t<Field\r\n\t\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\t\tcomponent={renderTextField}\r\n\t\t\t\t\t\tlabel=\"Confirm Password\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\r\n\t\t\t\t\t<Field name=\"agree\" component={renderTOS} onChange={this.agreeTOS} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{!this.props.local && (\r\n\t\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"center\", padding: \"10px\" }}>\r\n\t\t\t\t\t\t<ReCAPTCHA\r\n\t\t\t\t\t\t\tsitekey=\"6LeOU6UUAAAAABSPwdKHf-3ttPz9Ql4AgVTWobXI\"\r\n\t\t\t\t\t\t\ttheme=\"dark\"\r\n\t\t\t\t\t\t\tsize=\"normal\"\r\n\t\t\t\t\t\t\tonChange={this.completeCaptcha}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={classes.buttons}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tpristine ||\r\n\t\t\t\t\t\t\tsubmitting ||\r\n\t\t\t\t\t\t\t(!this.state.captchaCompleted && !this.props.local) ||\r\n\t\t\t\t\t\t\t!this.state.TOSAgreed\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate Account\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\treduxForm({\r\n\t\tform: \"RegisterForm\", // a unique identifier for this form\r\n\t\tvalidate,\r\n\t}),\r\n)(RegisterForm);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\t// height: \"100vh\",\r\n\t\ttextAlign: \"center\",\r\n\t\tlineHeight: \"100vh\",\r\n\t\tfontSize: \"32px\",\r\n\t\twidth: \"100%\",\r\n\t\tposition: \"absolute\",\r\n\t\tleft: 0,\r\n\t\ttop: 0,\r\n\t},\r\n});\r\n\r\nclass Loading extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn <div className={classes.root}>Loading...</div>;\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Loading);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from \"@material-ui/core\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// redux:\nimport { connect } from \"react-redux\";\nimport { closeAlert } from \"shared/features/alert.js\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {},\n});\n\nclass MyAlert extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\thandleClose = () => {\n\t\tthis.props.closeAlert();\n\t};\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\tconst { open, title, content, maxWidth, fullWidth } = this.props.alert;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tmaxWidth={maxWidth}\n\t\t\t\t>\n\t\t\t\t\t{/* {this.props.title !== null && <DialogTitle>{this.props.title}</DialogTitle>} */}\n\t\t\t\t\t<DialogTitle>{title}</DialogTitle>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t{/* {this.props.content !== null && (\n\t\t\t\t\t\t\t<DialogContentText>{this.props.content}</DialogContentText>\n\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t<DialogContentText>{content}</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\" autoFocus>\n\t\t\t\t\t\t\tOK\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\talert: state.alert,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tcloseAlert: (data) => {\n\t\t\tdispatch(closeAlert(data));\n\t\t},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(MyAlert);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// main components:\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// components:\r\nimport { AppBar, Menu, Toolbar, IconButton } from \"@material-ui/core\";\r\n// icons:\r\nimport { MoreVert as MoreIcon } from \"@material-ui/icons\";\r\n\r\n// libs:\r\nimport classNames from \"classnames\";\r\n\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tzIndex: 1300,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"48px\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\theight: \"64px\",\r\n\t\t},\r\n\t},\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\ttitle: {\r\n\t\tdisplay: \"none\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tdisplay: \"block\",\r\n\t\t},\r\n\t\tcursor: \"pointer\",\r\n\t},\r\n\tsectionDesktop: {\r\n\t\tdisplay: \"none\",\r\n\t\talignItems: \"center\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t},\r\n\t},\r\n\tsectionMobile: {\r\n\t\tdisplay: \"flex\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tdisplay: \"none\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass MyAppBar extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmobileMoreAnchorEl: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t\tthis.handleMobileMenuClose();\r\n\t};\r\n\r\n\thandleMobileMenuOpen = (event) => {\r\n\t\tthis.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n\t};\r\n\r\n\thandleMobileMenuClose = () => {\r\n\t\tthis.setState({ mobileMoreAnchorEl: null });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering appbar.\");\r\n\r\n\t\tconst { mobileMoreAnchorEl } = this.state;\r\n\t\tconst { classes } = this.props;\r\n\t\tconst isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n\t\tconst renderMobileMenu = (\r\n\t\t\t<Menu\r\n\t\t\t\tanchorEl={mobileMoreAnchorEl}\r\n\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n\t\t\t\topen={isMobileMenuOpen}\r\n\t\t\t\tonClose={this.handleMenuClose}\r\n\t\t\t>\r\n\t\t\t\t{this.props.mobileMenu}\r\n\t\t\t</Menu>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classNames(classes.root, this.props.rootClasses)}>\r\n\t\t\t\t<AppBar position=\"fixed\">\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{/* <IconButton\r\n\t\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\taria-label=\"Open drawer\"\r\n\t\t\t\t\t\t\tonClick={this.props.handleToggleDrawer}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStreams\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<div className={classes.search}>\r\n\t\t\t\t\t\t\t<div className={classes.searchIcon}>\r\n\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search…\"\r\n\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t\t\t\t\t\tinput: classes.inputInput,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t */}\r\n\r\n\t\t\t\t\t\t{this.props.main}\r\n\r\n\t\t\t\t\t\t<div className={classes.grow} />\r\n\r\n\t\t\t\t\t\t<div className={classes.sectionDesktop}>{this.props.desktop}</div>\r\n\t\t\t\t\t\t<div className={classes.sectionMobile}>\r\n\t\t\t\t\t\t\t{this.props.mobile}\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleMobileMenuOpen}\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MoreIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t{renderMobileMenu}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(MyAppBar);\r\n","import React, { PureComponent } from \"react\";\r\n\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nexport default class MyCheckbox extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t// <label className=\"checkbox-inline checkbox-bootstrap checkbox-lg\">\r\n\t\t\t// \t<input onChange={(event) => {this.props.handleChange(event.target.checked)}} type=\"checkbox\" checked={this.props.checked}/>\r\n\t\t\t// \t<span className=\"checkbox-placeholder\"></span>\r\n\t\t\t// \t{this.props.text}\r\n\t\t\t// </label>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tcontrol={\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tthis.props.handleChange(event.target.checked);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.props.checked || false}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tlabel={this.props.text}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Slider } from \"@material-ui/core\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\tslider: {\r\n\t\twidth: \"70%\",\r\n\t},\r\n});\r\n\r\nclass MySlider extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleLocalChange = this.handleLocalChange.bind(this);\r\n\t\tthis.bounce = this.bounce.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvalue: 0,\r\n\t\t};\r\n\r\n\t\tthis.active = false;\r\n\t\tthis.bounceTimer = null;\r\n\t\tthis.countDown = 0;\r\n\t\tthis.countUp = 0;\r\n\t}\r\n\r\n\tbounce() {\r\n\t\tthis.countDown -= 100;\r\n\t\tthis.countUp += 50;\r\n\t\tif (this.countUp >= 100) {\r\n\t\t\tthis.countUp = 0;\r\n\t\t\tthis.props.handleChange(this.state.value);\r\n\t\t}\r\n\t\tif (this.countDown <= 0) {\r\n\t\t\tthis.active = false;\r\n\t\t\tthis.countDown = 0;\r\n\t\t\tclearInterval(this.bounceTimer);\r\n\t\t\tif (typeof this.props.handleAfterChange != \"undefined\") {\r\n\t\t\t\tthis.props.handleAfterChange(this.state.value);\r\n\t\t\t\t// trigger a re-render after the handleAfterChange:\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ value: Math.random() });\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleLocalChange(event, value) {\r\n\t\tthis.setState({ value: value });\r\n\r\n\t\tif (typeof this.props.handleChange != \"undefined\") {\r\n\t\t\tthis.countDown = 1000;\r\n\t\t\tif (!this.active) {\r\n\t\t\t\tthis.active = true;\r\n\t\t\t\tthis.props.handleChange(value);\r\n\t\t\t\tthis.bounceTimer = setInterval(this.bounce, this.props.bounceInterval || 100);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<Slider\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: this.props.rootClass || classes.slider,\r\n\t\t\t\t\tthumb: this.props.thumbClass,\r\n\t\t\t\t\tactive: this.props.activeClass,\r\n\t\t\t\t\trail: this.props.railClass,\r\n\t\t\t\t\ttrack: this.props.trackClass,\r\n\t\t\t\t}}\r\n\t\t\t\tmin={this.props.min}\r\n\t\t\t\tmax={this.props.max}\r\n\t\t\t\tstep={this.props.step}\r\n\t\t\t\tonChange={this.handleLocalChange}\r\n\t\t\t\tvalue={(this.active ? this.state.value : this.props.value) || 0}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(MySlider);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {},\r\n});\r\n\r\nconst options = [\"Light\", \"Dark\", \"Spooky\"];\r\nconst options2 = [\"light\", \"dark\", \"spooky\"];\r\n\r\nclass ThemeSelector extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleMenuItemClick = this.handleMenuItemClick.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null,\r\n\t\t\t// selectedIndex: 1,\r\n\t\t};\r\n\t}\r\n\r\n\thandleClick(event) {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuItemClick(event, index) {\r\n\t\t// this.setState({ selectedIndex: index, anchorEl: null });\r\n\t\tthis.setState({ anchorEl: null });\r\n\t\tthis.props.switchTheme(options2[index]);\r\n\t}\r\n\r\n\thandleClose() {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconst open = Boolean(this.state.anchorEl);\r\n\r\n\t\tlet themeIndex = options2.indexOf(this.props.theme);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.handleClick}>\r\n\t\t\t\t\tSelect Theme\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tid=\"themeSelector\"\r\n\t\t\t\t\tanchorEl={this.state.anchorEl}\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\t// TransitionComponent={Fade}\r\n\t\t\t\t\tPaperProps={{\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmaxHeight: 48 * 4.5,\r\n\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{options.map((option, index) => (\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tkey={option}\r\n\t\t\t\t\t\t\tdisabled={index === themeIndex}\r\n\t\t\t\t\t\t\tselected={index === themeIndex}\r\n\t\t\t\t\t\t\tonClick={(event) => this.handleMenuItemClick(event, index)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Menu>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttheme: state.settings.theme,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tswitchTheme: (index) => {\r\n\t\t\tdispatch(updateSettings({ theme: index }));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(ThemeSelector);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { Paper } from \"@material-ui/core\";\r\nimport VolumeDown from \"@material-ui/icons/VolumeDown\";\r\nimport VolumeUp from \"@material-ui/icons/VolumeUp\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport MySlider from \"shared/components/general/MySlider.jsx\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\twidth: \"30%\",\r\n\t\tminWidth: \"125px\",\r\n\t\t// borderRadius: \"10px\",\r\n\t\talignItems: \"center\",\r\n\t\tpaddingLeft: \"6px\",\r\n\t\tpaddingRight: \"6px\",\r\n\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\t// backgroundColor: theme.palette.primary.dark,\r\n\t},\r\n\tsvg: {\r\n\t\t// color: \"#333\",\r\n\t\tcolor: theme.palette.primary.contrastText,\r\n\t\talignSelf: \"center\",\r\n\t\t// border: \"1.2px solid #333\",\r\n\t\t// borderRadius: \"4px\",\r\n\t\t// padding: \"1px\",\r\n\t\tcursor: \"pointer\",\r\n\t},\r\n\trootClass: {\r\n\t\twidth: \"70%\",\r\n\t\t// track:\r\n\t\t// \"& :nth-child(1)\": {\r\n\t\t// \tbackgroundColor: \"#FFF\",\r\n\t\t// },\r\n\t\t// // first part of track:\r\n\t\t// \"& :nth-child(2)\": {\r\n\t\t// \tbackgroundColor: \"#FFF\",\r\n\t\t// },\r\n\t\t// thumb icon:\r\n\t\t// \"& :nth-child(4)\": {\r\n\t\t// \t\"& :first-child\": {\r\n\t\t// \t},\r\n\t\t// \tbackgroundColor: \"#FFF\",\r\n\t\t// \t\"&:hover\": {\r\n\t\t// \t\tboxShadow: \"0px 0px 0px 9px rgba(255, 255, 255, 0.16)\",\r\n\t\t// \t},\r\n\t\t// \t\"&:active\": {\r\n\t\t// \t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16)\",\r\n\t\t// \t},\r\n\t\t// },\r\n\t},\r\n\trail: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\ttrack: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\tthumb: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\t\"&:hover\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 9px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t\t\"&:active\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\t\"span&\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16) !important\",\r\n\t\t},\r\n\t\t// boxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16) !important\",\r\n\t},\r\n});\r\n\r\nclass VolumeSlider extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<Paper className={classes.root} elevation={3}>\r\n\t\t\t\t<VolumeDown className={classes.svg} onClick={this.props.onMute} />\r\n\t\t\t\t<MySlider\r\n\t\t\t\t\trootClass={classes.rootClass}\r\n\t\t\t\t\tthumbClass={classes.thumb}\r\n\t\t\t\t\tactiveClass={classes.active}\r\n\t\t\t\t\trailClass={classes.rail}\r\n\t\t\t\t\ttrackClass={classes.track}\r\n\t\t\t\t\tmin={0}\r\n\t\t\t\t\tmax={100}\r\n\t\t\t\t\tstep={1}\r\n\t\t\t\t\thandleChange={this.props.handleChange}\r\n\t\t\t\t\tvalue={this.props.value}\r\n\t\t\t\t\tbounceInterval={100}\r\n\t\t\t\t\tdelay={500}\r\n\t\t\t\t/>\r\n\t\t\t\t<VolumeUp className={classes.svg} onClick={this.props.onMax} />\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(VolumeSlider);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"22px\",\r\n\t\tmarginLeft: \"2px\",\r\n\t\tmarginRight: \"2px\",\r\n\t\tbackgroundColor: \"#b7b7b7\",\r\n\t\tborder: \"1px solid #333\",\r\n\t\tborderRadius: \"6px\",\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n});\r\n\r\nclass Badge extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet src = window.location.origin + \"/images/badges/\";\r\n\t\tlet text;\r\n\r\n\t\tswitch (this.props.type) {\r\n\t\t\tcase \"dev\":\r\n\t\t\t\tsrc += \"DevBadge.png\";\r\n\t\t\t\ttext = \"The Developer\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"host\":\r\n\t\t\t\tsrc += \"AdminBadge.png\";\r\n\t\t\t\ttext = \"Host\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mod\":\r\n\t\t\t\tsrc += \"ModBadge.png\";\r\n\t\t\t\ttext = \"Moderator\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"plus\":\r\n\t\t\t\tsrc += \"PlusBadge.png\";\r\n\t\t\t\ttext = \"This user can use Plus\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"sub1\":\r\n\t\t\t\tsrc += \"SubBadge1.png\";\r\n\t\t\t\ttext = \"Subscriber for 1 month(+)\";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Tooltip title={text} placement=\"top\">\r\n\t\t\t\t<img className={classes.root} src={src} />\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withStyles(styles))(Badge);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// components:\r\nimport ConnectAccounts from \"shared/components/account/ConnectAccounts.jsx\";\r\nimport UsernameDropdown from \"shared/components/account/UsernameDropdown.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tPaper,\r\n\tButton,\r\n\tListItemText,\r\n\tDialog,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { openAlert } from \"shared/features/alert.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device, deleteAllCookies } from \"shared/libs/utils.js\";\r\nimport localforage from \"localforage\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tpadding: \"0px 0px 25px 0px !important\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tflexDirection: \"column\",\r\n\t\t},\r\n\t},\r\n\tcenter: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\ttransform: \"translate(-50%, -50%)\",\r\n\t},\r\n\tlist: {\r\n\t\tmaxHeight: \"400px\",\r\n\t\toverflowY: \"auto\",\r\n\t},\r\n\tlogout: {\r\n\t\twidth: \"30%\",\r\n\t},\r\n\tmain: {\r\n\t\twidth: \"80%\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\ttopBar: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tmargin: \"20px 25px 10px\",\r\n\t\tpadding: \"5px\",\r\n\t\tlineHeight: \"60px\",\r\n\t},\r\n});\r\n\r\nclass AccountModal extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.accountConnection = this.props.accountConnection;\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t};\r\n\r\n\thandleLogout = () => {\r\n\t\tif (this.props.local) {\r\n\t\t\tthis.props.history.push(\"/login\");\r\n\t\t\tlocalforage.clear().then(() => {\r\n\t\t\t\tlocation.reload(true);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdeleteAllCookies();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlocation.reload(true);\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\thandleRemoveAccount = (type) => {\r\n\t\tthis.accountConnection.emit(\r\n\t\t\t\"removeConnectedAccount\",\r\n\t\t\t{ authToken: this.props.authToken, type: type },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (!data.success) {\r\n\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.openAlert({ title: \"success\"});\r\n\t\t\t\t}\r\n\t\t\t\tlocation.reload(true);\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\tgetTime(t) {\r\n\t\tif (t < 60) {\r\n\t\t\treturn t.toFixed(1) + \" seconds.\";\r\n\t\t} else if (t < 60 * 60) {\r\n\t\t\treturn (t / 60).toFixed(1) + \" minutes\";\r\n\t\t} else {\r\n\t\t\treturn (t / 60 / 60).toFixed(1) + \" hours\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tAccount\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Paper className={classes.topBar} elevation={2}>\r\n\t\t\t\t\t\t<UsernameDropdown />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName={classes.logout}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={this.handleLogout}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<ConnectAccounts onRemoveAccount={this.handleRemoveAccount} showTOS={false} />\r\n\t\t\t\t\t<ListItemText style={{ margin: \"0 auto\" }}>\r\n\t\t\t\t\t\tYou've played for {this.getTime(this.props.timePlayed)}\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttimePlayed: state.client.timePlayed,\r\n\t\temailVerified: state.client.emailVerified,\r\n\t\tauthToken: state.client.authToken,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\topenAlert: (data) => {\r\n\t\t\tdispatch(openAlert(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(AccountModal);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, withRouter } from \"react-router\";\r\n\r\n// components:\r\nimport ConnectAccounts from \"shared/components/account/ConnectAccounts.jsx\";\r\nimport LoginForm from \"shared/components/forms/LoginForm.jsx\";\r\nimport RegisterForm from \"shared/components/forms/RegisterForm.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tTabs,\r\n\tTab,\r\n\tListItemText,\r\n\tDialog,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\nimport { login, register, updateClient, authenticate } from \"shared/features/client.js\";\r\nimport { openAlert } from \"shared/features/alert.js\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport Cookie from \"js-cookie\";\r\nimport queryString from \"query-string\";\r\nimport localforage from \"localforage\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tpadding: \"0px 0px 25px 0px !important\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tflexDirection: \"column\",\r\n\t\t},\r\n\t},\r\n\ttabs: {\r\n\t\t\"& button:focus\": {\r\n\t\t\toutline: \"none\",\r\n\t\t},\r\n\t},\r\n\tcreateAnAccount: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\ttextAlign: \"center\",\r\n\t\tpadding: \"0px 15px\",\r\n\t},\r\n\tconnectAnAccount: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"start\",\r\n\t\tminWidth: \"25%\",\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: \"15px\",\r\n\t},\r\n});\r\n\r\nclass LoginRegisterModal extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t};\r\n\r\n\thandleLoginForm = (values) => {\r\n\t\tif (this.props.local) {\r\n\t\t\tthis.props.login({\r\n\t\t\t\t...values,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\tlocalforage.setItem(\"RemoteGames\", data.authToken);\r\n\t\t\t\t\t\tthis.props.updateClient({\r\n\t\t\t\t\t\t\tauthToken: data.authToken,\r\n\t\t\t\t\t\t\tloggedIn: true,\r\n\t\t\t\t\t\t\t...data.client,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// this.props.authenticate(data.authToken);\r\n\t\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.props.login({\r\n\t\t\t\t...values,\r\n\t\t\t\tcb: (data) => {\r\n\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\tthis.props.openAlert({ title: \"success\" });\r\n\t\t\t\t\t\tCookie.set(\"RemoteGames\", data.authToken, { expires: 7 });\r\n\t\t\t\t\t\tthis.props.updateClient({\r\n\t\t\t\t\t\t\tauthToken: data.authToken,\r\n\t\t\t\t\t\t\tloggedIn: true,\r\n\t\t\t\t\t\t\t...data.clientInfo,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// this.props.authenticate(data.authToken);\r\n\t\t\t\t\t\tlet values = queryString.parse(this.props.location.search);\r\n\t\t\t\t\t\tif (values.verified) {\r\n\t\t\t\t\t\t\tthis.props.history.replace(\"/\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.props.history.goBack();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleRegisterForm = (values) => {\r\n\t\tthis.props.register({\r\n\t\t\t...values,\r\n\t\t\tcb: (data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.props.openAlert({ title: \"Account created! Please login!\" });\r\n\t\t\t\t\tthis.props.history.replace(\"/login\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.props.openAlert({ title: data.reason });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// const values = queryString.parse(this.props.location.search);\r\n\t\t// if (values.verified) {\r\n\t\t// \tsetTimeout(() => {\r\n\t\t// \t\talert(\"Email verified.\");\r\n\t\t// \t}, 2000);\r\n\t\t// }\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet which = this.props.history.location.pathname.indexOf(\"/login\") > -1 ? 0 : 1;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tWelcome\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\tvalue={which}\r\n\t\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t// scrollable\r\n\t\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\t\tif (value === 0) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/login\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (value === 1) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/register\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tab label=\"Login\" />\r\n\t\t\t\t\t\t<Tab label=\"Register\" />\r\n\t\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/login\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className={classes.createAnAccount}>\r\n\t\t\t\t\t\t\t\t\t<LoginForm onSubmit={this.handleLoginForm} local={this.props.local} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/register\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className={classes.createAnAccount}>\r\n\t\t\t\t\t\t\t\t\t<RegisterForm\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={this.handleRegisterForm}\r\n\t\t\t\t\t\t\t\t\t\tlocal={this.props.local}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{!this.props.local && (\r\n\t\t\t\t\t\t<div className={classes.connectAnAccount}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<ListItemText>or</ListItemText>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style={{ marginTop: \"15px\" }}>\r\n\t\t\t\t\t\t\t\t<ConnectAccounts showTOS={true} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateClient: (data) => {\r\n\t\t\tdispatch(updateClient(data));\r\n\t\t},\r\n\t\tauthenticate: (data) => {\r\n\t\t\tdispatch(authenticate(data));\r\n\t\t},\r\n\t\tlogin: (data) => {\r\n\t\t\tdispatch(login(data));\r\n\t\t},\r\n\t\tregister: (data) => {\r\n\t\t\tdispatch(register(data));\r\n\t\t},\r\n\t\topenAlert: (data) => {\r\n\t\t\tdispatch(openAlert(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(LoginRegisterModal);\r\n","import { createSlice, createSerializableStateInvariantMiddleware } from \"@reduxjs/toolkit\";\n\nconst alertSlice = createSlice({\n\tname: \"alert\",\n\tinitialState: {\n\t\topen: false,\n\t\ttitle: null,\n\t\tcontent: null,\n\t\tmaxWidth: null,\n\t\tfullWidth: null,\n\t},\n\treducers: {\n\t\topenAlert(state, action) {\n\t\t\tstate.title = action.payload.title ? action.payload.title : null;\n\t\t\tstate.content = action.payload.content ? action.payload.content : null;\n\n\t\t\tif (typeof action.payload.fullWidth !== \"undefined\") {\n\t\t\t\tstate.fullWidth = action.payload.fullWidth;\n\t\t\t} else {\n\t\t\t\tstate.fullWidth = true;\n\t\t\t}\n\t\t\tif (typeof action.payload.maxWidth !== \"undefined\") {\n\t\t\t\tstate.maxWidth = action.payload.maxWidth;\n\t\t\t} else {\n\t\t\t\tstate.maxWidth = \"sm\";\n\t\t\t}\n\t\t\t\n\t\t\tstate.open = true;\n\t\t},\n\t\tcloseAlert(state, action) {\n\t\t\tstate.open = false;\n\t\t}\n\t},\n});\nexport const {\n\topenAlert,\n\tcloseAlert,\n} = alertSlice.actions;\nexport default alertSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst chatSlice = createSlice({\r\n\tname: \"chat\",\r\n\tinitialState: {\r\n\t\tmessages: [],\r\n\t\tuserids: [],\r\n\t},\r\n\treducers: {\r\n\t\tupdateMessages(state, action) {\r\n\t\t\tstate.messages = action.payload.messages;\r\n\t\t},\r\n\t\tsendMessage(state, action) {},\r\n\t\treceiveMessage(state, action) {\r\n\t\t\t// \t\t\ttext: data.text,\r\n\t\t\t// \t\t\tusername: data.username,\r\n\t\t\t// \t\t\tuserid: data.userid,\r\n\t\t\t// \t\t\ttime: data.time,\r\n\t\t\t// \t\t\tisReplay: data.isReplay,\r\n\t\t\t// \t\t\tisBanned: data.isBanned,\r\n\t\t\t// todo: fix chat so this isn't needed:\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t\t}, 1000);\r\n\t\t\t// add message to messages:\r\n\t\t\tstate.messages.push({\r\n\t\t\t\tid: action.payload.id,\r\n\t\t\t\tuserid: action.payload.userid,\r\n\t\t\t\tusername: action.payload.username,\r\n\t\t\t\ttext: action.payload.text,\r\n\t\t\t\ttime: action.payload.time,\r\n\t\t\t\tisReplay: action.payload.isReplay,\r\n\t\t\t\tisBanned: action.payload.isBanned,\r\n\t\t\t});\r\n\t\t\tlet userids = state.userids.splice(0);\r\n\t\t\t// add the userid if not already in the state:\r\n\t\t\tif (userids.indexOf(action.payload.userid) == -1) {\r\n\t\t\t\tstate.userids.push(action.payload.userid);\r\n\t\t\t}\r\n\t\t\tif (action.payload.pinged) {\r\n\t\t\t\t// todo:\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n});\r\nexport const { sendMessage, receiveMessage, updateMessages } = chatSlice.actions;\r\nexport default chatSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst clientSlice = createSlice({\r\n\tname: \"client\",\r\n\tinitialState: {\r\n\t\tauthToken: null,\r\n\t\tstreamKey: null,\r\n\t\tloggedIn: false,\r\n\t\taccountAuthed: false,\r\n\t\thostAuthed: false,\r\n\t\tuserid: null,\r\n\t\tusername: null,// \"???\"\r\n\t\tconnectedAccounts: [],\r\n\t\tvalidUsernames: [],\r\n\t\tusernameIndex: 0,\r\n\t\twaitlisted: false,\r\n\t\ttimePlayed: 0,\r\n\t\temailVerified: false,\r\n\t\troles: {},\r\n\t},\r\n\treducers: {\r\n\t\tupdateClient(state, action) {\r\n\t\t\treturn (state = { ...state, ...action.payload });\r\n\t\t},\r\n\t\tchangeUsernameIndex(state, action) {\r\n\t\t\tstate.usernameIndex = action.payload.usernameIndex;\r\n\t\t\t// state = { ...state, action.payload.usernameIndex };\r\n\t\t\treturn state;\r\n\t\t},\r\n\t\tlogin(state, action) {},\r\n\t\tregister(state, action) {},\r\n\t\tauthenticate(state, action) {},\r\n\t},\r\n});\r\nexport const {\r\n\tupdateClient,\r\n\tchangeUsernameIndex,\r\n\tauthenticate,\r\n\tlogin,\r\n\tregister,\r\n} = clientSlice.actions;\r\nexport default clientSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst timeSlice = createSlice({\r\n\tname: \"time\",\r\n\tinitialState: {\r\n\t\tserver: 0, // server time (in ms)\r\n\t\tlastServerUpdate: 0, // when it was last updated (in ms)\r\n\t\tping: 0,\r\n\t},\r\n\treducers: {\r\n\t\tupdateServerTime(state, action) {\r\n\t\t\tstate.server = action.payload.time;\r\n\t\t\tstate.lastServerUpdate = Date.now();\r\n\t\t},\r\n\t\tupdatePing(state, action) {\r\n\t\t\tstate.ping = action.payload.time;\r\n\t\t},\r\n\t\tupdateLastServerUpdate(state, action) {\r\n\t\t\tstate.lastServerUpdate = action.payload.time;\r\n\t\t},\r\n\t},\r\n});\r\nexport const { updateServerTime, updatePing, updateLastServerUpdate } = timeSlice.actions;\r\nexport default timeSlice.reducer;\r\n","\r\n\r\nexport default class LoadCircle {\r\n\r\n\tconstructor(canvas) {\r\n\r\n\t\tthis.time = 0;\r\n\t\tthis.progress = 0;\r\n\t\tthis.speed = Math.PI / 24;\r\n\r\n\t\tthis.timer = null;\r\n\r\n\t\tthis.centerX = 0;\r\n\t\tthis.centerY = 0;\r\n\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.context = this.canvas.getContext(\"2d\");\r\n\t\t\r\n\t\tthis.offsets = [0, 0, 0];\r\n\t\tthis.radi = [120, 100, 80];\r\n\t\tthis.colors = [\"#3498db\", \"#e74c3c\", \"#f9c922\"];\r\n\r\n\r\n\t}\r\n\r\n\tdrawCircle = (x, y, radius, start, end, color) => {\r\n\t\tthis.context.lineWidth = 6;\r\n\t\tthis.context.beginPath();\r\n\t\tthis.context.strokeStyle = color;\r\n\t\tthis.context.arc(x, y, radius, start, end, false);\r\n\t\tthis.context.stroke();\r\n\t};\r\n\r\n\tstep = () => {\r\n\t\tthis.time += 0.05;\r\n\r\n\t\tthis.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\tlet start = this.offsets[i];\r\n\t\t\tlet end = this.offsets[i] + (Math.PI * 2) / 3;\r\n\t\t\tthis.drawCircle(this.centerX, this.centerY, this.radi[i], start, end, this.colors[i]);\r\n\t\t}\r\n\r\n\t\t// this.offsets[0] += this.speed;\r\n\t\t// this.offsets[2] += this.speed * (3 / 4);\r\n\t\t// this.offsets[1] += this.speed * (3 / 2);\r\n\r\n\t\tthis.offsets[0] += this.speed;\r\n\t\tthis.offsets[1] += this.speed + (this.speed * (3 / 4));\r\n\t\tthis.offsets[2] += this.speed + (this.speed * (3 / 2));\r\n\r\n\t\tif (this.time > 1000 * 60 * 5) {\r\n\t\t\tthis.offsets = [0, 0, 0];\r\n\t\t}\r\n\t};\r\n\r\n\tstart = (centerX, centerY) => {\r\n\t\t// this.drawCircle(640, 360, 200, 0, Math.PI, \"#000\");\r\n\r\n\t\tthis.centerX = centerX;\r\n\t\tthis.centerY = centerY;\r\n\t\tthis.time = 0;\r\n\t\tthis.timer = setInterval(this.step, 50);\r\n\t};\r\n\r\n\tstop = () => {\r\n\t\tthis.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tclearInterval(this.timer);\r\n\t};\r\n}","import { clamp } from \"shared/libs/utils.js\";\r\n\r\nexport class ControllerState {\r\n\tconstructor() {\r\n\t\tthis.buttons = {\r\n\t\t\tunset: 0,\r\n\t\t\tup: 0,\r\n\t\t\tdown: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tl: 0,\r\n\t\t\tzl: 0,\r\n\t\t\tlstick: 0,\r\n\t\t\tminus: 0,\r\n\t\t\tcapture: 0,\r\n\r\n\t\t\ta: 0,\r\n\t\t\tb: 0,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tr: 0,\r\n\t\t\tzr: 0,\r\n\t\t\trstick: 0,\r\n\t\t\tplus: 0,\r\n\t\t\thome: 0,\r\n\t\t};\r\n\r\n\t\tthis.btns = 0;\r\n\r\n\t\tthis.axes = [0, 0, 0, 0, 0, 0];\r\n\r\n\t\tthis.gyro = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t};\r\n\r\n\t\tthis.accel = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t};\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tthis.btns = 0;\r\n\t\tfor (let prop in this.buttons) {\r\n\t\t\tthis.buttons[prop] = 0;\r\n\t\t}\r\n\t\tthis.axes = [0, 0, 0, 0, 0, 0];\r\n\t};\r\n\r\n\tisPressed = (n) => {\r\n\t\treturn (this.btns & (1 << n)) != 0;\r\n\t};\r\n\r\n\tgetState = () => {\r\n\t\tthis.axes[0] = clamp(this.axes[0], -1, 1);\r\n\t\tthis.axes[1] = clamp(this.axes[1], -1, 1);\r\n\t\tthis.axes[2] = clamp(this.axes[2], -1, 1);\r\n\t\tthis.axes[3] = clamp(this.axes[3], -1, 1);\r\n\t\t// this.axes[4] = this.axes[4];\r\n\t\t// this.axes[5] = this.axes[5];\r\n\r\n\t\tlet state = {\r\n\t\t\tbtns: 0,\r\n\t\t\taxes: [0, 0, 0, 0, 0, 0],\r\n\t\t\tgyro: { ...this.gyro },\r\n\t\t\taccel: { ...this.accel },\r\n\t\t};\r\n\r\n\t\tstate.btns |= this.buttons.up << 0;\r\n\t\tstate.btns |= this.buttons.down << 1;\r\n\t\tstate.btns |= this.buttons.left << 2;\r\n\t\tstate.btns |= this.buttons.right << 3;\r\n\r\n\t\tstate.btns |= this.buttons.l << 4;\r\n\t\tstate.btns |= this.buttons.zl << 5;\r\n\t\tstate.btns |= this.buttons.lstick << 6;\r\n\t\tstate.btns |= this.buttons.minus << 7;\r\n\t\tstate.btns |= this.buttons.capture << 8;\r\n\r\n\t\tstate.btns |= this.buttons.a << 9;\r\n\t\tstate.btns |= this.buttons.b << 10;\r\n\t\tstate.btns |= this.buttons.x << 11;\r\n\t\tstate.btns |= this.buttons.y << 12;\r\n\r\n\t\tstate.btns |= this.buttons.r << 13;\r\n\t\tstate.btns |= this.buttons.zr << 14;\r\n\t\tstate.btns |= this.buttons.rstick << 15;\r\n\t\tstate.btns |= this.buttons.plus << 16;\r\n\t\tstate.btns |= this.buttons.home << 17;\r\n\r\n\t\t// state.axes = this.axes;\r\n\t\tfor (let i = 0; i < this.axes.length; i++) {\r\n\t\t\tstate.axes[i] = this.axes[i];\r\n\t\t}\r\n\r\n\t\treturn state;\r\n\t};\r\n\r\n\tsetState = (state) => {\r\n\t\tif (state.btns == null) {\r\n\t\t\tconsole.log(state);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\tthis.btns = state.btns;\r\n\t\tthis.axes = state.axes;\r\n\r\n\t\tthis.buttons.up = this.isPressed(0);\r\n\t\tthis.buttons.down = this.isPressed(1);\r\n\t\tthis.buttons.left = this.isPressed(2);\r\n\t\tthis.buttons.right = this.isPressed(3);\r\n\t\tthis.buttons.l = this.isPressed(4);\r\n\t\tthis.buttons.zl = this.isPressed(5);\r\n\t\tthis.buttons.lstick = this.isPressed(6);\r\n\t\tthis.buttons.minus = this.isPressed(7);\r\n\t\tthis.buttons.capture = this.isPressed(8);\r\n\r\n\t\tthis.buttons.a = this.isPressed(9);\r\n\t\tthis.buttons.b = this.isPressed(10);\r\n\t\tthis.buttons.x = this.isPressed(11);\r\n\t\tthis.buttons.y = this.isPressed(12);\r\n\t\tthis.buttons.r = this.isPressed(13);\r\n\t\tthis.buttons.zr = this.isPressed(14);\r\n\t\tthis.buttons.rstick = this.isPressed(15);\r\n\t\tthis.buttons.plus = this.isPressed(16);\r\n\t\tthis.buttons.home = this.isPressed(17);\r\n\t};\r\n}\r\n\r\nexport class MouseState {\r\n\tconstructor() {\r\n\t\tthis.x = 0.5;\r\n\t\tthis.y = 0.5;\r\n\r\n\t\tthis.dx = 0;\r\n\t\tthis.dy = 0;\r\n\r\n\t\tthis.dScroll = 0;\r\n\t\tthis.scroll = 0;\r\n\r\n\t\tthis.btns = {\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmiddle: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n\r\nexport class KeyboardState {\r\n\tconstructor() {\r\n\t\tthis.keys = [];\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n\r\nexport class TouchState {\r\n\tconstructor() {\r\n\t\t// this.previousTouches = [];\r\n\t\tthis.touches = [];\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n","export class GamepadWrapper {\r\n\tconstructor() {\r\n\t\tthis.controllers = {};\r\n\t\tthis.controllerStates = [];\r\n\t\tthis.haveEvents = \"ongamepadconnected\" in window;\r\n\t\tthis.pollTimer = null;\r\n\r\n\t\tthis.callbacksAfterPoll = [];\r\n\t}\r\n\r\n\tinit = () => {\r\n\t\twindow.addEventListener(\"gamepadconnected\", this.connectHandler);\r\n\t\twindow.addEventListener(\"gamepaddisconnected\", this.disconnectHandler);\r\n\t\tthis.pollTimer = setInterval(this.pollGamepads, 1000 / 120);\r\n\t};\r\n\r\n\taddGamepad = (gamepad) => {\r\n\t\tthis.controllers[gamepad.index] = gamepad;\r\n\t}\r\n\r\n\tconnectHandler = (event) => {\r\n\t\tif (event.gamepad.id.indexOf(\"vJoy\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.addGamepad(event.gamepad);\r\n\t}\r\n\r\n\tremoveGamepad = (gamepad) => {\r\n\t\tdelete this.controllers[gamepad.index];\r\n\t}\r\n\r\n\tdisconnectHandler = (event) => {\r\n\t\tthis.removeGamepad(event.gamepad);\r\n\t}\r\n\r\n\tscanGamepads = () => {\r\n\t\tlet gamepads = navigator.getGamepads\r\n\t\t\t? navigator.getGamepads()\r\n\t\t\t: navigator.webkitGetGamepads\r\n\t\t\t? navigator.webkitGetGamepads()\r\n\t\t\t: [];\r\n\t\tfor (let i = 0; i < gamepads.length; i++) {\r\n\t\t\tif (gamepads[i]) {\r\n\t\t\t\tif (gamepads[i].id.indexOf(\"vJoy\") > -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (gamepads[i].index in this.controllers) {\r\n\t\t\t\t\tthis.controllers[gamepads[i].index] = gamepads[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addGamepad(gamepads[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpollGamepads = () => {\r\n\t\tif (!this.haveEvents) {\r\n\t\t\tthis.scanGamepads();\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.callbacksAfterPoll.length; i++) {\r\n\t\t\tthis.callbacksAfterPoll[i]();\r\n\t\t}\r\n\t}\r\n}\r\n","// libs:\n\n// const keycode = require(\"keycode\");\n// require(\"./keymaster.js\");\n\n// input types:\n// each should handle each type of device:\nimport { GamepadWrapper } from \"./GamepadWrapper.js\";\nimport { KeyboardWrapper } from \"./KeyboardWrapper.js\";\nimport { TouchWrapper } from \"./TouchWrapper.js\";\nimport { VirtualController } from \"./VirtualController.js\";\nimport { VirtualKeyboard } from \"./VirtualKeyboard.js\";\nimport { VirtualMouse } from \"./VirtualMouse.js\";\nimport { VirtualTouchpad } from \"./VirtualTouchpad.js\";\n\nexport class InputState {\n\tconstructor() {\n\t\tthis.changed = false;\n\n\t\tthis.controller = {\n\t\t\tbtns: 0,\n\t\t\taxes: [0, 0, 0, 0, 0, 0],\n\t\t\t// gyro: {\n\t\t\t// \tx: 0,\n\t\t\t// \ty: 0,\n\t\t\t// \tz: 0,\n\t\t\t// },\n\n\t\t\t// accel: {\n\t\t\t// \tx: 0,\n\t\t\t// \ty: 0,\n\t\t\t// \tz: 0,\n\t\t\t// },\n\t\t};\n\n\t\tthis.mouse = {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tdScroll: 0,\n\t\t\tbtns: {\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tmiddle: 0,\n\t\t\t},\n\t\t};\n\n\t\tthis.keyboard = {\n\t\t\tkeys: [],\n\t\t};\n\t}\n\n\tsetControllerState(state) {\n\t\tthis.controller.btns = state.btns;\n\t\tthis.controller.axes = state.axes;\n\t}\n\n\tsetKeyboardState(state) {\n\t\tthis.keyboard.keys = state.keys;\n\t}\n\n\tsetMouseState(state) {\n\t\tthis.mouse.x = state.x;\n\t\tthis.mouse.y = state.y;\n\t\tthis.mouse.dx = state.dx;\n\t\tthis.mouse.dy = state.dy;\n\t\tthis.mouse.dScroll = state.dScroll;\n\t\tthis.mouse.btns = { ...state.btns };\n\t}\n\n\tsetState(state) {\n\t\t// controller\n\t\tif (state.controller != null) {\n\t\t\tthis.controller = state.controller;\n\t\t}\n\t\t// mouse\n\t\tif (state.mouse != null) {\n\t\t\tthis.mouse = state.mouse;\n\t\t}\n\t\t// keyboard\n\t\tif (state.keyboard != null) {\n\t\t\tthis.keyboard = state.keyboard;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn {\n\t\t\tcontroller: this.controller,\n\t\t\tmouse: this.mouse,\n\t\t\tkeyboard: this.keyboard,\n\t\t};\n\t}\n}\n\n// map several inputs to a single virtual controller:\nexport default class InputHandler {\n\tconstructor(isMobile) {\n\t\t// initialize gamepad wrapper:\n\t\tthis.gamepadWrapper = new GamepadWrapper();\n\t\tthis.keyboardWrapper = new KeyboardWrapper();\n\t\tthis.touchWrapper = new TouchWrapper();\n\n\t\tthis.isMobile = isMobile;\n\n\t\t// current device being used:\n\t\tthis.currentInputMode = \"keyboard\";\n\n\t\t// represents a controller's current state:\n\t\t// pass gamepadWrapper to constructor:\n\t\tthis.controller = new VirtualController(this.gamepadWrapper);\n\t\t// the current state of the keyboard:\n\t\tthis.keyboard = new VirtualKeyboard(this.keyboardWrapper);\n\t\t// the current state of the mouse:\n\t\tthis.mouse = new VirtualMouse();\n\t\t// the touch controls state:\n\t\tthis.touchpad = new VirtualTouchpad(this.touchWrapper);\n\n\t\t// real mode:\n\t\tthis.realMode = false;\n\n\t\t// output to be read:\n\t\tthis.inputState = new InputState();\n\t\tthis.oldInputState = this.inputState;\n\t\tthis.oldInputStateString = JSON.stringify(this.inputState);\n\n\t\t// init:\n\t\tif (!this.isMobile) {\n\t\t\tthis.controller.init();\n\t\t}\n\t}\n\n\tinit = () => {\n\t\tthis.keyboardWrapper.init();\n\t\tthis.gamepadWrapper.init();\n\t};\n\n\tdestroy = () => {\n\t\tthis.keyboardWrapper.destroy();\n\t\tthis.gamepadWrapper.destroy();\n\t\tthis.touchWrapper.destroy();\n\t\tthis.mouse.destroy();\n\t};\n\n\tpollDevices(touchControls) {\n\t\tlet updatedState = new InputState();\n\n\t\tupdatedState = this.oldInputState;\n\n\t\tif (!this.isMobile) {\n\t\t\tif (!this.realMode) {\n\t\t\t\t// controller:\n\t\t\t\tthis.controller.poll();\n\t\t\t\tif (this.controller.changed) {\n\t\t\t\t\tthis.controller.changed = false;\n\t\t\t\t\tthis.currentInputMode = \"controller\";\n\t\t\t\t\tupdatedState.setControllerState(this.controller.getState());\n\t\t\t\t} else {\n\t\t\t\t\t// keyboard:\n\t\t\t\t\tthis.keyboard.poll();\n\t\t\t\t\tif (this.keyboard.changed) {\n\t\t\t\t\t\tthis.keyboard.changed = false;\n\t\t\t\t\t\tthis.currentInputMode = \"keyboard\";\n\t\t\t\t\t\tupdatedState.setControllerState(this.keyboard.getControllerState());\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mouse.settings.enabled && this.mouse.changed) {\n\t\t\t\t\t\tthis.mouse.changed = false;\n\t\t\t\t\t\tupdatedState.controller.btns =\n\t\t\t\t\t\t\tthis.keyboard.getControllerState().btns |\n\t\t\t\t\t\t\tthis.mouse.getControllerState().btns;\n\t\t\t\t\t\tupdatedState.controller.axes[2] = this.mouse.cstate.axes[2];\n\t\t\t\t\t\tupdatedState.controller.axes[3] = this.mouse.cstate.axes[3];\n\t\t\t\t\t\t// triggers:\n\t\t\t\t\t\tupdatedState.controller.axes[4] =\n\t\t\t\t\t\t\t(updatedState.controller.btns & (1 << 5)) != 0 ? 1 : 0;\n\t\t\t\t\t\tupdatedState.controller.axes[5] =\n\t\t\t\t\t\t\t(updatedState.controller.btns & (1 << 14)) != 0 ? 1 : 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// keyboard & mouse:\n\t\t\t\tif (this.keyboard.settings.enabled) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t(this.mouse.settings.enabled && this.mouse.inCanvas) ||\n\t\t\t\t\t\t!this.mouse.settings.enabled\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.keyboard.poll();\n\t\t\t\t\t\tupdatedState.setKeyboardState(this.keyboard.getState());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.mouse.settings.enabled && this.mouse.changed) {\n\t\t\t\t\tthis.mouse.changed = false;\n\t\t\t\t\tupdatedState.setMouseState(this.mouse.getState());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (touchControls) {\n\t\t\t// touchpad:\n\t\t\tthis.touchpad.poll();\n\t\t\tif (this.touchpad.changed) {\n\t\t\t\tthis.touchpad.changed = false;\n\t\t\t\tthis.currentInputMode = \"touchpad\";\n\t\t\t\tupdatedState.setControllerState(this.touchpad.getControllerState());\n\t\t\t}\n\t\t}\n\n\t\tlet updatedStateString = JSON.stringify(updatedState);\n\n\t\tif (updatedStateString != this.oldInputStateString || this.mouse.exception) {\n\t\t\tthis.mouse.exception = false;\n\t\t\tthis.inputState.setState(updatedState);\n\n\t\t\tthis.oldInputState = updatedState;\n\t\t\tthis.oldInputStateString = updatedStateString;\n\n\t\t\tthis.changed = true;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn this.inputState.getState();\n\t}\n}\n","const MODS = [16, 18, 17, 91];\r\n\r\nexport class KeyboardWrapper {\r\n\tconstructor() {\r\n\t\tthis.pressedKeys = [];\r\n\t\tthis.werePressedKeys = [];\r\n\r\n\t\tthis.settings = {\r\n\t\t\tdisableKeys: false,\r\n\t\t};\r\n\r\n\t\tthis.IS_MAC = /Mac/.test(navigator.platform);\r\n\r\n\t\tthis.modifiers = {\r\n\t\t\tshift: false,\r\n\t\t\talt: false,\r\n\t\t\toption: false,\r\n\t\t\tctrl: false,\r\n\t\t\tcommand: false,\r\n\t\t\tcapslock: false,\r\n\t\t};\r\n\r\n\t\t// special keys\r\n\t\tthis.map = {\r\n\t\t\tbackspace: 8,\r\n\t\t\ttab: 9,\r\n\t\t\tclear: 12,\r\n\t\t\tenter: 13,\r\n\t\t\treturn: 13,\r\n\t\t\tesc: 27,\r\n\t\t\tescape: 27,\r\n\t\t\tspace: 32,\r\n\t\t\tleft: 37,\r\n\t\t\tup: 38,\r\n\t\t\tright: 39,\r\n\t\t\tdown: 40,\r\n\t\t\tdel: 46,\r\n\t\t\tdelete: 46,\r\n\t\t\thome: 36,\r\n\t\t\tend: 35,\r\n\t\t\tpageup: 33,\r\n\t\t\tpagedown: 34,\r\n\t\t\tshift: 16,\r\n\t\t\talt: 18,\r\n\t\t\toption: 18,\r\n\t\t\tctrl: 17,\r\n\t\t\tcommand: 91,\r\n\t\t\t\",\": 188,\r\n\t\t\t\".\": 190,\r\n\t\t\t\"/\": 191,\r\n\t\t\t\"`\": 192,\r\n\t\t\t\"-\": 189,\r\n\t\t\t\"=\": 187,\r\n\t\t\t\";\": 186,\r\n\t\t\t\"'\": 222,\r\n\t\t\t\"[\": 219,\r\n\t\t\t\"]\": 221,\r\n\t\t\t\"\\\\\": 220,\r\n\t\t};\r\n\r\n\t\tfor (let k = 1; k < 20; k++) {\r\n\t\t\tthis.map[\"f\" + k] = 111 + k;\r\n\t\t}\r\n\t}\r\n\r\n\tinit = () => {\r\n\t\t// document.addEventListener(\"keypress\", this.handleKeypress, false);\r\n\t\tdocument.addEventListener(\"keydown\", this.handleKeydown, false);\r\n\t\tdocument.addEventListener(\"keyup\", this.handleKeyup, false);\r\n\t\twindow.addEventListener(\"focus\", this.resetModifiers, false);\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\t// document.removeEventListener(\"keypress\", this.handleKeypress);\r\n\t\tdocument.removeEventListener(\"keydown\", this.handleKeydown);\r\n\t\tdocument.removeEventListener(\"keyup\", this.handleKeyup);\r\n\t\twindow.removeEventListener(\"focus\", this.resetModifiers);\r\n\t};\r\n\r\n\tkeyCode = (k) => {\r\n\t\treturn this.map[k] || k.charCodeAt(0);\r\n\t\t// return this.map[k] || k.toUpperCase().charCodeAt(0);\r\n\t};\r\n\r\n\t// handleKeypress = (event) => {\r\n\t// \tlet keyCode = event.keyCode;\r\n\t// \tlet shiftKey = event.shiftKey;\r\n\t// \tif (keyCode >= 97 && keyCode <= 122) {\r\n\t// \t\tthis.modifiers.capslock = shiftKey;\r\n\t// \t} else if (keyCode >= 65 && keyCode <= 90 && !(shiftKey && this.IS_MAC)) {\r\n\t// \t\tthis.modifiers.capslock = !shiftKey;\r\n\t// \t}\r\n\t// };\r\n\r\n\thandleKeydown = (event) => {\r\n\t\tlet keyCode = event.keyCode;\r\n\t\t// let modified = false;\r\n\r\n\t\t// console.log(this.modifiers.capslock);\r\n\r\n\t\t// if (!event.shiftKey && !this.modifiers.capslock) {\r\n\t\t// \tif (keyCode >= 65 && keyCode <= 90) {\r\n\t\t// \t\tkeyCode += 32;\r\n\t\t// \t\tmodified = true;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tif (keyCode === 93 || keyCode === 224) {\r\n\t\t\tkeyCode = 91; // right command on webkit, command on Gecko\r\n\t\t}\r\n\r\n\t\tif (keyCode === 20) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (keyCode >= 112 && keyCode <= 130) {\r\n\t\t\t// if (!modified) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t\tif (window.inputHandler.mouse.inCanvas && this.modifiers.ctrl) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\r\n\t\tif (this.pressedKeys.indexOf(keyCode) === -1) {\r\n\t\t\tthis.pressedKeys.push(keyCode);\r\n\t\t}\r\n\r\n\t\tif (keyCode in MODS) {\r\n\t\t\tthis.modifiers[this.map[keyCode]] = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// ignore key presses if a select, textarea, or input is focused\r\n\t\tlet tagName = (event.target || event.srcElement).tagName;\r\n\t\tif (!(tagName == \"INPUT\" || tagName == \"SELECT\" || tagName == \"TEXTAREA\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyup = (event) => {\r\n\t\tlet keyCode = event.keyCode;\r\n\t\t// let modified = false;\r\n\r\n\t\t// if (!event.shiftKey && !this.modifiers.capslock) {\r\n\t\t// \tif (keyCode >= 65 && keyCode <= 90) {\r\n\t\t// \t\tkeyCode += 32;\r\n\t\t// \t\tmodified = true;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tif (keyCode === 93 || keyCode === 224) {\r\n\t\t\tkeyCode = 91; // right command on webkit, command on Gecko\r\n\t\t}\r\n\r\n\t\tif (keyCode === 20) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (keyCode >= 112 && keyCode <= 130) {\r\n\t\t\t// if (!modified) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t// }\r\n\t\t}\r\n\r\n\t\tif (window.inputHandler.mouse.inCanvas) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\r\n\t\t// remove key\r\n\t\tlet index = this.pressedKeys.indexOf(keyCode);\r\n\t\tif (index >= 0) {\r\n\t\t\tthis.pressedKeys.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (keyCode >= 112 && keyCode <= 130) {\r\n\t\t\t// event.preventDefault();\r\n\t\t}\r\n\r\n\t\tif (keyCode in MODS) {\r\n\t\t\tthis.modifiers[this.map[keycode]] = false;\r\n\t\t}\r\n\t};\r\n\r\n\tisPressed = (k) => {\r\n\t\tk = typeof k === \"string\" ? this.keyCode(k) : k;\r\n\t\treturn this.pressedKeys.indexOf(k) !== -1;\r\n\t};\r\n\r\n\twasPressed = (k, pks) => {\r\n\t\tk = typeof k === \"string\" ? this.keyCode(k) : k;\r\n\t\treturn pks.indexOf(k) !== -1;\r\n\t};\r\n\r\n\tgetPressedKeyCodes = () => {\r\n\t\treturn this.pressedKeys.slice(0);\r\n\t};\r\n\r\n\tresetModifiers = () => {\r\n\t\tfor (let key in this.modifiers) {\r\n\t\t\tthis.modifiers[key] = false;\r\n\t\t}\r\n\t};\r\n}\r\n","import { pick } from \"shared/libs/utils.js\";\r\nimport nipplejs from \"nipplejs\";\r\n\r\n// window.nipplejs = nipplejs;\r\n\r\nlet btnList = {\r\n\ta: 1,\r\n\tb: 1,\r\n\tx: 1,\r\n\ty: 1,\r\n\tup: 1,\r\n\tdown: 1,\r\n\tleft: 1,\r\n\tright: 1,\r\n\tl: 1,\r\n\tzl: 1,\r\n\tr: 1,\r\n\tzr: 1,\r\n\tminus: 1,\r\n\tplus: 1,\r\n\tcapture: 1,\r\n\thome: 1,\r\n};\r\n\r\nconst leftButtons = {\r\n\tup: 1,\r\n\tdown: 1,\r\n\tleft: 1,\r\n\tright: 1,\r\n\tl: 1,\r\n\tzl: 1,\r\n\tminus: 1,\r\n\tcapture: 1,\r\n};\r\n\r\nexport class TouchWrapper {\r\n\tconstructor() {\r\n\t\tthis.ongoingTouches = [];\r\n\t\tthis.activeTargets = {};\r\n\r\n\t\tdocument.addEventListener(\"touchstart\", this.handleTouchStart, false);\r\n\t\tdocument.addEventListener(\"touchend\", this.handleTouchEnd, false);\r\n\t\tdocument.addEventListener(\"touchcancel\", this.handleTouchCancel, false);\r\n\t\tdocument.addEventListener(\"touchmove\", this.handleTouchMove, false);\r\n\r\n\t\tdocument.addEventListener(\"mousedown\", this.handleTouchStart, false);\r\n\t\tdocument.addEventListener(\"mouseup\", this.handleTouchEnd, false);\r\n\t\tdocument.addEventListener(\"mousemove\", this.handleTouchMove, false);\r\n\r\n\t\t/* JOYSTICKS @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/\r\n\t\tthis.leftStick = null;\r\n\t\tthis.rightStick = null;\r\n\t\tthis.leftJoyStick = null;\r\n\t\tthis.rightJoyStick = null;\r\n\r\n\t\tthis.leftActive = false;\r\n\t\tthis.rightActive = false;\r\n\r\n\t\tthis.sticks = {\r\n\t\t\tlx: 0,\r\n\t\t\tly: 0,\r\n\t\t\trx: 0,\r\n\t\t\try: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tinit = (leftZone, rightZone) => {\r\n\t\tlet leftJoyStick = {\r\n\t\t\tzone: leftZone,\r\n\t\t\tmode: \"static\",\r\n\t\t\tcatchDistance: 10,\r\n\t\t\tcolor: \"#FF3C28\",\r\n\t\t\tposition: { left: \"50%\", top: \"50%\" },\r\n\t\t\tsize: 60,\r\n\t\t\trestOpacity: 0,\r\n\t\t\tfadeTime: 1e99,\r\n\t\t};\r\n\r\n\t\tlet rightJoyStick = {\r\n\t\t\tzone: rightZone,\r\n\t\t\tmode: \"static\",\r\n\t\t\tcatchDistance: 10,\r\n\t\t\tcolor: \"#0AB9E6\",\r\n\t\t\tposition: { left: \"50%\", top: \"50%\" },\r\n\t\t\tsize: 60,\r\n\t\t\trestOpacity: 0,\r\n\t\t\tfadeTime: 1e99,\r\n\t\t};\r\n\r\n\t\tthis.leftStick = nipplejs.create(leftJoyStick);\r\n\t\tthis.rightStick = nipplejs.create(rightJoyStick);\r\n\r\n\t\tthis.bindJoysticks();\r\n\t};\r\n\r\n\tbindJoysticks = () => {\r\n\t\tlet stickSize = 60;\r\n\t\tlet s1 = stickSize;\r\n\t\tlet s2 = stickSize / 2;\r\n\t\tthis.leftStick\r\n\t\t\t.on(\"start\", (event, data) => {\r\n\t\t\t\tlet pos = data.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.lx = pos.x;\r\n\t\t\t\tthis.sticks.ly = pos.y;\r\n\t\t\t\tthis.leftActive = true;\r\n\t\t\t})\r\n\t\t\t.on(\"end\", (event, data) => {\r\n\t\t\t\tthis.sticks.lx = 0;\r\n\t\t\t\tthis.sticks.ly = 0;\r\n\t\t\t\tthis.leftActive = false;\r\n\t\t\t})\r\n\t\t\t.on(\"move\", (event, data) => {\r\n\t\t\t\tlet pos = data.instance.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.lx = pos.x;\r\n\t\t\t\tthis.sticks.ly = pos.y;\r\n\t\t\t});\r\n\r\n\t\tthis.rightStick\r\n\t\t\t.on(\"start\", (event, data) => {\r\n\t\t\t\tlet pos = data.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.rx = pos.x;\r\n\t\t\t\tthis.sticks.ry = pos.y;\r\n\t\t\t\tthis.rightActive = true;\r\n\t\t\t})\r\n\t\t\t.on(\"end\", (event, data) => {\r\n\t\t\t\tthis.sticks.rx = 0;\r\n\t\t\t\tthis.sticks.ry = 0;\r\n\t\t\t\tthis.rightActive = false;\r\n\t\t\t})\r\n\t\t\t.on(\"move\", (event, data) => {\r\n\t\t\t\tlet pos = data.instance.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.rx = pos.x;\r\n\t\t\t\tthis.sticks.ry = pos.y;\r\n\t\t\t});\r\n\t};\r\n\r\n\tgetName = (names) => {\r\n\t\tfor (let i = 0; i < names.length; i++) {\r\n\t\t\tif (btnList[names[i]]) {\r\n\t\t\t\tlet isLeftButton = !!leftButtons[names[i]];\r\n\r\n\t\t\t\tif ((isLeftButton && this.leftActive) || (!isLeftButton && this.rightActive)) {\r\n\t\t\t\t\treturn \"other\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn names[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"other\";\r\n\t};\r\n\r\n\tongoingTouchIndexById = (idToFind) => {\r\n\t\tfor (let i = 0; i < this.ongoingTouches.length; i++) {\r\n\t\t\tlet id = this.ongoingTouches[i].identifier;\r\n\t\t\tif (id == idToFind) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1; // not found\r\n\t};\r\n\r\n\thandleTouchStart = (event) => {\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tthis.ongoingTouches.push(pick(\"identifier\", \"clientX\", \"clientY\")(touches[i]));\r\n\t\t\tthis.activeTargets[\r\n\t\t\t\tthis.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t)\r\n\t\t\t] = true;\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchEnd = (event) => {\r\n\t\t// event.preventDefault();\r\n\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\r\n\t\t\tif (idx >= 0) {\r\n\t\t\t\tthis.ongoingTouches.splice(idx, 1); // remove it; we're done\r\n\t\t\t\tthis.activeTargets[\r\n\t\t\t\t\tthis.getName(\r\n\t\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t\t)\r\n\t\t\t\t] = false;\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"can't figure out which touch to end\");\r\n\t\t\t\tthis.activeTargets = [];\r\n\t\t\t\tthis.ongoingTouches = [];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchCancel = (event) => {\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\t\t\tif (idx < 0) {\r\n\t\t\t\t// console.log(\"can't figure out which touch to cancel\");\r\n\t\t\t\tthis.activeTargets = [];\r\n\t\t\t\tthis.ongoingTouches = [];\r\n\t\t\t}\r\n\t\t\tthis.ongoingTouches.splice(idx, 1); // remove it; we're done\r\n\t\t\tthis.activeTargets[\r\n\t\t\t\tthis.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t)\r\n\t\t\t] = false;\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchMove = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\tif (this.ongoingTouches.length === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\t\t\tif (idx >= 0) {\r\n\t\t\t\tlet oldTarget = this.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(\r\n\t\t\t\t\t\tthis.ongoingTouches[idx].clientX,\r\n\t\t\t\t\t\tthis.ongoingTouches[idx].clientY,\r\n\t\t\t\t\t).classList,\r\n\t\t\t\t);\r\n\t\t\t\tlet newTarget = this.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t);\r\n\t\t\t\tif (oldTarget != newTarget) {\r\n\t\t\t\t\tthis.activeTargets[oldTarget] = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ongoingTouches.splice(\r\n\t\t\t\t\tidx,\r\n\t\t\t\t\t1,\r\n\t\t\t\t\tpick(\"identifier\", \"clientX\", \"clientY\")(touches[i]),\r\n\t\t\t\t); // swap in the new touch record\r\n\t\t\t\tthis.activeTargets[newTarget] = true;\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"can't figure out which touch to continue\");\r\n\t\t\t\tthis.activeTargets = [];\r\n\t\t\t\tthis.ongoingTouches = [];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","import { ControllerState } from \"./DeviceStates.js\";\nconst restPos = 0;\n\nexport const AxisSettings = class AxisSettings {\n\tconstructor(sensitivity, offset, deadzone) {\n\t\tthis.sensitivity = sensitivity;\n\t\tthis.offset = offset;\n\t\tthis.deadzone = deadzone;\n\t}\n};\n\nclass AxisMapping {\n\tconstructor(which, activationThreshold, aboveOrBelow) {\n\t\tif (typeof which == \"number\") {\n\t\t\tthis.type = \"axis\";\n\t\t} else {\n\t\t\tthis.type = \"button\";\n\t\t}\n\n\t\tthis.which = which;\n\n\t\tif (this.type == \"button\") {\n\t\t\tthis.activationThreshold = activationThreshold;\n\t\t\tthis.aboveOrBelow = aboveOrBelow;\n\t\t}\n\n\t\tif (this.type == \"axis\") {\n\t\t}\n\t}\n}\n\nclass ButtonMapping {\n\tconstructor(which, value, isAnalog) {\n\t\tthis.which = which;\n\n\t\tif (typeof which == \"string\") {\n\t\t\tthis.type = \"button\";\n\t\t} else if (typeof which == \"number\") {\n\t\t\tthis.type = \"axis\";\n\t\t\tthis.value = value;\n\t\t\tthis.isAnalog = isAnalog;\n\t\t}\n\t}\n}\n\nclass ButtonState {\n\tconstructor(pressed, value) {\n\t\tthis.pressed = pressed;\n\t\tthis.value = value;\n\t}\n}\n\nexport class VirtualController {\n\tconstructor(gamepadWrapper) {\n\t\tthis.gamepadWrapper = gamepadWrapper;\n\n\t\tthis.cstate = new ControllerState();\n\t\tthis.getState = this.getState.bind(this);\n\n\t\tthis.oldState = {\n\t\t\tbuttons: [],\n\t\t\taxes: [],\n\t\t};\n\n\t\tfor (let i = 0; i < 50; i++) {\n\t\t\tthis.oldState.buttons.push(new ButtonState(0, 0));\n\t\t\tthis.oldState.axes.push(0);\n\t\t}\n\n\t\tthis.changed = false;\n\n\t\tthis.lastChangedButton = null;\n\t\tthis.lastChangedAxis = null;\n\n\t\t// this.gamepadList = [];\n\n\t\tthis.triggerIndexes = [];\n\n\t\tthis.poll = this.poll.bind(this);\n\t\tthis.autoSelectGamepad = this.autoSelectGamepad.bind(this);\n\t\tthis.autoSelectInterval = null;\n\n\t\tthis.settings = {\n\t\t\tcontrollerIndex: null,\n\t\t\tdetectedType: null,\n\n\t\t\taxes: [\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(-1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(-1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t],\n\n\t\t\tmap: {\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew ButtonMapping(\"b\"),\n\t\t\t\t\tnew ButtonMapping(\"a\"),\n\t\t\t\t\tnew ButtonMapping(\"y\"),\n\t\t\t\t\tnew ButtonMapping(\"x\"),\n\t\t\t\t\tnew ButtonMapping(\"l\"),\n\t\t\t\t\tnew ButtonMapping(\"r\"),\n\t\t\t\t\tnew ButtonMapping(\"zl\"),\n\t\t\t\t\tnew ButtonMapping(\"zr\"),\n\t\t\t\t\tnew ButtonMapping(\"minus\"),\n\t\t\t\t\tnew ButtonMapping(\"plus\"),\n\t\t\t\t\tnew ButtonMapping(\"lstick\"),\n\t\t\t\t\tnew ButtonMapping(\"rstick\"),\n\t\t\t\t\tnew ButtonMapping(\"up\"),\n\t\t\t\t\tnew ButtonMapping(\"down\"),\n\t\t\t\t\tnew ButtonMapping(\"left\"),\n\t\t\t\t\tnew ButtonMapping(\"right\"),\n\t\t\t\t\tnew ButtonMapping(\"home\"),\n\t\t\t\t\tnew ButtonMapping(\"capture\"),\n\n\t\t\t\t\t// extra:\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t],\n\n\t\t\t\taxes: [\n\t\t\t\t\tnew AxisMapping(0),\n\t\t\t\t\tnew AxisMapping(1),\n\t\t\t\t\tnew AxisMapping(2),\n\t\t\t\t\tnew AxisMapping(3),\n\t\t\t\t\tnew AxisMapping(4),\n\t\t\t\t\tnew AxisMapping(5),\n\t\t\t\t\tnew AxisMapping(6),\n\t\t\t\t\tnew AxisMapping(7),\n\t\t\t\t\tnew AxisMapping(8),\n\t\t\t\t\tnew AxisMapping(9),\n\t\t\t\t\tnew AxisMapping(10),\n\t\t\t\t\tnew AxisMapping(11),\n\t\t\t\t\tnew AxisMapping(12),\n\t\t\t\t\tnew AxisMapping(13),\n\t\t\t\t\tnew AxisMapping(14),\n\t\t\t\t\tnew AxisMapping(15),\n\t\t\t\t\tnew AxisMapping(16),\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t}\n\n\tdetectControllerType = (id) => {\n\t\t// let reg = /^!(un)?ban ([a-zA-Z0-9]+)$/;\n\t\tlet reg = /^.+ Vendor: (.+) Product: (.+)\\)$/i;\n\t\tlet res = reg.exec(id);\n\n\t\tif (/xbox/i.test(id)) {\n\t\t\treturn \"xbox\";\n\t\t}\n\n\t\tif (res) {\n\t\t\t// DS4:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"09cc\") {\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\n\t\t\t// ?? probably DS4:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"05c4\") {\n\t\t\t\talert(\n\t\t\t\t\t\"if you see this, tell the dev what controller you're using on the discord server\",\n\t\t\t\t);\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\n\t\t\t// PS3 controller:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"0268\") {\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\t\t}\n\n\t\t// PS2 controller:\n\t\tif (/twin/i.test(id)) {\n\t\t\treturn \"DS4\";\n\t\t}\n\n\t\tif (/Pro Controller/i.test(id)) {\n\t\t\treturn \"proController\";\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tautoSelectGamepad() {\n\t\t// only auto select if one hasn't already been selected:\n\t\tif (this.settings.controllerIndex != null) {\n\t\t\tclearInterval(this.autoSelectInterval);\n\t\t\t// return;// removed because we may have changed controllers\n\t\t}\n\n\t\t// auto select an xbox / playstation controller:\n\t\tlet keys = [];\n\t\tfor (let key in this.gamepadWrapper.controllers) {\n\t\t\tlet controller = this.gamepadWrapper.controllers[key];\n\t\t\tkey = parseInt(key);\n\n\t\t\tlet detectedType = this.detectControllerType(controller.id);\n\t\t\tif (detectedType) {\n\t\t\t\tthis.settings.controllerIndex = key;\n\t\t\t\tthis.settings.detectedType = detectedType;\n\t\t\t}\n\t\t\tkeys.push(key);\n\t\t}\n\n\t\t// didn't find a known controller, just pick the first one if there is one:\n\t\tif (this.settings.controllerIndex == null && keys.length > 0) {\n\t\t\tthis.settings.controllerIndex = keys[0];\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.gamepadWrapper.callbacksAfterPoll.push(this.poll);\n\t\tsetTimeout(this.autoSelectGamepad, 2000);\n\t\tthis.autoSelectInterval = setInterval(this.autoSelectGamepad, 10000);\n\t}\n\n\tpoll() {\n\t\tlet controller = this.gamepadWrapper.controllers[this.settings.controllerIndex];\n\n\t\t// console.log(controller);\n\t\t// console.log(this.gamepadWrapper.controllers);\n\t\t// console.log(this.settings.controllerIndex);\n\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet oldState = JSON.stringify(this.cstate.getState());\n\n\t\t// map buttons and axes to VirtualProController:\n\n\t\t// reset buttons:\n\t\tfor (let key in this.cstate.buttons) {\n\t\t\tthis.cstate.buttons[key] = 0;\n\t\t}\n\n\t\t// buttons:\n\t\tfor (let j = 0; j < controller.buttons.length; j++) {\n\t\t\tlet button = controller.buttons[j];\n\t\t\tlet mapping = this.settings.map.buttons[j];\n\n\t\t\tlet oldPressed = this.oldState.buttons[j].pressed;\n\t\t\tlet oldValue = this.oldState.buttons[j].value;\n\t\t\tlet newPressed = button.pressed;\n\t\t\tlet newValue = button.value;\n\t\t\t// if it's changed:\n\t\t\tif (oldPressed != newPressed || oldValue != newValue) {\n\t\t\t\t// console.log(j);\n\t\t\t\tthis.lastChangedButton = j;\n\t\t\t}\n\t\t\tthis.oldState.buttons[j].pressed = button.pressed;\n\t\t\tthis.oldState.buttons[j].value = button.value;\n\n\t\t\tif (j > 50) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet triggerIndex = this.triggerIndexes.indexOf(j);\n\t\t\tif (triggerIndex > -1) {\n\t\t\t\tthis.cstate.axes[4 + triggerIndex] = button.value;\n\t\t\t\t// continue;\n\t\t\t}\n\n\t\t\tif (this.triggerIndexes.length < 2) {\n\t\t\t\t// check if it's a float:\n\t\t\t\tif (button.value % 1 != 0 && this.triggerIndexes.indexOf(j) === -1) {\n\t\t\t\t\tthis.triggerIndexes.push(j);\n\t\t\t\t\tthis.triggerIndexes.sort();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mapping.type === \"button\") {\n\t\t\t\t// this.cstate.buttons[mapping.which] = button.pressed ? 1 : 0;\n\t\t\t\tthis.cstate.buttons[mapping.which] =\n\t\t\t\t\tthis.cstate.buttons[mapping.which] | (button.pressed ? 1 : 0);\n\t\t\t} else if (mapping.type === \"axis\") {\n\t\t\t\tconsole.log(\"something is wrong\");\n\t\t\t\t// TODO:\n\t\t\t\t// this.cstate.axes[mapping.which] = button.pressed ? button.value : 0;\n\t\t\t}\n\t\t}\n\n\t\t// axes:\n\t\tfor (let j = 0; j < controller.axes.length; j++) {\n\t\t\tlet axis = controller.axes[j];\n\t\t\tlet mapping = this.settings.map.axes[j];\n\n\t\t\tlet oldValue = this.oldState.axes[j];\n\t\t\tlet newValue = axis;\n\t\t\t// if it's changed:\n\t\t\tif (oldValue != newValue) {\n\t\t\t\tthis.lastChangedAxis = j;\n\t\t\t}\n\t\t\tthis.oldState.axes[j] = axis;\n\n\t\t\tif (mapping.type == \"axis\") {\n\t\t\t\tlet ax = this.settings.axes[mapping.which];\n\t\t\t\tif (!ax) {\n\t\t\t\t\tconsole.log(\"mapping error?\");\n\t\t\t\t\tconsole.log(this.settings.axes);\n\t\t\t\t\tconsole.log(mapping.which);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet x = axis * ax.sensitivity;\n\t\t\t\t// x = x / 2 + 0.5;\n\t\t\t\t// x *= 255;\n\t\t\t\tthis.cstate.axes[mapping.which] = x + this.settings.axes[mapping.which].offset;\n\t\t\t\tif (\n\t\t\t\t\tMath.abs(restPos - this.cstate.axes[mapping.which]) <\n\t\t\t\t\tthis.settings.axes[mapping.which].deadzone\n\t\t\t\t) {\n\t\t\t\t\tthis.cstate.axes[mapping.which] = restPos;\n\t\t\t\t}\n\t\t\t\t// this.cstate.axes[mapping.which] = axis;\n\t\t\t} else if (mapping.type == \"button\") {\n\t\t\t\tif (mapping.aboveOrBelow) {\n\t\t\t\t\tthis.cstate.buttons[mapping.which] = axis > mapping.activationThreshold ? 1 : 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.cstate.buttons[mapping.which] = axis < mapping.activationThreshold ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet newState = JSON.stringify(this.cstate.getState());\n\t\tif (newState != oldState) {\n\t\t\tthis.changed = true;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn this.cstate.getState();\n\t}\n}\n","// import { mathZoom } from \"libs/tools.js\";\n\nimport { ControllerState, KeyboardState } from \"./DeviceStates.js\";\n\nconst SPECIAL_KEYS = {\n\t8: \"backspace\",\n\t9: \"tab\",\n\t13: \"enter\",\n\t16: \"shift\",\n\t17: \"control\",\n\t18: \"alt\",\n\t20: \"capslock\",// capslock\n\t27: \"escape\",\n\t32: \"space\",\n\t33: \"pageup\",\n\t34: \"pagedown\",\n\t35: \"end\",\n\t36: \"home\",\n\t37: \"left\",\n\t38: \"up\",\n\t39: \"right\",\n\t40: \"down\",\n\t46: \"delete\",\n\t188: \",\",\n\t190: \".\",\n\t191: \"/\",\n\t192: \"`\",\n\t189: \"-\",\n\t187: \"=\",\n\t186: \";\",\n\t222: \"'\",\n\t219: \"[\",\n\t221: \"]\",\n\t220: \"\\\\\",\n};\n\nexport class VirtualKeyboard {\n\tconstructor(keyboardWrapper) {\n\t\tthis.kW = keyboardWrapper;\n\n\t\tthis.changed = false;\n\t\tthis.cstate = new ControllerState();\n\t\tthis.kstate = new KeyboardState();\n\n\t\t// a list of keys to keep track of:\n\t\tthis.keysToTrack = [];\n\n\t\t// function to call when state updates:\n\t\t// this.updateParentState = () => {};\n\n\t\tthis.map = {\n\t\t\tLU: \"W\",\n\t\t\tLD: \"S\",\n\t\t\tLL: \"A\",\n\t\t\tLR: \"D\",\n\t\t\tRU: \"I\",\n\t\t\tRD: \"K\",\n\t\t\tRL: \"J\",\n\t\t\tRR: \"L\",\n\t\t\ta: \"right\",\n\t\t\tb: \"down\",\n\t\t\tx: \"up\",\n\t\t\ty: \"left\",\n\t\t\tup: \"T\",\n\t\t\tdown: \"G\",\n\t\t\tleft: \"F\",\n\t\t\tright: \"H\",\n\t\t\tlstick: \"R\",\n\t\t\trstick: \"Y\",\n\t\t\tl: \"U\",\n\t\t\tzl: \"Q\",\n\t\t\tr: \"O\",\n\t\t\tzr: \"E\",\n\t\t\tminus: \"-\",\n\t\t\tplus: \"=\",\n\t\t\tcapture: \"1\",\n\t\t\thome: \"2\",\n\t\t};\n\n\t\tthis.wasPressedKeyCodes = [];\n\n\t\tthis.settings = {\n\t\t\tenabled: false,\n\t\t\tanalogStickMode: false,\n\t\t\tstickAttack: 0.4,\n\t\t\tstickReturn: 0.3,\n\t\t};\n\n\t\tthis.lastPressedKey = null;\n\n\t\tdocument.addEventListener(\"keydown\", (event) => {\n\t\t\tlet key = event.key;\n\t\t\tif (!key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key.indexOf(\"Arrow\") > -1) {\n\t\t\t\tkey = key.substring(5).toLowerCase();\n\t\t\t}\n\t\t\tthis.lastPressedKey = key;\n\t\t});\n\t}\n\n\t// get controller state:\n\n\tpoll = () => {\n\t\tlet oldControllerState = this.cstate.getState();\n\n\t\tthis.cstate.axes[0] = 0;\n\t\tthis.cstate.axes[1] = 0;\n\t\tif (this.kW.isPressed(this.map.LU)) {\n\t\t\tthis.cstate.axes[1] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.LU, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[1] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LD)) {\n\t\t\tthis.cstate.axes[1] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.LD, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[1] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LL)) {\n\t\t\tthis.cstate.axes[0] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.LL, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[0] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LR)) {\n\t\t\tthis.cstate.axes[0] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.LR, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[0] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.a)) {\n\t\t\tthis.cstate.buttons.a = 1;\n\t\t} else if (this.kW.wasPressed(this.map.a, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.a = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.b)) {\n\t\t\tthis.cstate.buttons.b = 1;\n\t\t} else if (this.kW.wasPressed(this.map.b, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.b = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.x)) {\n\t\t\tthis.cstate.buttons.x = 1;\n\t\t} else if (this.kW.wasPressed(this.map.x, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.x = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.y)) {\n\t\t\tthis.cstate.buttons.y = 1;\n\t\t} else if (this.kW.wasPressed(this.map.y, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.y = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.up)) {\n\t\t\tthis.cstate.buttons.up = 1;\n\t\t} else if (this.kW.wasPressed(this.map.up, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.up = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.down)) {\n\t\t\tthis.cstate.buttons.down = 1;\n\t\t} else if (this.kW.wasPressed(this.map.down, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.down = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.left)) {\n\t\t\tthis.cstate.buttons.left = 1;\n\t\t} else if (this.kW.wasPressed(this.map.left, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.left = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.right)) {\n\t\t\tthis.cstate.buttons.right = 1;\n\t\t} else if (this.kW.wasPressed(this.map.right, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.right = 0;\n\t\t}\n\n\t\tthis.cstate.axes[2] = 0;\n\t\tthis.cstate.axes[3] = 0;\n\t\tif (this.kW.isPressed(this.map.RU)) {\n\t\t\tthis.cstate.axes[3] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.RU, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[3] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RD)) {\n\t\t\tthis.cstate.axes[3] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.RD, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[3] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RL)) {\n\t\t\tthis.cstate.axes[2] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.RL, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[2] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RR)) {\n\t\t\tthis.cstate.axes[2] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.RR, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[2] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.minus)) {\n\t\t\tthis.cstate.buttons.minus = 1;\n\t\t} else if (this.kW.wasPressed(this.map.minus, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.minus = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.plus)) {\n\t\t\tthis.cstate.buttons.plus = 1;\n\t\t} else if (this.kW.wasPressed(this.map.plus, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.plus = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.capture)) {\n\t\t\tthis.cstate.buttons.capture = 1;\n\t\t} else if (this.kW.wasPressed(this.map.capture, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.capture = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.home)) {\n\t\t\tthis.cstate.buttons.home = 1;\n\t\t} else if (this.kW.wasPressed(this.map.home, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.home = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.l)) {\n\t\t\tthis.cstate.buttons.l = 1;\n\t\t} else if (this.kW.wasPressed(this.map.l, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.l = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.r)) {\n\t\t\tthis.cstate.buttons.r = 1;\n\t\t} else if (this.kW.wasPressed(this.map.r, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.r = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.zl)) {\n\t\t\tthis.cstate.buttons.zl = 1;\n\t\t\tthis.cstate.axes[4] = 1;\n\t\t} else if (this.kW.wasPressed(this.map.zl, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.zl = 0;\n\t\t\tthis.cstate.axes[4] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.zr)) {\n\t\t\tthis.cstate.buttons.zr = 1;\n\t\t\tthis.cstate.axes[5] = 1;\n\t\t} else if (this.kW.wasPressed(this.map.zr, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.zr = 0;\n\t\t\tthis.cstate.axes[5] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.lstick)) {\n\t\t\tthis.cstate.buttons.lstick = 1;\n\t\t} else if (this.kW.wasPressed(this.map.lstick, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.lstick = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.rstick)) {\n\t\t\tthis.cstate.buttons.rstick = 1;\n\t\t} else if (this.kW.wasPressed(this.map.rstick, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.rstick = 0;\n\t\t}\n\n\t\tlet newKeycodes = this.kW.getPressedKeyCodes();\n\n\t\tif (JSON.stringify(newKeycodes) != JSON.stringify(this.wasPressedKeyCodes)) {\n\t\t\tthis.changed = true;\n\t\t\tthis.wasPressedKeyCodes = newKeycodes;\n\t\t\tthis.kstate.keys = [];\n\t\t\tfor (let i = 0; i < this.wasPressedKeyCodes.length; i++) {\n\t\t\t\tif (SPECIAL_KEYS[this.wasPressedKeyCodes[i]]) {\n\t\t\t\t\tthis.kstate.keys.push(SPECIAL_KEYS[this.wasPressedKeyCodes[i]]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.kstate.keys.push(String.fromCharCode(this.wasPressedKeyCodes[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.wasPressedKeyCodes = newKeycodes;\n\n\t\tlet newControllerState = this.cstate.getState();\n\n\t\t// reset if nothing changed:\n\t\tif (JSON.stringify(newControllerState) == JSON.stringify(oldControllerState)) {\n\t\t\tthis.cstate.setState(oldControllerState);\n\t\t} else {\n\t\t\tthis.changed = true;\n\t\t}\n\t};\n\n\ttoggle = (state) => {\n\t\tthis.settings.enabled = state;\n\t};\n\n\tinit = () => {\n\t\tthis.kW.init();\n\t};\n\n\tgetControllerState = () => {\n\t\treturn this.cstate.getState();\n\t};\n\n\tgetState = () => {\n\t\treturn this.kstate;\n\t};\n}\n","import { ControllerState, MouseState } from \"./DeviceStates.js\";\r\nimport { AxisSettings } from \"./VirtualController.js\";\r\nconst restPos = 0;\r\n\r\nimport { clamp } from \"shared/libs/utils.js\";\r\n\r\nexport class VirtualMouse {\r\n\tconstructor() {\r\n\t\tthis.canvas = null;\r\n\t\tthis.ctx = null;\r\n\t\tthis.canvasRatio = 1;\r\n\r\n\t\tthis.cstate = new ControllerState();\r\n\t\tthis.mstate = new MouseState();\r\n\r\n\t\tthis.btnMap = {\r\n\t\t\t0: \"left\",\r\n\t\t\t1: \"middle\",\r\n\t\t\t2: \"right\",\r\n\t\t};\r\n\r\n\t\tthis.mouseMoveTimer = null;\r\n\t\tthis.changed = false;\r\n\t\tthis.exception = false;\r\n\t\tthis.inCanvas = false;\r\n\r\n\t\tthis.settings = {\r\n\t\t\tenabled: false,\r\n\t\t\trealMode: false,\r\n\t\t\trelativeMode: false,\r\n\r\n\t\t\taxes: [\r\n\t\t\t\t// new AxisSettings(0.08, 0, 0), // 15\r\n\t\t\t\t// new AxisSettings(0.08, 0, 0),\r\n\t\t\t\tnew AxisSettings(0.0006, 0, 0),\r\n\t\t\t\tnew AxisSettings(0.0006, 0, 0),\r\n\t\t\t\tnew AxisSettings(0.05, 0, 0),\r\n\t\t\t],\r\n\r\n\t\t\tmap: {\r\n\t\t\t\tbuttons: [\"zr\", \"x\", \"zl\"],\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tonPointerLockChange = () => {\r\n\t\tif (document.pointerLockElement == null) {\r\n\t\t\tthis.toggle(false);\r\n\t\t}\r\n\t};\r\n\r\n\tdrawCircle = (x, y) => {\r\n\t\tx = Math.round(x * this.canvas.width);\r\n\t\ty = Math.round(y * this.canvas.height);\r\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.fillStyle = \"#000\";\r\n\t\tthis.ctx.arc(x, y, 6, 0, 2 * Math.PI, true);\r\n\t\tthis.ctx.fill();\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.fillStyle = \"#FFF\";\r\n\t\tthis.ctx.arc(x, y, 4, 0, 2 * Math.PI, true);\r\n\t\tthis.ctx.fill();\r\n\t};\r\n\r\n\tgetMouseInput1 = (event) => {\r\n\t\tif (this.settings.relativeMode) {\r\n\t\t\t// on mouse stop:\r\n\t\t\tclearTimeout(this.mouseMoveTimer);\r\n\t\t\tthis.mouseMoveTimer = setTimeout(() => {\r\n\t\t\t\tthis.changed = true;\r\n\t\t\t\tthis.cstate.axes[2] = restPos;\r\n\t\t\t\tthis.cstate.axes[3] = restPos;\r\n\t\t\t}, 80);\r\n\t\t}\r\n\r\n\t\tif (this.settings.relativeMode) {\r\n\t\t\tlet x = restPos + event.movementX * this.settings.axes[0].sensitivity;\r\n\t\t\tlet y = restPos - event.movementY * this.settings.axes[1].sensitivity;\r\n\t\t\tthis.mstate.dx = clamp(x, -1, 1);\r\n\t\t\tthis.mstate.dy = clamp(y, -1, 1);\r\n\t\t\tthis.cstate.axes[2] = this.mstate.dx;\r\n\t\t\tthis.cstate.axes[3] = this.mstate.dy;\r\n\r\n\t\t\tthis.mstate.x += x;\r\n\t\t\tthis.mstate.y -= y * this.canvasRatio;\r\n\t\t} else {\r\n\t\t\tlet rect = this.canvas.getBoundingClientRect();\r\n\t\t\tlet x = (event.clientX - rect.left) / rect.width;\r\n\t\t\tlet y = (event.clientY - rect.top) / rect.height;\r\n\t\t\tthis.mstate.x = x;\r\n\t\t\tthis.mstate.y = y;\r\n\t\t}\r\n\r\n\t\t// console.log(event);\r\n\t\t// console.log(event.clientX, event.clientY);\r\n\t\t// console.log(event.pageX, event.pageY);\r\n\t\t// console.log(event.x, event.y);\r\n\t\t// console.log(event.screenX, event.screenY);\r\n\t\t// console.log(event.offsetX, event.offsetY);\r\n\t\t// console.log(event.layerX, event.layerY);\r\n\r\n\t\tthis.changed = true;\r\n\r\n\t\tthis.mstate.x = clamp(this.mstate.x, 0, 1);\r\n\t\tthis.mstate.y = clamp(this.mstate.y, 0, 1);\r\n\r\n\t\t// this.drawCircle(this.mstate.x, this.mstate.y);\r\n\r\n\t\t// if (this.mstate.x === 0 || this.mstate.x === 1) {\r\n\t\t// this.exitCanvas();\r\n\t\t// }\r\n\t};\r\n\r\n\tgetMouseInput2 = (event) => {\r\n\t\tthis.changed = true;\r\n\t\tlet pressed = event.type == \"mousedown\" ? 1 : 0;\r\n\t\tthis.cstate.buttons[this.settings.map.buttons[event.which - 1]] = pressed;\r\n\t\tlet which = this.btnMap[event.which - 1];\r\n\t\tthis.mstate.btns[which] = pressed;\r\n\r\n\t\tif (this.inCanvas && which === \"right\" && pressed) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t};\r\n\r\n\tgetMouseInput3 = (event) => {\r\n\t\tthis.changed = true;\r\n\t\tthis.mstate.scroll -= (event.deltaY * this.settings.axes[2].sensitivity);\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tinit = (canvas) => {\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\r\n\t\tthis.canvasRatio = this.canvas.width / this.canvas.height;\r\n\t\twindow.ctx = this.ctx;\r\n\t\twindow.canvas = this.canvas;\r\n\t\tcanvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock;\r\n\t\tdocument.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock;\r\n\t};\r\n\r\n\ttoggle = (state) => {\r\n\t\tif (!this.canvas) {\r\n\t\t\tconsole.log(\"canvas not set!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.settings.enabled = state;\r\n\r\n\t\tif (state) {\r\n\t\t\tif (this.settings.relativeMode) {\r\n\t\t\t\tthis.canvas.requestPointerLock();\r\n\t\t\t\tdocument.addEventListener(\"pointerlockchange\", this.onPointerLockChange, false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.canvas.addEventListener(\"mouseenter\", this.enterCanvas, false);\r\n\t\t\t\tthis.canvas.addEventListener(\"mouseleave\", this.exitCanvas, false);\r\n\t\t\t}\r\n\r\n\t\t\tthis.enterCanvas();\r\n\t\t} else {\r\n\t\t\tthis.exitCanvas();\r\n\r\n\t\t\tclearTimeout(this.mouseMoveTimer);\r\n\t\t\tthis.cstate.axes[2] = restPos;\r\n\t\t\tthis.cstate.axes[3] = restPos;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.settings.enabled = false;\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t};\r\n\r\n\tenterCanvas = () => {\r\n\t\tthis.inCanvas = true;\r\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tif (this.settings.enabled) {\r\n\t\t\tdocument.getElementById(\"picture\").style = \"background: #FF000060\";\r\n\t\t}\r\n\t\tdocument.addEventListener(\"mousemove\", this.getMouseInput1, false);\r\n\t\tdocument.addEventListener(\"mousedown\", this.getMouseInput2, false);\r\n\t\tdocument.addEventListener(\"mouseup\", this.getMouseInput2, false);\r\n\r\n\t\tif (!this.settings.relativeMode) {\r\n\t\t\tthis.canvas.addEventListener(\"wheel\", this.getMouseInput3, { passive: false });\r\n\t\t\tthis.canvas.addEventListener(\"contextmenu\", this.handleContextMenu, false);\r\n\t\t}\r\n\t};\r\n\r\n\texitCanvas = () => {\r\n\t\tthis.inCanvas = false;\r\n\t\tclearTimeout(this.mouseMoveTimer);\r\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tdocument.getElementById(\"picture\").style = \"\";\r\n\t\tdocument.removeEventListener(\"mousemove\", this.getMouseInput1);\r\n\t\tdocument.removeEventListener(\"mousedown\", this.getMouseInput2);\r\n\t\tdocument.removeEventListener(\"mouseup\", this.getMouseInput2);\r\n\r\n\t\tif (!this.settings.relativeMode) {\r\n\t\t\tthis.canvas.removeEventListener(\"wheel\", this.getMouseInput3);\r\n\t\t\tthis.canvas.removeEventListener(\"contextmenu\", this.handleContextMenu);\r\n\t\t} else {\r\n\t\t\tdocument.removeEventListener(\"pointerlockchange\", this.onPointerLockChange);\r\n\t\t\tdocument.exitPointerLock();\r\n\t\t}\r\n\t};\r\n\r\n\thandleContextMenu = (event) => {\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tthis.exitCanvas();\r\n\t};\r\n\r\n\tgetControllerState = () => {\r\n\t\treturn this.cstate.getState();\r\n\t};\r\n\r\n\tgetState = () => {\r\n\t\t// return this.mstate.getState();\r\n\t\tif (this.mstate.scroll !== 0) {\r\n\t\t\tthis.exception = true;\r\n\t\t} else {\r\n\t\t\tthis.exception = false;\r\n\t\t}\r\n\t\tthis.mstate.dScroll = this.mstate.scroll;\r\n\t\tthis.mstate.scroll = 0;\r\n\t\treturn this.mstate;\r\n\t};\r\n}\r\n","import { ControllerState, TouchState } from \"./DeviceStates.js\";\r\n\r\nexport class VirtualTouchpad {\r\n\tconstructor(touchWrapper) {\r\n\t\tthis.touchWrapper = touchWrapper;\r\n\r\n\t\tthis.changed = false;\r\n\t\tthis.cstate = new ControllerState();\r\n\t\tthis.tstate = new TouchState();\r\n\t}\r\n\r\n\t// get controller state:\r\n\r\n\tpoll = () => {\r\n\t\tlet oldControllerState = this.cstate.getState();\r\n\r\n\t\tthis.cstate.buttons.a = this.touchWrapper.activeTargets.a ? 1 : 0;\r\n\t\tthis.cstate.buttons.b = this.touchWrapper.activeTargets.b ? 1 : 0;\r\n\t\tthis.cstate.buttons.x = this.touchWrapper.activeTargets.x ? 1 : 0;\r\n\t\tthis.cstate.buttons.y = this.touchWrapper.activeTargets.y ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.up = this.touchWrapper.activeTargets.up ? 1 : 0;\r\n\t\tthis.cstate.buttons.down = this.touchWrapper.activeTargets.down ? 1 : 0;\r\n\t\tthis.cstate.buttons.left = this.touchWrapper.activeTargets.left ? 1 : 0;\r\n\t\tthis.cstate.buttons.right = this.touchWrapper.activeTargets.right ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.l = this.touchWrapper.activeTargets.l ? 1 : 0;\r\n\t\tthis.cstate.buttons.zl = this.touchWrapper.activeTargets.zl ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.r = this.touchWrapper.activeTargets.r ? 1 : 0;\r\n\t\tthis.cstate.buttons.zr = this.touchWrapper.activeTargets.zr ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.capture = this.touchWrapper.activeTargets.capture ? 1 : 0;\r\n\t\tthis.cstate.buttons.home = this.touchWrapper.activeTargets.home ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.minus = this.touchWrapper.activeTargets.minus ? 1 : 0;\r\n\t\tthis.cstate.buttons.plus = this.touchWrapper.activeTargets.plus ? 1 : 0;\r\n\r\n\t\tthis.cstate.axes[0] = this.touchWrapper.sticks.lx;\r\n\t\tthis.cstate.axes[1] = this.touchWrapper.sticks.ly;\r\n\t\tthis.cstate.axes[2] = this.touchWrapper.sticks.rx;\r\n\t\tthis.cstate.axes[3] = this.touchWrapper.sticks.ry;\r\n\r\n\t\tlet newControllerState = this.cstate.getState();\r\n\t\t// reset if nothing changed:\r\n\t\tif (JSON.stringify(newControllerState) == JSON.stringify(oldControllerState)) {\r\n\t\t\tthis.cstate.setState(oldControllerState);\r\n\t\t} else {\r\n\t\t\tthis.changed = true;\r\n\t\t}\r\n\t};\r\n\r\n\tgetControllerState = () => {\r\n\t\treturn this.cstate.getState();\r\n\t};\r\n\r\n\tgetState = () => {\r\n\t\t// return this.tstate;\r\n\t};\r\n}\r\n","export function getCookie(name) {\r\n\tlet dc = document.cookie;\r\n\tlet prefix = name + \"=\";\r\n\tlet begin = dc.indexOf(\"; \" + prefix);\r\n\tlet end;\r\n\tif (begin == -1) {\r\n\t\tbegin = dc.indexOf(prefix);\r\n\t\tif (begin !== 0) return null;\r\n\t} else {\r\n\t\tbegin += 2;\r\n\t\tend = document.cookie.indexOf(\";\", begin);\r\n\t\tif (end == -1) {\r\n\t\t\tend = dc.length;\r\n\t\t}\r\n\t}\r\n\t// because unescape has been deprecated, replaced with decodeURI\r\n\t//return unescape(dc.substring(begin + prefix.length, end));\r\n\treturn decodeURI(dc.substring(begin + prefix.length, end));\r\n}\r\n\r\nexport function setCookie(name, value, seconds) {\r\n\tlet expires = \"\";\r\n\tif (seconds) {\r\n\t\tlet date = new Date();\r\n\t\tdate.setTime(date.getTime() + seconds * 1000);\r\n\t\texpires = \"; expires=\" + date.toUTCString();\r\n\t}\r\n\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n}\r\n\r\nexport function clamp(n, min, max) {\r\n\treturn Math.min(Math.max(n, min), max);\r\n}\r\n\r\nexport function round(value, precision) {\r\n\tlet multiplier = Math.pow(10, precision || 0);\r\n\treturn Math.round(value * multiplier) / multiplier;\r\n}\r\n\r\nexport function msToTime(duration) {\r\n\t// \tvar milliseconds = parseInt((duration % 1000) / 100);\r\n\tlet milliseconds = parseInt((((duration / 1000) % 60) % 1) * 1000);\r\n\tlet seconds = parseInt((duration / 1000) % 60);\r\n\tlet minutes = parseInt((duration / (1000 * 60)) % 60);\r\n\tlet hours = parseInt((duration / (1000 * 60 * 60)) % 24);\r\n\thours = hours < 10 ? \"0\" + hours : hours;\r\n\tif (hours.length == 2 || (hours.length == 3 && hours[0] == \"0\")) {\r\n\t\thours = hours.substr(1);\r\n\t}\r\n\tminutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n\tif (minutes.length == 3 || minutes.length == 4) {\r\n\t\tminutes = minutes.substr(1);\r\n\t}\r\n\tseconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\tif (seconds.length == 3 || seconds.length == 4) {\r\n\t\tseconds = seconds.substr(1);\r\n\t}\r\n\t//seconds = seconds.replaceAll(\"-\", \"\");\r\n\tif (seconds.length < 2) {\r\n\t\tseconds = \"0\" + seconds;\r\n\t}\r\n\tlet time = hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\r\n\ttime = time.replaceAll(\"-\", \"\"); // remove negative signs\r\n\treturn time;\r\n}\r\n\r\nexport function toggleFullscreen(elem) {\r\n\t// ## The below if statement seems to work better ## if ((document.fullScreenElement && document.fullScreenElement !== null) || (document.msfullscreenElement && document.msfullscreenElement !== null) || (!document.mozFullScreen && !document.webkitIsFullScreen)) {\r\n\tif (\r\n\t\t(document.fullScreenElement !== undefined && document.fullScreenElement === null) ||\r\n\t\t(document.msFullscreenElement !== undefined &&\r\n\t\t\tdocument.msFullscreenElement === null) ||\r\n\t\t(document.mozFullScreen !== undefined && !document.mozFullScreen) ||\r\n\t\t(document.webkitIsFullScreen !== undefined && !document.webkitIsFullScreen)\r\n\t) {\r\n\t\tif (elem.requestFullScreen) {\r\n\t\t\telem.requestFullScreen();\r\n\t\t} else if (elem.mozRequestFullScreen) {\r\n\t\t\telem.mozRequestFullScreen();\r\n\t\t} else if (elem.webkitRequestFullScreen) {\r\n\t\t\telem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\r\n\t\t} else if (elem.msRequestFullscreen) {\r\n\t\t\telem.msRequestFullscreen();\r\n\t\t}\r\n\t} else {\r\n\t\tif (document.cancelFullScreen) {\r\n\t\t\tdocument.cancelFullScreen();\r\n\t\t} else if (document.mozCancelFullScreen) {\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\t} else if (document.webkitCancelFullScreen) {\r\n\t\t\tdocument.webkitCancelFullScreen();\r\n\t\t} else if (document.msExitFullscreen) {\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setToPercentParent(elem, percent) {\r\n\t$(elem).height(0);\r\n\tlet parentHeight = $(elem)\r\n\t\t.parent()\r\n\t\t.height();\r\n\tlet newHeight = (percent / 100) * parentHeight;\r\n\t$(elem).height(newHeight);\r\n}\r\n\r\n// like sleep, but worse:\r\nexport function wait(ms) {\r\n\tvar start = new Date().getTime();\r\n\tvar end = start;\r\n\twhile (end < start + ms) {\r\n\t\tend = new Date().getTime();\r\n\t}\r\n}\r\n\r\n// brings number closer to target by accel\r\nexport function mathZoom(current, target, accel) {\r\n\tif (current == target) {\r\n\t\treturn current;\r\n\t}\r\n\tif (Math.abs(current - target) < accel) {\r\n\t\treturn target;\r\n\t}\r\n\tif (current < target) {\r\n\t\treturn current + accel;\r\n\t} else {\r\n\t\treturn current - accel;\r\n\t}\r\n}\r\n\r\nexport function normalizeVector(vector, scale) {\r\n\tlet norm = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\r\n\tif (norm !== 0) {\r\n\t\tvector.x = (scale * vector.x) / norm;\r\n\t\tvector.y = (scale * vector.y) / norm;\r\n\t}\r\n\treturn vector;\r\n}\r\n\r\nexport function abs(n) {\r\n\treturn Math.abs(n);\r\n}\r\n\r\n// delete all cookies:\r\nexport function deleteAllCookies() {\r\n\tlet cookies = document.cookie.split(\";\");\r\n\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\tlet cookie = cookies[i];\r\n\t\tlet eqPos = cookie.indexOf(\"=\");\r\n\t\tlet name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n\t\tdocument.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n\t}\r\n}\r\n\r\nexport function fixedLengthString(string, pad, length) {\r\n\tstring = string + \"\";\r\n\twhile (string.length < length) {\r\n\t\tstring = pad + string;\r\n\t}\r\n\treturn string;\r\n}\r\n\r\nexport function getStickString(num) {\r\n\t// round to nearest tenth:\r\n\tnum = (Math.round((num + 1) * 10) / 10).toFixed(2);\r\n\tlet n = num * 10;\r\n\tif (n == 0) {\r\n\t\treturn \"900\";\r\n\t}\r\n\tif (n == 10) {\r\n\t\treturn \"090\";\r\n\t}\r\n\tif (n == 20) {\r\n\t\treturn \"009\";\r\n\t}\r\n\tif (n < 10) {\r\n\t\tn = 10 - n;\r\n\t\tn = 90 + 90 * n;\r\n\t} else {\r\n\t\tn = (20 - n) * 9;\r\n\t}\r\n\treturn String(n).padStart(3, \"0\");\r\n}\r\n\r\nexport function getAverage(array) {\r\n\treturn array.reduce((a, b) => a + b) / array.length;\r\n}\r\n\r\nexport function pick(...props) {\r\n\treturn (o) => props.reduce((a, e) => ({ ...a, [e]: o[e] }), {});\r\n}\r\n\r\nexport function interpolateColor(color1, color2, factor) {\r\n\tif (arguments.length < 3) {\r\n\t\tfactor = 0.5;\r\n\t}\r\n\tlet result = color1.slice();\r\n\tfor (let i = 0; i < 3; i++) {\r\n\t\tresult[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function interpolateColors(color1, color2, steps) {\r\n\tlet stepFactor = 1 / (steps - 1),\r\n\t\tinterpolatedColorArray = [];\r\n\r\n\tcolor1 = color1.match(/\\d+/g).map(Number);\r\n\tcolor2 = color2.match(/\\d+/g).map(Number);\r\n\r\n\tfor (let i = 0; i < steps; i++) {\r\n\t\tinterpolatedColorArray.push(interpolateColor(color1, color2, stepFactor * i));\r\n\t}\r\n\r\n\treturn interpolatedColorArray;\r\n}\r\n\r\nconst size = {\r\n\tmobile: \"600px\",\r\n\ttablet: \"768px\",\r\n\tlaptop: \"1024px\",\r\n\tdesktop: \"1440px\",\r\n};\r\n\r\nexport const device = {\r\n\tmobile: `@media (min-width: ${size.mobile})`,\r\n\ttablet: `@media (min-width: ${size.tablet})`,\r\n\tlaptop: `@media (min-width: ${size.laptop})`,\r\n\tdesktop: `@media (min-width: ${size.desktop})`,\r\n};\r\n","import { takeEvery } from \"redux-saga/effects\";\r\nimport { sendMessage } from \"shared/features/chat.js\";\r\n\r\nconst handleChatActions = (params) => {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(sendMessage, (action) => {\r\n\t\t\tparams.socket.emit(\"chatMessage\", { text: action.payload.text });\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handleChatActions;\r\n","import { takeEvery } from \"redux-saga/effects\";\r\nimport { login, register, authenticate } from \"shared/features/client.js\";\r\n\r\nconst handleClientActions = (params) => {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(login, (action) => {\r\n\t\t\tparams.socket.emit(\r\n\t\t\t\t\"login\",\r\n\t\t\t\t{ ...action.payload, socketid: params.socket.id },\r\n\t\t\t\t(data) => {\r\n\t\t\t\t\tif (action.payload.cb) {\r\n\t\t\t\t\t\taction.payload.cb(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t}),\r\n\t);\r\n\tlist.push(\r\n\t\ttakeEvery(register, (action) => {\r\n\t\t\tparams.socket.emit(\"register\", { ...action.payload }, (data) => {\r\n\t\t\t\tif (action.payload.cb) {\r\n\t\t\t\t\taction.payload.cb(data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}),\r\n\t);\r\n\tlist.push(\r\n\t\ttakeEvery(authenticate, (action) => {\r\n\t\t\tparams.socket.emit(\"authenticate\", { authToken: action.payload.authToken });\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handleClientActions;\r\n","import { updateClient } from \"shared/features/client.js\";\n\n// libs:\nimport localforage from \"localforage\";\nimport Cookie from \"js-cookie\";\n\nfunction getAccountInfo(socket, dispatch) {\n\tlet authToken = Cookie.get(\"RemoteGames\");\n\tif (authToken) {\n\t\tsocket.emit(\n\t\t\t\"getAccountInfo\",\n\t\t\t{\n\t\t\t\tauthToken: authToken,\n\t\t\t\tusernameIndex: 0,\n\t\t\t},\n\t\t\t(data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tif (data.success) {\n\t\t\t\t\tdispatch(\n\t\t\t\t\t\tupdateClient({\n\t\t\t\t\t\t\t...data.clientInfo,\n\t\t\t\t\t\t\tauthToken: authToken,\n\t\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(`AUTHENTICATION_FAILURE: ${data.reason}`);\n\t\t\t\t\t// remove the authToken if it doesn't work:\n\t\t\t\t\tif (data.reason === \"ACCOUNT_NOT_FOUND\") {\n\t\t\t\t\t\tCookie.remove(\"RemoteGames\");\n\t\t\t\t\t\tdispatch(updateClient({ authToken: null }));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t}\n}\n\n// listen to events w/ given socket and dispatch actions accordingly:\nconst clientEvents = (socket, dispatch) => {\n\t/* getAccountInfo */\n\tgetAccountInfo(socket, dispatch);\n\n\tsocket.on(\"banned\", (data) => {\n\t\tlocalforage.setItem(\"banned\", \"banned\");\n\t});\n\n\tsocket.on(\"disconnect\", (data) => {\n\t\tconsole.log(\"lost connection (account)\");\n\t\t// dispatch(updateClient({ hostAuthed: false }));\n\t});\n\n\tsocket.on(\"connect\", (data) => {\n\t\tconsole.log(\"connected (account)\");\n\t\t// authenticate(socket, dispatch);\n\t});\n\n\t// // reconnect:\n\t// socket.on(\"disconnect\", (data) => {\n\t// \tconsole.log(\"lost connection, attempting reconnect1.\");\n\t// \tsocket.connect();\n\t// \t// re-authenticate if the connection was successful\n\t// \tsetTimeout(() => {\n\t// \t\tif (socket.connected) {\n\t// \t\t\tauthenticate(socket, dispatch);\n\t// \t\t}\n\t// \t}, 1000);\n\t// });\n\t//\n\t// // todo: make this not necessary\n\t// setInterval(() => {\n\t// \tif (socket.connected) {\n\t// \t\tauthenticate(socket, dispatch);\n\t// \t}\n\t// }, 120000); // 2 minutes\n\n\treturn socket;\n};\n\nexport default clientEvents;\n","// combine socket event handlers into one socket:\r\n\r\nimport clientEvents from \"./client.js\";\r\n// import accountMapEvents from \"./accountMap.js\";\r\n\r\n// import settingsEvents from \"./settings.js\";\r\n\r\nconst handleEvents = (socket, dispatch) => {\r\n\tsocket = clientEvents(socket, dispatch);\r\n\t// socket = accountMapEvents(socket, dispatch);\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default handleEvents;\r\n","import { receiveAccountMap } from \"src/actions/accountMap.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst accountMapEvents = (socket, dispatch) => {\r\n\tsocket.on(\"accountMap\", (data) => {\r\n\t\tdispatch(receiveAccountMap(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default accountMapEvents;\r\n","import { receiveMessage } from \"shared/features/chat.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst chatSocketEvents = (socket, dispatch) => {\r\n\r\n\tsocket.on(\"chatMessage\", (data) => {\r\n\t\tdispatch(receiveMessage(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default chatSocketEvents;\r\n","import { updateClient } from \"shared/features/client.js\";\r\nimport { updateStreamInfo } from \"src/actions/info.js\";\r\n\r\n// libs:\r\nimport localforage from \"localforage\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nfunction authenticate(socket, dispatch) {\r\n\tlet authToken = Cookie.get(\"RemoteGames\");\r\n\tif (authToken) {\r\n\t\tsocket.emit(\r\n\t\t\t\"authenticate\",\r\n\t\t\t{\r\n\t\t\t\tauthToken: authToken,\r\n\t\t\t\tusernameIndex: 0,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tupdateClient({\r\n\t\t\t\t\t\t\t...data.clientInfo,\r\n\t\t\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\t\t\tloggedIn: true,\r\n\t\t\t\t\t\t\thostAuthed: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`AUTHENTICATION_FAILURE: ${data.reason}`);\r\n\t\t\t\t\t// remove the authToken if it doesn't work:\r\n\t\t\t\t\tif (data.reason === \"ACCOUNT_NOT_FOUND\") {\r\n\t\t\t\t\t\tCookie.remove(\"RemoteGames\");\r\n\t\t\t\t\t\tdispatch(updateClient({ authToken: null }));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t} else {\r\n\t\tsocket.emit(\r\n\t\t\t\"authenticate\",\r\n\t\t\t{\r\n\t\t\t\tauthToken: null,\r\n\t\t\t\tusernameIndex: 0,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tupdateClient({\r\n\t\t\t\t\t\t\t...data.clientInfo,\r\n\t\t\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\t\t\tloggedIn: false,\r\n\t\t\t\t\t\t\thostAuthed: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`AUTHENTICATION_FAILURE_IMPOSSIBLE?: ${data.reason}`);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst clientEvents = (socket, dispatch) => {\r\n\t/* AUTHENTICATION */\r\n\tauthenticate(socket, dispatch);\r\n\r\n\tsocket.on(\"banned\", (data) => {\r\n\t\tlocalforage.setItem(\"banned\", \"banned\");\r\n\t});\r\n\r\n\tsocket.on(\"disconnect\", (data) => {\r\n\t\tconsole.log(\"lost connection (host)\");\r\n\t\tdispatch(updateClient({ hostAuthed: false }));\r\n\t\tdispatch(updateStreamInfo({ online: false }));\r\n\t});\r\n\r\n\tsocket.on(\"connect\", (data) => {\r\n\t\tconsole.log(\"connected (host)\");\r\n\t\t// dispatch(updateStreamInfo({ online: true }));\r\n\t\tauthenticate(socket, dispatch);\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default clientEvents;\r\n","// combine socket event handlers into one socket:\r\nimport chatSocketEvents from \"./chat.js\";\r\nimport playersEvents from \"./players.js\";\r\nimport timeEvents from \"./time.js\";\r\nimport accountMapEvents from \"./accountMap.js\";\r\nimport clientEvents from \"./client.js\";\r\n\r\nconst handleEvents = (socket, dispatch) => {\r\n\tsocket = chatSocketEvents(socket, dispatch);\r\n\tsocket = playersEvents(socket, dispatch);\r\n\tsocket = timeEvents(socket, dispatch);\r\n\tsocket = accountMapEvents(socket, dispatch);\r\n\tsocket = clientEvents(socket, dispatch);\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default handleEvents;\r\n","import {\r\n\tupdatePlayerControlQueues,\r\n\tupdatePlayerTurnStartTimes,\r\n\tupdatePlayerTurnLengths,\r\n\tupdatePlayerControllerState,\r\n} from \"src/features/players.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst playersEvents = (socket, dispatch) => {\r\n\tsocket.on(\"controlQueues\", (data) => {\r\n\t\tdispatch(updatePlayerControlQueues({ queues: data }));\r\n\t});\r\n\r\n\tsocket.on(\"turnStartTimes\", (data) => {\r\n\t\tdispatch(updatePlayerTurnStartTimes(data));\r\n\t});\r\n\r\n\tsocket.on(\"turnLengths\", (data) => {\r\n\t\tdispatch(updatePlayerTurnLengths(data));\r\n\t});\r\n\r\n\tsocket.on(\"controllerState\", (data) => {\r\n\t\tdispatch(updatePlayerControllerState(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default playersEvents;\r\n","import { updateServerTime, updatePing } from \"shared/features/time.js\";\n\n// listen to events w/ given socket and dispatch actions accordingly:\nconst timeEvents = (socket, dispatch) => {\n\tsocket.on(\"serverTime\", (data) => {\n\t\tdispatch(updateServerTime({ time: data }));\n\t});\n\n\t/* PING @@@@@@@@@@@@@@@@@@@@@@@@@@@@ */\n\tlet ping = 0;\n\tlet avgSize = 5;\n\tsetInterval(() => {\n\t\tsocket.emit(\"ping2\", Date.now(), (startTime) => {\n\t\t\tlet latency = Date.now() - startTime;\n\t\t\tping = (ping * (avgSize - 1) + latency) / avgSize;\n\t\t\tdispatch(updatePing({ time: Math.round(ping) }));\n\t\t});\n\t}, 1000);\n\n\treturn socket;\n};\n\nexport default timeEvents;\n","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}