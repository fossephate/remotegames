{"version":3,"sources":["webpack:///./src/components/general/PopoverMenu.jsx","webpack:///./src/shared/components/account/Username.jsx","webpack:///./src/shared/components/chat/Chat.jsx","webpack:///./src/shared/components/chat/Message.jsx","webpack:///./src/shared/components/chat/MessageList.jsx","webpack:///./src/shared/components/chat/SendMessageForm.jsx","webpack:///./src/shared/components/icons/Badge.jsx"],"names":["PopoverMenu","props","open","anchorEl","onClose","vertical","horizontal","padding","styles","theme","root","Username","PureComponent","constructor","state","popoverOpen","ref","React","createRef","handleOpenPopover","bind","handleClosePopover","setState","render","style","children","mapStateToProps","compose","withStyles","connect","gridArea","display","flexDirection","justifyContent","height","position","device","tablet","laptop","Chat","classes","hide","flex","flexWrap","backgroundColor","isBanned","wordBreak","margin","fontSize","borderRadius","links","color","user","cursor","pad","t","s","length","getTimeStamp","time","Date","hours","getHours","getMinutes","ping","text","Message","username","userid","isReplay","isLastMessage","accountMap","mention","myUsername","indexOf","isDev","icons","account","push","roles","host","mod","plus","sub","Children","toArray","onClick","className","stream","client","overflowY","boxShadow","palette","type","primary","dark","light","secondary","top","left","bottom","right","MessageList","Component","messagesEnd","rootRef","shouldScroll","handleClick","voting","event","getSnapshotBeforeUpdate","prevProps","prevState","messages","messageList","document","getElementById","Math","abs","scrollHeight","scrollTop","offsetHeight","componentDidUpdate","snapshot","mapMessages","i","isMod","shouldComponentUpdate","nextProps","nextState","message","test","setTimeout","el","float","clear","sendMessage","width","close","chat","mapDispatchToProps","dispatch","Loading","data","alignItems","minHeight","paddingLeft","paddingRight","messageBox","resize","outlineOffset","outline","messageBoxContainer","zIndex","lineHeight","marginRight","textField","overflow","container","background","marginTop","listStyle","paper","action","selected","suggestion","SendMessageForm","handleKeyPress","handleTextChange","getEmojiSuggestions","getUsernameSuggestions","getCommandSuggestions","renderNameSuggestion","renderCharSuggestion","rta","commands","key","preventDefault","target","value","token","emoji","slice","map","name","char","suggestions","toLowerCase","command","obj","entity","classNames","component","TextField","dataProvider","output","item","caretPosition","marginLeft","border","verticalAlign","Badge","src","window","location","origin"],"mappings":"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","file":"10.bundle.js","sourcesContent":["// react:\r\nimport React from \"react\";\r\n\r\nimport { Paper, Button, Popover } from \"@material-ui/core\";\r\n\r\nconst PopoverMenu = (props) => (\r\n\t<Popover\r\n\t\topen={props.open}\r\n\t\tanchorEl={props.anchorEl}\r\n\t\tonClose={props.onClose}\r\n\t\tanchorOrigin={{\r\n\t\t\tvertical: \"bottom\",\r\n\t\t\thorizontal: \"center\",\r\n\t\t}}\r\n\t\ttransformOrigin={{\r\n\t\t\tvertical: \"top\",\r\n\t\t\thorizontal: \"center\",\r\n\t\t}}\r\n\t>\r\n\t\t<Paper elevation={4} style={{ padding: \"10px\" }}>\r\n\t\t\t{/* <Button variant=\"contained\" color=\"primary\">View Profile</Button> */}\r\n\t\t\t<Button variant=\"contained\" color=\"primary\">\r\n\t\t\t\tView Profile\r\n\t\t\t</Button>\r\n\t\t\t<Button variant=\"contained\" color=\"secondary\">\r\n\t\t\t\tBan\r\n\t\t\t</Button>\r\n\t\t\t<Button variant=\"contained\" color=\"primary\">\r\n\t\t\t\tKick from Queue\r\n\t\t\t</Button>\r\n\t\t</Paper>\r\n\t</Popover>\r\n);\r\n\r\nexport default PopoverMenu;\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// components:\r\nimport PopoverMenu from \"src/components/general/PopoverMenu.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {},\r\n});\r\n\r\nclass Username extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpopoverOpen: false,\r\n\t\t};\r\n\r\n\t\tthis.ref = React.createRef();\r\n\r\n\t\tthis.handleOpenPopover = this.handleOpenPopover.bind(this);\r\n\t\tthis.handleClosePopover = this.handleClosePopover.bind(this);\r\n\t}\r\n\r\n\thandleOpenPopover() {\r\n\t\tthis.setState({ popoverOpen: true });\r\n\t}\r\n\r\n\thandleClosePopover() {\r\n\t\tthis.setState({ popoverOpen: false });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={this.props.style}\r\n\t\t\t\t\tonClick={this.handleOpenPopover}\r\n\t\t\t\t\tref={(ref) => {\r\n\t\t\t\t\t\tthis.ref = ref;\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</div>\r\n\t\t\t\t<PopoverMenu\r\n\t\t\t\t\topen={this.state.popoverOpen}\r\n\t\t\t\t\tonClose={this.handleClosePopover}\r\n\t\t\t\t\tanchorEl={this.ref}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps))(Username);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\nimport MessageList from \"./MessageList.jsx\";\r\nimport SendMessageForm from \"./SendMessageForm.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tgridArea: \"chat\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\t// flex: \"1\",\r\n\t\tpadding: \"5px\",\r\n\t\theight: \"300px\",\r\n\t\t// new:\r\n\t\tposition: \"relative\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\theight: \"unset\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {\r\n\t\t\t// position: \"\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// padding: \"5px\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\n// @withStyles(styles)\r\nclass Chat extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.props.hide) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"chat\" className={classes.root}>\r\n\t\t\t\t<MessageList />\r\n\t\t\t\t<div style={{ flex: 1 }} />\r\n\t\t\t\t<SendMessageForm />\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(Chat);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\nimport Linkify from \"react-linkify\";\n\n// components:\nimport Badge from \"shared/components/icons/Badge.jsx\";\nimport Username from \"shared/components/account/Username.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// libs:\n\nconst styles = (props) => ({\n\troot: {\n\t\t// display: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\tbackgroundColor: props.isBanned ? \"#d34c4ca4\" : null,\n\t\twordBreak: \"break-word\",\n\t\tmargin: \"5px 5px\",\n\t\tpadding: \"5px 10px\",\n\t\tfontSize: \"14px !important\",\n\t\t// color: theme.palette.primary.contrastText,\n\t\tborderRadius: \"5px\",\n\t},\n\tlinks: {\n\t\t// todo: use primary / secondary based on which it should be:\n\t\t// color: theme.palette.primary.contrastText,\n\t\t// color: \"#1a0dab\",\n\t\tcolor: \"#0000ee\",\n\t},\n\tuser: {\n\t\tdisplay: \"inline-flex\",\n\t\tmargin: \"0px 2px\",\n\t\tpadding: \"2px 5px\",\n\t\tcursor: \"pointer\",\n\t},\n});\n\nfunction pad(t) {\n\tlet s = \"\" + t;\n\twhile (s.length < 2) {\n\t\ts = \"0\" + s;\n\t}\n\treturn s;\n}\n\nfunction getTimeStamp(t) {\n\tlet time = new Date(t);\n\tlet hours = time.getHours();\n\thours = hours > 12 ? hours - 12 : hours;\n\tlet s = hours + \":\" + pad(time.getMinutes()) + \" \";\n\treturn s;\n}\n\nfunction ping(text, time) {\n\t// new Noty({\n\t// \ttheme: \"mint\",\n\t// \ttype: \"warning\",\n\t// \ttext: text,\n\t// \ttimeout: time,\n\t// \tsounds: {\n\t// \t\tvolume: 0.5,\n\t// \t\tsources: [\"https://remotegames.io/sounds/ding.wav\"],\n\t// \t\tconditions: [\"docVisible\"],\n\t// \t},\n\t// }).show();\n}\n\n// class Message extends PureComponent {\nclass Message extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet {\n\t\t\tclasses,\n\t\t\ttext,\n\t\t\tusername,\n\t\t\tuserid,\n\t\t\ttime,\n\t\t\tisReplay,\n\t\t\tisLastMessage,\n\t\t\taccountMap,\n\t\t} = this.props;\n\n\t\tif (!isReplay && isLastMessage) {\n\t\t\tlet mention = \"@\" + this.props.myUsername;\n\t\t\tif (text.indexOf(mention) > -1) {\n\t\t\t\tping(\"You've been pinged!\", 500);\n\t\t\t}\n\t\t}\n\n\t\tlet isDev = false;\n\t\tif (\n\t\t\tusername == \"fosse\" ||\n\t\t\tusername == \"remotegames\" ||\n\t\t\tusername == \"fossephate\" ||\n\t\t\tusername == \"fosse#0430\"\n\t\t) {\n\t\t\tisDev = true;\n\t\t}\n\n\t\tlet icons = [];\n\n\t\tlet account = accountMap[userid];\n\t\tif (account) {\n\t\t\tif (isDev) {\n\t\t\t\ticons.push(<Badge type=\"dev\" />);\n\t\t\t} else if (account.roles.host) {\n\t\t\t\ticons.push(<Badge type=\"host\" />);\n\t\t\t} else if (account.roles.mod) {\n\t\t\t\ticons.push(<Badge type=\"mod\" />);\n\t\t\t} else if (account.roles.plus) {\n\t\t\t\ticons.push(<Badge type=\"plus\" />);\n\t\t\t}\n\t\t\tif (account.roles.sub) {\n\t\t\t\ticons.push(<Badge type=\"sub1\" />);\n\t\t\t}\n\n\t\t\tif (account.roles.mod && !isReplay && isLastMessage) {\n\t\t\t\tif (text.indexOf(\"@everyone\") > -1) {\n\t\t\t\t\tping(\"You've been pinged!\", 500);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ticons = React.Children.toArray(icons);\n\n\t\treturn (\n\t\t\t<div className={classes.root} userid={userid} onClick={this.props.onClick}>\n\t\t\t\t<Linkify properties={{ className: classes.links }}>\n\t\t\t\t\t{getTimeStamp(time)}\n\t\t\t\t\t{icons}\n\t\t\t\t\t{icons.length == 0 ? \" \" : null}\n\t\t\t\t\t<Username userid={userid} style={{ display: \"inline\" }}>\n\t\t\t\t\t\t<Paper elevation={4} className={classes.user}>\n\t\t\t\t\t\t\t{username}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Username>{\" \"}\n\t\t\t\t\t<span>{text}</span>\n\t\t\t\t</Linkify>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\taccountMap: state.stream.accountMap,\n\t\tmyUsername: state.client.username,\n\t};\n};\n\nexport default compose(withStyles(styles), connect(mapStateToProps))(Message);\n","// react:\nimport React, { Component } from \"react\";\n\n// components:\nimport Message from \"./Message.jsx\";\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper, Snackbar, IconButton, Button } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// redux:\nimport { connect } from \"react-redux\";\nimport { sendMessage } from \"src/actions/chat.js\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// jss:\n\nconst styles = (theme) => ({\n\troot: {\n\t\toverflowY: \"auto\",\n\t\t// marginBottom: \"15px\",\n\t\tboxShadow: \"none\",\n\t\t\"& > div:nth-child(even)\": {\n\t\t\t// backgroundColor: \"#FF3C28A4\",\n\t\t\t// backgroundColor: theme.palette.type === \"dark\" ? theme.palette.primary.dark : theme.palette.primary.light,\n\t\t\tcolor: theme.palette.type === \"dark\" ? \"#FFF\" : \"#000\",\n\t\t\tbackgroundColor:\n\t\t\t\ttheme.palette.type === \"dark\"\n\t\t\t\t\t? theme.palette.primary.dark\n\t\t\t\t\t: theme.palette.primary.light,\n\t\t},\n\t\t\"& > div:nth-child(odd)\": {\n\t\t\t// backgroundColor: \"#0AB9E6A4\",\n\t\t\t// backgroundColor: \"#2d2d2dA4\",\n\t\t\t// backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.dark : theme.palette.secondary.light,\n\t\t\tcolor: theme.palette.type === \"dark\" ? \"#FFF\" : \"#000\",\n\t\t\tbackgroundColor:\n\t\t\t\ttheme.palette.type === \"dark\"\n\t\t\t\t\t? theme.palette.secondary.dark\n\t\t\t\t\t: theme.palette.secondary.light,\n\t\t},\n\t\tposition: \"absolute\",\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tbottom: 0,\n\t\tright: 0,\n\t\theight: \"82%\",\n\t},\n});\n\nclass MessageList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messagesEnd = null;\n\t\tthis.rootRef = React.createRef();\n\t\tthis.shouldScroll = false;\n\t\t// this.scrollToBottom = this.scrollToBottom.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\n\t\tthis.state = {\n\t\t\tvoting: false,\n\t\t};\n\t}\n\n\thandleClick(event) {}\n\n\tgetSnapshotBeforeUpdate(prevProps, prevState) {\n\t\tif (prevProps.messages.length < this.props.messages.length) {\n\t\t\tlet messageList = document.getElementById(\"messageList\");\n\t\t\tif (\n\t\t\t\tmessageList &&\n\t\t\t\tMath.abs(\n\t\t\t\t\tmessageList.scrollHeight - messageList.scrollTop - messageList.offsetHeight,\n\t\t\t\t) < 2\n\t\t\t) {\n\t\t\t\tthis.shouldScroll = true;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (this.shouldScroll) {\n\t\t\tlet messageList = document.getElementById(\"messageList\");\n\t\t\tmessageList.scrollTop = messageList.scrollHeight;\n\t\t}\n\t\tthis.shouldScroll = false;\n\t}\n\n\tmapMessages() {\n\t\tlet messages = [];\n\t\tfor (let i = 0; i < this.props.messages.length; i++) {\n\t\t\tlet isLastMessage = i == this.props.messages.length - 1;\n\n\t\t\tif (this.props.messages[i].isBanned) {\n\t\t\t\tif (!this.props.isBanned && !this.props.isMod) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmessages.push(\n\t\t\t\t<Message\n\t\t\t\t\tkey={i}\n\t\t\t\t\t{...this.props.messages[i]}\n\t\t\t\t\tisLastMessage={isLastMessage}\n\t\t\t\t\tonContextMenu={this.handleClick}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t\treturn messages;\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tif (!this.state.voting) {\n\t\t\tlet message = nextProps.messages[nextProps.messages.length - 1];\n\t\t\tif (\n\t\t\t\tmessage &&\n\t\t\t\tmessage.username == \"HostBot\" &&\n\t\t\t\t/A vote has been started to/.test(message.text) &&\n\t\t\t\t!message.isReplay\n\t\t\t) {\n\t\t\t\tthis.setState({ voting: true });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t}, 18000);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t\t// }\n\n\t\t// return false;\n\t}\n\n\trender() {\n\t\tconst { classes } = this.props;\n\n\t\treturn (\n\t\t\t<Paper\n\t\t\t\tid=\"messageList\"\n\t\t\t\tclassName={classes.root}\n\t\t\t\televation={4}\n\t\t\t\tref={(el) => {\n\t\t\t\t\tthis.rootRef = el;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.mapMessages()}\n\t\t\t\t<div\n\t\t\t\t\tstyle={{ float: \"left\", clear: \"both\" }}\n\t\t\t\t\tref={(el) => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Snackbar\n\t\t\t\t\tanchorOrigin={{\n\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t\t}}\n\t\t\t\t\topen={this.state.voting}\n\t\t\t\t\tautoHideDuration={0}\n\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\tmessage={<span id=\"message-id\">A vote has started to switch games!</span>}\n\t\t\t\t\taction={[\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"leave\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.sendMessage(\"yea\");\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLEAVE\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\t<div key=\"spacer\" style={{ width: \"15px\" }} />,\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey=\"stay\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.sendMessage(\"nay\");\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSTAY\n\t\t\t\t\t\t</Button>,\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ voting: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>,\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tmessages: state.stream.chat.messages,\n\t\taccountMap: state.stream.accountMap,\n\t\tisMod: state.client.roles.mod,\n\t\tisBanned: state.client.isBanned,\n\t\t// lastMessage: state.stream.chat.messages[state.stream.chat.messages.length - 1],\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsendMessage: (text) => {\n\t\t\tdispatch(sendMessage(text));\n\t\t},\n\t};\n};\n\nexport default compose(\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(MessageList);\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Fab, TextField, Paper, ListItem, ListItemText } from \"@material-ui/core\";\r\n\r\n// icons:\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n\r\n// mentions / autocomplete:\r\nimport ReactTextareaAutocomplete from \"@webscopeio/react-textarea-autocomplete\";\r\nimport emoji from \"@jukben/emoji-search\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\nimport { sendMessage } from \"src/actions/chat.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport classNames from \"classnames\";\r\n\r\nconst Loading = ({ data }) => <div>Loading</div>;\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\talignItems: \"center\",\r\n\t\twidth: \"100%\",\r\n\t\tminHeight: \"60px\",\r\n\t\theight: \"12%\",\r\n\t\tpaddingLeft: \"5px\",\r\n\t\tpaddingRight: \"5px\",\r\n\t},\r\n\r\n\tmessageBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tresize: \"none\",\r\n\t\t// width: \"98%\",\r\n\t\tborderRadius: \"6px\",\r\n\r\n\t\t\"&:focus\": {\r\n\t\t\toutlineOffset: \"0px !important\",\r\n\t\t\toutline: \"none !important\",\r\n\t\t\tboxShadow: \"0 0 3px blue !important\",\r\n\t\t},\r\n\t},\r\n\r\n\tmessageBoxContainer: {\r\n\t\tzIndex: 1,\r\n\t\twidth: \"90%\",\r\n\t\t// height: \"70%\",\r\n\t\tfontSize: \"14px\",\r\n\t\tlineHeight: \"20px\",\r\n\t\t// fontSize: \"inherit !important\",\r\n\t\tmarginRight: \"10px\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\ttextField: {\r\n\t\tflex: \"1\",\r\n\t\toverflowY: \"auto\",\r\n\t\theight: \"32px\",\r\n\t\t// height: \"56px\",\r\n\t\t\"&::-webkit-scrollbar\": {\r\n\t\t\twidth: \"0 !important\",\r\n\t\t},\r\n\t\t\"& textarea\": {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t},\r\n\t},\r\n\r\n\tcontainer: {\r\n\t\t\"& .rta\": {\r\n\t\t\t// position: \"relative\",\r\n\t\t\t// fontSize: \"18px\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// height: \"100%\",\r\n\t\t},\r\n\t\t\"& .rta__loader.rta__loader--empty-suggestion-data\": {\r\n\t\t\tborderRadius: \"3px\",\r\n\t\t\tboxShadow: \"0 0 5px rgba(27, 31, 35, 0.1)\",\r\n\t\t\tpadding: \"5px\",\r\n\t\t},\r\n\t\t\"& .rta--loading .rta__loader.rta__loader--suggestion-data\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: \"0\",\r\n\t\t\tleft: \"0\",\r\n\t\t\twidth: \"100%\",\r\n\t\t\tbackground: \"rgba(255, 255, 255, 0.8)\",\r\n\t\t},\r\n\t\t\"& .rta--loading .rta__loader.rta__loader--suggestion-data > *\": {\r\n\t\t\tposition: \"relative\",\r\n\t\t\ttop: \"50%\",\r\n\t\t},\r\n\t\t// \"& .rta__textarea\": {\r\n\t\t// width: \"100%\",\r\n\t\t// height: \"100%\",\r\n\t\t// fontSize: \"1em\",\r\n\t\t// },\r\n\t\t\"& .rta__autocomplete\": {\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tdisplay: \"block\",\r\n\t\t\tmarginTop: \"1em\",\r\n\t\t},\r\n\t\t\"& .rta__autocomplete--top\": {\r\n\t\t\t// marginTop: \"0\",\r\n\t\t\t// marginBottom: \"1em\",\r\n\t\t},\r\n\t\t\"& .rta__list\": {\r\n\t\t\tlistStyle: \"none\",\r\n\t\t\tmargin: \"0px\",\r\n\t\t\tpadding: \"0px\",\r\n\t\t\tposition: \"relative\",\r\n\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t\tboxShadow:\r\n\t\t\t\t\"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)\",\r\n\t\t},\r\n\t\t\"& .rta__entity\": {\r\n\t\t\t// background: \"white\",\r\n\t\t\t// width: \"100%\",\r\n\t\t\t// textAlign: \"left\",\r\n\t\t\t// outline: \"none\",\r\n\t\t},\r\n\t\t\"& .rta__entity:hover\": {\r\n\t\t\tcursor: \"pointer\",\r\n\t\t},\r\n\t\t\"& .rta__item:not(:last-child)\": {\r\n\t\t\t// borderBottom: \"1px solid #dfe2e5\",\r\n\t\t},\r\n\t\t\"& .rta__entity > *\": {\r\n\t\t\t// paddingLeft: \"4px\",\r\n\t\t\t// paddingRight: \"4px\",\r\n\t\t},\r\n\t\t\"& .rta__entity--selected\": {\r\n\t\t\tbackgroundColor: theme.palette.action.selected,\r\n\t\t},\r\n\t},\r\n\r\n\tsuggestion: {},\r\n});\r\n\r\nclass SendMessageForm extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleKeyPress = this.handleKeyPress.bind(this);\r\n\t\tthis.handleTextChange = this.handleTextChange.bind(this);\r\n\t\tthis.sendMessage = this.sendMessage.bind(this);\r\n\r\n\t\tthis.getEmojiSuggestions = this.getEmojiSuggestions.bind(this);\r\n\t\tthis.getUsernameSuggestions = this.getUsernameSuggestions.bind(this);\r\n\t\tthis.getCommandSuggestions = this.getCommandSuggestions.bind(this);\r\n\t\tthis.renderNameSuggestion = this.renderNameSuggestion.bind(this);\r\n\t\tthis.renderCharSuggestion = this.renderCharSuggestion.bind(this);\r\n\r\n\t\tthis.rta = React.createRef();\r\n\r\n\t\tthis.state = {\r\n\t\t\ttext: \"\",\r\n\t\t\tcommands: [\r\n\t\t\t\t\"help\",\r\n\t\t\t\t\"discord\",\r\n\t\t\t\t\"games\",\r\n\t\t\t\t\"goto\",\r\n\t\t\t\t\"source\",\r\n\t\t\t\t\"fc\",\r\n\t\t\t\t\"fixcontrollers\",\r\n\t\t\t\t\"lock\",\r\n\t\t\t\t\"unlock\",\r\n\t\t\t\t\"forcegoto\",\r\n\t\t\t\t\"setturnlength\",\r\n\t\t\t\t\"setforfeitlength\",\r\n\t\t\t\t\"sublist\",\r\n\t\t\t\t\"modlist\",\r\n\t\t\t\t\"pluslist\",\r\n\t\t\t\t\"banlist\",\r\n\t\t\t\t\"ban\",\r\n\t\t\t\t\"unban\",\r\n\t\t\t],\r\n\t\t};\r\n\t}\r\n\r\n\thandleKeyPress(event) {\r\n\t\tif (event.key === \"Enter\") {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.sendMessage();\r\n\t\t}\r\n\t}\r\n\thandleTextChange(event) {\r\n\t\tthis.setState({\r\n\t\t\ttext: event.target.value,\r\n\t\t});\r\n\t}\r\n\tsendMessage() {\r\n\t\tif (this.state.text !== \"\") {\r\n\t\t\tthis.props.sendMessage(this.state.text);\r\n\t\t\tthis.setState({ text: \"\" });\r\n\t\t\tthis.rta.setState({ value: \"\" });\r\n\t\t}\r\n\t}\r\n\tgetEmojiSuggestions(token) {\r\n\t\tif (token.length < 1) {\r\n\t\t\treturn [];\r\n\t\t} else {\r\n\t\t\treturn emoji(token)\r\n\t\t\t\t.slice(0, 5)\r\n\t\t\t\t.map(({ name, char }) => ({ name, char }));\r\n\t\t}\r\n\t}\r\n\r\n\tgetUsernameSuggestions(token) {\r\n\t\tlet suggestions = [];\r\n\t\tfor (let userid in this.props.accountMap) {\r\n\t\t\tlet username = this.props.accountMap[userid].username;\r\n\t\t\tif (username == null || username.toLowerCase().indexOf(token) == -1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (token.indexOf(username) > -1) {\r\n\t\t\t\tsuggestions = [];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tsuggestions.push({ name: username, char: `@${username}` });\r\n\t\t}\r\n\t\treturn suggestions.slice(0, 5);\r\n\t}\r\n\r\n\tgetCommandSuggestions(token) {\r\n\t\tlet suggestions = [];\r\n\t\tif (token.length < 1) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tfor (let i = 0; i < this.state.commands.length; i++) {\r\n\t\t\tlet command = this.state.commands[i];\r\n\t\t\tif (command.indexOf(token) == -1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (token.indexOf(command) > -1) {\r\n\t\t\t\tsuggestions = [];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tsuggestions.push({ name: command, char: \"!\" + command });\r\n\t\t}\r\n\t\treturn suggestions.slice(0, 5);\r\n\t}\r\n\r\n\trenderNameSuggestion(obj) {\r\n\t\treturn (\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemText>{obj.entity.name}</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\r\n\trenderCharSuggestion(obj) {\r\n\t\treturn (\r\n\t\t\t<ListItem>\r\n\t\t\t\t<ListItemText>{obj.entity.char}</ListItemText>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper\r\n\t\t\t\tid=\"SendMessageForm\"\r\n\t\t\t\tclassName={classNames(classes.root, classes.container)}\r\n\t\t\t\televation={0}\r\n\t\t\t>\r\n\t\t\t\t<ReactTextareaAutocomplete\r\n\t\t\t\t\tid=\"messageBoxOld\"\r\n\t\t\t\t\tclassName={classes.messageBox}\r\n\t\t\t\t\tcontainerClassName={classes.messageBoxContainer}\r\n\t\t\t\t\tloadingComponent={Loading}\r\n\t\t\t\t\tref={(rta) => {\r\n\t\t\t\t\t\tthis.rta = rta;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttextAreaComponent={{ component: TextField, ref: \"inputRef\" }}\r\n\t\t\t\t\tminChar={0}\r\n\t\t\t\t\ttrigger={{\r\n\t\t\t\t\t\t\":\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getEmojiSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderCharSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"next\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"@\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getUsernameSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderNameSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"next\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"!\": {\r\n\t\t\t\t\t\t\tdataProvider: this.getCommandSuggestions,\r\n\t\t\t\t\t\t\tcomponent: this.renderNameSuggestion,\r\n\t\t\t\t\t\t\toutput: (item) => ({ text: item.char, caretPosition: \"end\" }),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={this.handleTextChange}\r\n\t\t\t\t\tonKeyPress={this.handleKeyPress}\r\n\t\t\t\t\tvalue={this.state.text}\r\n\t\t\t\t\tplaceholder=\"Send a message\"\r\n\t\t\t\t\tvariant=\"standard\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Fab color=\"primary\" size=\"small\" onClick={this.sendMessage}>\r\n\t\t\t\t\t<SendIcon fontSize=\"small\" />\r\n\t\t\t\t</Fab>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\taccountMap: state.stream.accountMap,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (text) => {\r\n\t\t\tdispatch(sendMessage(text));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SendMessageForm);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"22px\",\r\n\t\tmarginLeft: \"2px\",\r\n\t\tmarginRight: \"2px\",\r\n\t\tbackgroundColor: \"#b7b7b7\",\r\n\t\tborder: \"1px solid #333\",\r\n\t\tborderRadius: \"6px\",\r\n\t\tverticalAlign: \"middle\",\r\n\t},\r\n});\r\n\r\nclass Badge extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet src = window.location.origin + \"/images/badges/\";\r\n\t\tlet text;\r\n\r\n\t\tswitch (this.props.type) {\r\n\t\t\tcase \"dev\":\r\n\t\t\t\tsrc += \"DevBadge.png\";\r\n\t\t\t\ttext = \"The Developer\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"host\":\r\n\t\t\t\tsrc += \"AdminBadge.png\";\r\n\t\t\t\ttext = \"Host\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"mod\":\r\n\t\t\t\tsrc += \"ModBadge.png\";\r\n\t\t\t\ttext = \"Moderator\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"plus\":\r\n\t\t\t\tsrc += \"PlusBadge.png\";\r\n\t\t\t\ttext = \"This user can use Plus\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"sub1\":\r\n\t\t\t\tsrc += \"SubBadge1.png\";\r\n\t\t\t\ttext = \"Subscriber for 1 month(+)\";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Tooltip title={text} placement=\"top\">\r\n\t\t\t\t<img className={classes.root} src={src} />\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withStyles(styles))(Badge);\r\n"],"sourceRoot":""}