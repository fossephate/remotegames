{"version":3,"sources":["webpack:///./src/shared/components/account/UsernameDropdown.jsx","webpack:///./src/shared/components/modals/AccountModal.jsx"],"names":["styles","theme","root","alignSelf","background","UsernameDropdown","PureComponent","constructor","props","handleChange","bind","event","getUsernameList","usernames","i","validUsernames","length","push","render","usernameIndex","indexOf","username","mapStateToProps","state","client","mapDispatchToProps","dispatch","compose","withStyles","connect","display","flexDirection","justifyContent","padding","device","tablet","center","position","top","left","transform","list","maxHeight","overflowY","logout","width","main","topBar","margin","lineHeight","AccountModal","accountConnection","handleClose","handleRemoveAccount","history","goBack","handleLogout","deleteAllCookies","location","reload","type","emit","authToken","data","success","alert","reason","getTime","t","toFixed","classes","timePlayed","emailVerified","withRouter"],"mappings":"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","file":"20.bundle.js","sourcesContent":["// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\n// import InputLabel from \"@material-ui/core/InputLabel\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\talignSelf: \"center\",\r\n\t\tbackground: \"transparent\",\r\n\t},\r\n});\r\n\r\nclass UsernameDropdown extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {}\r\n\r\n\tgetUsernameList() {\r\n\t\tlet usernames = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.validUsernames.length; i++) {\r\n\t\t\tusernames.push(\r\n\t\t\t\t<MenuItem key={i} value={i}>\r\n\t\t\t\t\t{this.props.validUsernames[i]}&nbsp;&nbsp;\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.props.validUsernames.length == 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNot signed in.\r\n\t\t\t\t</MenuItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn usernames;\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet usernameIndex = this.props.validUsernames.indexOf(this.props.username);\r\n\t\tif (usernameIndex == -1) {\r\n\t\t\tusernameIndex = 0;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Select\r\n\t\t\t\tvalue={usernameIndex}\r\n\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\tinput={<OutlinedInput labelWidth={0} />}\r\n\t\t\t>\r\n\t\t\t\t{this.getUsernameList()}\r\n\t\t\t</Select>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusername: state.client.username,\r\n\t\tvalidUsernames: state.client.validUsernames,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t// updateSettings: (settings) => {\r\n\t\t// \tdispatch(updateSettings(settings))\r\n\t\t// },\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(UsernameDropdown);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// components:\r\nimport ConnectAccounts from \"shared/components/account/ConnectAccounts.jsx\";\r\nimport UsernameDropdown from \"shared/components/account/UsernameDropdown.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tPaper,\r\n\tButton,\r\n\tListItemText,\r\n\tDialog,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device, deleteAllCookies } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tpadding: \"0px 0px 25px 0px !important\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tflexDirection: \"column\",\r\n\t\t},\r\n\t},\r\n\tcenter: {\r\n\t\tposition: \"fixed\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\ttransform: \"translate(-50%, -50%)\",\r\n\t},\r\n\tlist: {\r\n\t\tmaxHeight: \"400px\",\r\n\t\toverflowY: \"auto\",\r\n\t},\r\n\tlogout: {\r\n\t\twidth: \"30%\",\r\n\t},\r\n\tmain: {\r\n\t\twidth: \"80%\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\ttopBar: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tmargin: \"20px 25px 10px\",\r\n\t\tpadding: \"5px\",\r\n\t\tlineHeight: \"60px\",\r\n\t},\r\n});\r\n\r\nclass AccountModal extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.accountConnection = this.props.accountConnection;\r\n\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t\tthis.handleRemoveAccount = this.handleRemoveAccount.bind(this);\r\n\t}\r\n\r\n\thandleClose() {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t}\r\n\r\n\thandleLogout() {\r\n\t\tdeleteAllCookies();\r\n\t\tlocation.reload(true);\r\n\t}\r\n\r\n\thandleRemoveAccount(type) {\r\n\t\tthis.accountConnection.emit(\r\n\t\t\t\"removeConnectedAccount\",\r\n\t\t\t{ authToken: this.props.authToken, type: type },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (!data.success) {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"success\");\r\n\t\t\t\t}\r\n\t\t\t\tlocation.reload(true);\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\tgetTime(t) {\r\n\t\tif (t < 60) {\r\n\t\t\treturn t.toFixed(1) + \" seconds.\";\r\n\t\t} else if (t < 60 * 60) {\r\n\t\t\treturn (t / 60).toFixed(1) + \" minutes\";\r\n\t\t} else {\r\n\t\t\treturn (t / 60 / 60).toFixed(1) + \" hours\";\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tAccount\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Paper className={classes.topBar} elevation={2}>\r\n\t\t\t\t\t\t<UsernameDropdown />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName={classes.logout}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={this.handleLogout}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t\t<ConnectAccounts onRemoveAccount={this.handleRemoveAccount} showTOS={false} />\r\n\t\t\t\t\t<ListItemText style={{ margin: \"0 auto\" }}>\r\n\t\t\t\t\t\tYou've played for {this.getTime(this.props.timePlayed)}\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttimePlayed: state.client.timePlayed,\r\n\t\t// email: state.client.email,\r\n\t\temailVerified: state.client.emailVerified,\r\n\t\tauthToken: state.client.authToken,\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps),\r\n)(AccountModal);\r\n"],"sourceRoot":""}