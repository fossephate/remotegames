{"version":3,"sources":["webpack:///./src/Stream.jsx","webpack:///./src/actions/accountMap.js","webpack:///./src/actions/chat.js","webpack:///./src/actions/info.js","webpack:///./src/actions/players.js","webpack:///./src/actions/time.js","webpack:///./src/components/General/MyCheckbox.jsx","webpack:///./src/components/General/MySlider.jsx","webpack:///./src/components/General/ThemeSelector.jsx","webpack:///./src/components/Modals/Settings/AudioVideo.jsx","webpack:///./src/components/Modals/Settings/InputMapper.jsx","webpack:///./src/components/Modals/Settings/Site.jsx","webpack:///./src/components/Modals/SettingsModal.jsx","webpack:///./src/components/Stream/StreamInfo/CheckboxSettings.jsx","webpack:///./src/components/Streams/StreamsAppBar.jsx","webpack:///./src/constants/DeviceSizes.js","webpack:///./src/libs/InputHandler/DeviceStates.js","webpack:///./src/libs/InputHandler/GamepadWrapper.js","webpack:///./src/libs/InputHandler/InputHandler.js","webpack:///./src/libs/InputHandler/KeyboardWrapper.js","webpack:///./src/libs/InputHandler/TouchWrapper.js","webpack:///./src/libs/InputHandler/VirtualController.js","webpack:///./src/libs/InputHandler/VirtualKeyboard.js","webpack:///./src/libs/InputHandler/VirtualMouse.js","webpack:///./src/libs/InputHandler/VirtualTouchpad.js","webpack:///./src/libs/jsmpeg/jsmpeg.wasm.js","webpack:///./src/libs/jsmpeg/src/ajax.js","webpack:///./src/libs/jsmpeg/src/buffer.js","webpack:///./src/libs/jsmpeg/src/canvas2d.js","webpack:///./src/libs/jsmpeg/src/decoder.js","webpack:///./src/libs/jsmpeg/src/mp2-wasm.js","webpack:///./src/libs/jsmpeg/src/mp2.js","webpack:///./src/libs/jsmpeg/src/mpeg1-wasm.js","webpack:///./src/libs/jsmpeg/src/mpeg1.js","webpack:///./src/libs/jsmpeg/src/player.js","webpack:///./src/libs/jsmpeg/src/ts.js","webpack:///./src/libs/jsmpeg/src/utils.js","webpack:///./src/libs/jsmpeg/src/wasm-module.js","webpack:///./src/libs/jsmpeg/src/webaudio.js","webpack:///./src/libs/jsmpeg/src/webgl.js","webpack:///./src/libs/jsmpeg/src/websocket.js","webpack:///./src/libs/lagless/lagless2.js","webpack:///./src/libs/lagless/lagless4.js","webpack:///./src/libs/tools.js","webpack:///./src/sagas/stream/chat.js","webpack:///./src/sagas/stream/clientInfo.js","webpack:///./src/sagas/stream/index.js","webpack:///./src/sagas/stream/players.js","webpack:///./src/sockets/stream/accountMap.js","webpack:///./src/sockets/stream/chat.js","webpack:///./src/sockets/stream/client.js","webpack:///./src/sockets/stream/index.js","webpack:///./src/sockets/stream/players.js","webpack:///./src/sockets/stream/time.js","webpack:///util (ignored)","webpack:///util (ignored)?4216"],"names":["Picture","lazy","Chat","StreamInfo","styles","root","display","gridTemplateColumns","gridTemplateAreas","width","gridGap","padding","device","tablet","laptop","Stream","Component","constructor","props","data","tryCount","updateStreamInfo","stream","pause","hostConnection","removeAllListeners","destroy","socketio","hostServerIP","path","hostServerPort","transports","window","handleStreamEvents","store","dispatch","sagaMiddleware","run","handleStreamActions","socket","videoServerIP","console","log","streamType","Lagless2","url","videoServerPort","audio","video","Lagless4","alert","setTimeout","resume","document","getElementById","setStreamVolume","disableAFK","location","reload","webkitIsFullScreen","mozFullScreen","msFullscreenElement","updateSettings","fullscreen","largescreen","controllerView","hideChat","hideNav","inputHandler","mouse","toggle","dispatchEvent","Event","changed","banned","clearTimeout","afkTimer","afk","afkTime","currentInputMode","settings","keyboardControls","controllerControls","touchControls","activeElement","type","pathname","indexOf","controlQueues","currentPlayer","client","userid","joinPlayerControlQueue","length","enqueueSnackbar","variant","preventDuplicate","anchorOrigin","vertical","horizontal","autoHideDuration","obj","getState","cNum","btns","controller","axes","keys","keyboard","buttons","toString","repeat","substr","realKeyboardMouse","getStickString","Math","random","toFixed","emit","player","volume","state","InputHandler","componentDidMount","accountConnection","username","match","params","success","reason","recieveStream","addEventListener","exitFullscreen","sendInputTimer","setInterval","loggedIn","pollDevices","sendControllerState","event","keyCode","preventDefault","exitPointerLock","componentWillUnmount","clearInterval","i","playerCount","leavePlayerControlQueue","updateMessages","localforage","setItem","JSON","stringify","resetSettings","deleteAllCookies","shouldComponentUpdate","nextProps","nextState","realMode","theme","streamNumber","render","classes","history","mapStateToProps","players","count","info","mapDispatchToProps","controllerNumber","updateClient","messages","compose","withRouter","withStyles","withSnackbar","connect","receiveAccountMap","map","types","payload","sendMessage","text","receiveMessage","time","isReplay","isBanned","updatePlayerControlQueues","queues","updatePlayerTurnStartTimes","turnStartTimes","forfeitStartTimes","updatePlayerTurnLengths","turnLengths","forfeitLengths","updatePlayerControllerState","updateServerTime","updateLastServerUpdate","updatePing","MyCheckbox","PureComponent","handleChange","target","checked","slider","MySlider","handleLocalChange","bind","bounce","value","active","bounceTimer","countDown","countUp","handleAfterChange","setState","bounceInterval","rootClass","thumb","thumbClass","activeClass","rail","railClass","track","trackClass","min","max","step","classNames","require","options","options2","ThemeSelector","handleClick","handleMenuItemClick","handleClose","anchorEl","currentTarget","index","switchTheme","open","Boolean","themeIndex","style","maxHeight","option","flexDirection","justifyContent","AudioVideo","MAP_BUTTON_NAMES","DISPLAY_BUTTON_NAMES","BUTTON_LAYOUTS","xbox","DS4","proController","DISPLAY_AXIS_NAMES","MAP_AXIS_NAMES","DISPLAY_KEYBOARD_NAMES","MAP_KEYBOARD_NAMES","ControllerMapper","mapAxisTimer","mapButtonTimer","currentMapping","mapButton","mapAxis","waiting","lastChangedButton","lastChangedIndex","which","parseInt","update","DISPLAY_NAMES","MAP_NAMES","btn","axis","currentMappingNamed","detectedType","listItem","KeyboardMapper","mapKey","lastPressedKey","mapKeyTimer","controllerRemapper","keyboardRemapper","list","overflowY","backgroundColor","boxShadow","sliderSettings","margin","lineHeight","InputMapperModal","goBack","controllerIndex","autoSelectGamepad","whichTab","gamepadWrapper","activeGamepadIndex","gamepads","gamepadIndex","controllers","push","id","unshift","tabs","rescanGamepads","deadzone","sensitivity","marginTop","Array","e","Site","controls","av","site","SettingsModal","replace","CheckboxSettings","mobileMode","toggleFullscreen","getElementsByTagName","toggleAudioThree","audioThree","body","scrollTop","documentElement","analogStickMode","height","zIndex","mobile","grow","flexGrow","menuButton","marginLeft","marginRight","title","breakpoints","up","cursor","search","position","borderRadius","shape","fade","palette","common","white","spacing","searchIcon","pointerEvents","alignItems","inputRoot","color","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","StreamsAppBar","handleMobileMenuClose","mobileMoreAnchorEl","hide","isMenuOpen","isMobileMenuOpen","renderMenu","handleMenuClose","renderMobileMenu","handleProfileMenuOpen","handleDownloadHostFiles","handleProjectDiscord","handleDevDiscord","handleToggleDrawer","input","undefined","handleMobileMenuOpen","handleLoginRegister","size","desktop","ControllerState","prop","n","clamp","gyro","accel","down","left","right","l","zl","lstick","minus","capture","a","b","x","y","r","zr","rstick","plus","home","error","isPressed","unset","z","MouseState","dx","dy","middle","KeyboardState","TouchState","touches","GamepadWrapper","controllerStates","haveEvents","pollTimer","pollGamepads","scanGamepads","addGamepad","connectHandler","removeGamepad","disconnectHandler","callbacksAfterPoll","gamepad","navigator","getGamepads","webkitGetGamepads","InputState","setControllerState","setKeyboardState","setMouseState","isMobile","keyboardWrapper","KeyboardWrapper","touchWrapper","TouchWrapper","VirtualController","VirtualKeyboard","VirtualMouse","touchpad","VirtualTouchpad","inputState","oldInputState","oldInputStateString","init","updatedState","poll","getControllerState","enabled","cstate","updatedStateString","MODS","k","toUpperCase","charCodeAt","keycode","pressedKeys","modifiers","tagName","srcElement","splice","slice","key","werePressedKeys","shift","alt","ctrl","command","backspace","tab","clear","enter","return","esc","escape","space","del","delete","end","pageup","pagedown","handleKeydown","handleKeyup","resetModifiers","btnList","leftButtons","leftZone","rightZone","leftJoyStick","zone","mode","catchDistance","top","restOpacity","fadeTime","rightJoyStick","leftStick","nipplejs","rightStick","bindJoysticks","stickSize","s1","s2","on","evt","pos","frontPosition","sticks","lx","ly","leftActive","instance","rx","ry","rightActive","names","isLeftButton","idToFind","ongoingTouches","identifier","changedTouches","clientX","clientY","pick","activeTargets","getName","elementFromPoint","classList","idx","ongoingTouchIndexById","oldTarget","newTarget","handleTouchStart","handleTouchEnd","handleTouchCancel","handleTouchMove","restPos","AxisSettings","offset","AxisMapping","activationThreshold","aboveOrBelow","ButtonMapping","isAnalog","ButtonState","pressed","reg","res","exec","test","oldState","lastChangedAxis","triggerIndexes","autoSelectInterval","detectControllerType","j","button","mapping","oldPressed","oldValue","newPressed","newValue","triggerIndex","sort","ax","abs","newState","SPECIAL_KEYS","kW","kstate","keysToTrack","LU","LD","LL","LR","RU","RD","RL","RR","wasPressedKeyCodes","stickAttack","stickReturn","substring","toLowerCase","oldControllerState","wasPressed","newKeycodes","getPressedKeyCodes","String","fromCharCode","newControllerState","canvas","ctx","getMouseInput1","getMouseInput2","onPointerLockChange","drawCircle","mstate","btnMap","mouseMoveTimer","pointerLockElement","clearRect","beginPath","fillStyle","arc","PI","fill","movementX","movementY","getContext","requestPointerLock","mozRequestPointerLock","mozExitPointerLock","removeEventListener","tstate","WASM_BINARY_INLINED","AjaxSource","destination","request","XMLHttpRequest","onreadystatechange","readyState","DONE","status","onLoad","response","onprogress","onProgress","responseType","send","secondsHeadroom","abort","ev","progress","loaded","total","established","completed","onEstablishedCallback","onCompletedCallback","write","streaming","onSourceEstablished","onSourceCompleted","BitBuffer","bufferOrLength","newBytes","Uint8Array","byteLength","set","bytes","sizeNeeded","bytePos","available","copyWithin","subarray","buffers","isArrayOfBuffers","totalLength","MODE","EXPAND","newSize","resize","evict","appendSingleBuffer","buffer","code","current","findNextStartCode","currentByte","remaining","read","mask","peek","EVICT","CanvasRenderer","imageData","context","getImageData","Fill","w","h","fillRect","cb","cr","YCbCrToRGBA","putImageData","rgba","w2","yIndex1","yIndex2","yNext2Lines","cIndex","cNextLine","rgbaIndex1","rgbaIndex2","rgbaNext2Lines","cols","rows","ccb","ccr","g","row","col","y1","y2","y3","y4","createElement","BaseDecoder","bits","pts","baseWrite","collectTimestamps","timestamps","startTime","decodedTime","bytesWritten","bufferWrite","canPlay","timestampIndex","ts","bufferSetIndex","advanceDecodedTime","seconds","newTimestampIndex","currentIndex","bufferGetIndex","Object","defineProperty","get","getCurrentTime","MP2WASM","module","warn","functions","exports","decoder","mp2_decoder_create","bufferSize","bufferMode","mp2_decoder_destroy","mp2_decoder_get_index","mp2_decoder_set_index","initializeWasmDecoder","ptr","mp2_decoder_get_write_ptr","heapU8","mp2_decoder_did_write","Now","decodedBytes","mp2_decoder_decode","sampleRate","mp2_decoder_get_sample_rate","leftPtr","mp2_decoder_get_left_channel_ptr","rightPtr","mp2_decoder_get_right_channel_ptr","leftOffset","Float32Array","BYTES_PER_ELEMENT","rightOffset","heapF32","SAMPLES_PER_FRAME","play","elapsedTime","onDecodeCallback","enqueuedTime","onAudioDecode","wasmModule","audioBufferSize","MP2","decoded","decodeFrame","sync","version","layer","hasCRC","FRAME_SYNC","VERSION","MPEG_1","LAYER","II","bitrateIndex","sampleRateIndex","SAMPLE_RATE","MPEG_2","privat","bound","JOINT_STEREO","skip","MONO","bitrate","BIT_RATE","frameSize","tab3","sblimit","tab1","tab2","QUANT_LUT_STEP_1","QUANT_LUT_STEP_2","sb","allocation","readAllocation","channels","ch","scaleFactorInfo","sf","scaleFactor","outPos","part","granule","readSamples","sample","p","VPos","MatrixTransform","V","U","dIndex","vIndex","D","outChannel","tab4","QUANT_LUT_STEP_3","qtab","QUANT_LUT_STEP4","QUANT_TAB","q","val","SCALEFACTOR_BASE","adj","levels","group","scale","s","ss","d","dp","t01","t02","t03","t04","t05","t06","t07","t08","t09","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","SYNTHESIS_WINDOW","Int32Array","MPEG_2_5","III","I","STEREO","DUAL_CHANNEL","Uint16Array","Uint32Array","A","B","C","MPEG1WASM","mpeg1_decoder_create","mpeg1_decoder_destroy","mpeg1_decoder_get_index","mpeg1_decoder_set_index","mpeg1_decoder_get_write_ptr","mpeg1_decoder_did_write","hasSequenceHeader","mpeg1_decoder_has_sequence_header","loadSequnceHeader","frameRate","mpeg1_decoder_get_frame_rate","codedSize","mpeg1_decoder_get_coded_size","mpeg1_decoder_get_width","mpeg1_decoder_get_height","decodeFirstFrame","decode","didDecode","mpeg1_decoder_decode","ptrY","mpeg1_decoder_get_y_ptr","ptrCr","mpeg1_decoder_get_cr_ptr","ptrCb","mpeg1_decoder_get_cb_ptr","dcr","dcb","onVideoDecode","videoBufferSize","MPEG1","findStartCode","START","SEQUENCE","decodeSequenceHeader","PICTURE","decodePicture","codeTable","newWidth","newHeight","PICTURE_RATE","initBuffers","customIntraQuantMatrix","ZIG_ZAG","intraQuantMatrix","customNonIntraQuantMatrix","nonIntraQuantMatrix","DEFAULT_INTRA_QUANT_MATRIX","DEFAULT_NON_INTRA_QUANT_MATRIX","mbWidth","mbHeight","mbSize","codedWidth","codedHeight","halfWidth","halfHeight","currentY","Uint8ClampedArray","currentY32","currentCr","currentCr32","currentCb","currentCb32","forwardY","forwardY32","forwardCr","forwardCr32","forwardCb","forwardCb32","skipOutput","currentFrame","pictureType","PICTURE_TYPE","PREDICTIVE","fullPelForward","forwardFCode","forwardRSize","forwardF","EXTENSION","USER_DATA","SLICE_FIRST","SLICE_LAST","decodeSlice","rewind","INTRA","tmpY","tmpY32","tmpCr","tmpCr32","tmpCb","tmpCb32","sliceBegin","macroblockAddress","motionFwH","motionFwHPrev","motionFwV","motionFwVPrev","dcPredictorY","dcPredictorCr","dcPredictorCb","quantizerScale","decodeMacroblock","nextBytesAreStartCode","increment","t","readHuffman","MACROBLOCK_ADDRESS_INCREMENT","mbRow","mbCol","copyMacroblock","mbTable","MACROBLOCK_TYPE","macroblockType","macroblockIntra","macroblockMotFw","decodeMotionVectors","cbp","CODE_BLOCK_PATTERN","block","decodeBlock","MOTION","motionH","motionV","sY","sCr","sCb","scan","H","oddH","oddV","src","dest","last","dY","dCb","dCr","cr1","cr2","cb1","cb2","quantMatrix","predictor","dctSize","DCT_DC_SIZE_LUMINANCE","DCT_DC_SIZE_CHROMINANCE","differential","blockData","level","coeff","DCT_COEFF","dezigZagged","PREMULTIPLIER_MATRIX","destArray","destIndex","CopyValueToDestination","IDCT","CopyBlockToDestination","AddValueToDestination","AddBlockToDestination","b1","b3","b4","b6","b7","tmp1","tmp2","m0","x0","x1","x2","x3","x4","y5","y6","y7","Int16Array","Int8Array","MACROBLOCK_TYPE_INTRA","MACROBLOCK_TYPE_PREDICTIVE","MACROBLOCK_TYPE_B","Player","source","start","autoplay","visibilityState","unpauseOnShow","wantsToPlay","animationId","requestAnimationFrame","paused","cancelAnimationFrame","isPlaying","audioOut","stop","seek","currentTime","onPause","renderer","startOffset","renderProgress","onPlay","updateForStreaming","updateForStaticFile","maxAudioLag","resetEnqueuedTime","notEnoughData","headroom","demuxer","targetTime","lateTime","frameTime","loop","onEnded","onStalled","SIOSource","progressive","TS","disableWebAssembly","WASM","IsSupported","GetModule","disableGl","WebGLRenderer","STREAM","VIDEO_1","WebAudioOut","AUDIO_1","setCurrentTime","getVolume","setVolume","pauseWhenHidden","showHide","ready","startLoading","wasm","Base64ToArrayBuffer","loadFromBuffer","streamId","pesPacketInfo","currentLength","leftoverBytes","has","parsePacket","leftoverCount","resync","transportError","payloadStart","transportPriority","pid","transportScrambling","adaptationField","continuityCounter","pidsToStreamIds","pi","packetComplete","adaptationFieldLength","packetLength","ptsDtsFlag","headerLength","payloadBeginIndex","p32_30","p29_15","p14_0","payloadLength","packetStart","complete","packetAddData","hasPadding","guessVideoFrameEnd","byteIndex","foundSync","PACK_HEADER","SYSTEM_HEADER","PROGRAM_MAP","PRIVATE_1","PADDING","PRIVATE_2","DIRECTORY","performance","now","Date","CreateVideoElements","elements","querySelectorAll","VideoElement","array","base64","binary","atob","onInitCallback","callback","ajax","moduleInfo","readDylinkSection","memory","WebAssembly","Memory","initial","env","__memory_base","table","Table","tableSize","element","__table_base","c_abort","__assert_fail","c_assertFail","sbrk","c_sbrk","stackSave","stackRestore","brk","align","memorySize","stackSize","instantiate","then","results","__post_instantiate","createHeapViews","heapU32","addr","pow","memoryAlignment","ceil","previousBrk","bytesNeeded","pagesNeeded","pageSize","arguments","next","readVarUint","ret","mul","byte","matchNextBytes","expected","sectionSize","tableAlignment","CACHED_MODULE","gain","disconnect","_connections","close","CachedContext","unlocked","wallclockStartTime","createBuffer","getChannelData","createBufferSource","duration","unlockCallback","checkIfUnlocked","attempt","playbackState","PLAYING_STATE","FINISHED_STATE","AudioContext","webkitAudioContext","createGain","NeedsUnlocking","getEnqueuedTime","userAgent","gl","deleteTexture","TEXTURE0","textureY","TEXTURE1","textureCb","TEXTURE2","textureCr","useProgram","deleteProgram","program","loadingProgram","bindBuffer","ARRAY_BUFFER","deleteBuffer","vertexBuffer","viewport","name","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","uniform1i","getUniformLocation","vsh","fsh","createProgram","attachShader","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","texImage2D","LUMINANCE","UNSIGNED_BYTE","getError","loc","uniform1f","drawArrays","TRIANGLE_STRIP","isClampedArray","h2","shouldCreateUnclampedViews","updateTexture","unit","activeTexture","hasTextureData","texSubImage2D","contextCreateOptions","preserveDrawingBuffer","alpha","depth","stencil","antialias","premultipliedAlpha","isContextLost","SHADER","FRAGMENT_YCRCB_TO_RGBA","join","FRAGMENT_LOADING","VERTEX_IDENTITY","vertexAttr","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","vertexCoords","bufferData","STATIC_DRAW","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","allowsClampedTextureData","WebGLRenderingContext","err","WSSource","reconnectTimeoutId","shouldAttemptReconnect","reconnectInterval","protocols","WebSocket","binaryType","onmessage","onMessage","onopen","onOpen","onerror","onClose","onclose","isFirstChunk","callbacks","times","fps","videoCanvas","graphicsCanvas","videoConnection","peer","SimplePeer","initiator","trickle","signal","parse","URL","createObjectURL","srcObject","connected","getCookie","dc","cookie","prefix","begin","decodeURI","setCookie","expires","date","setTime","getTime","toUTCString","round","precision","multiplier","msToTime","milliseconds","minutes","hours","replaceAll","elem","fullScreenElement","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","setToPercentParent","percent","$","parentHeight","parent","wait","ms","mathZoom","normalizeVector","vector","norm","sqrt","cookies","split","eqPos","fixedLengthString","string","pad","num","padStart","getAverage","reduce","o","handleChatActions","takeEvery","action","handleClientInfoActions","authToken","handleActions","concat","handlePlayersActions","all","NUM_CONTROLLERS","accountMapEvents","chatSocketEvents","authenticate","Cookie","usernameIndex","clientInfo","hostAuthed","remove","updateClientInfo","clientEvents","handleEvents","playersEvents","timeEvents","ping","avgSize","latency"],"mappings":"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","file":"5.bundle.js","sourcesContent":["// react:\r\n// import React, { Component } from \"react\";\r\nimport React, { Component, Suspense, lazy } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, Switch, withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateClient } from \"features/client.js\";\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\nimport { updateMessages } from \"src/actions/chat.js\";\r\nimport { leavePlayerControlQueue, joinPlayerControlQueue } from \"src/actions/players.js\";\r\nimport { updateStreamInfo } from \"src/actions/info.js\";\r\n\r\n// redux-saga:\r\n// import spawn from \"redux-saga\";\r\nimport handleStreamActions from \"src/sagas/stream\";\r\nimport handleStreamEvents from \"src/sockets/stream\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// import { Snackbar } from \"@material-ui/core\";\r\n\r\nimport SettingsModal from \"src/components/Modals/SettingsModal.jsx\";\r\n\r\n// notistack:\r\n\r\nimport { withSnackbar } from \"notistack\";\r\n\r\n// main components:\r\nimport Loading from \"components/General/Loading.jsx\";\r\nimport StreamsAppBar from \"src/components/Streams/StreamsAppBar.jsx\";\r\n// import Picture from \"src/components/Stream/Picture.jsx\";\r\n// import Chat from \"src/components/Stream/Chat/Chat.jsx\";\r\n// import StreamInfo from \"src/components/Stream/StreamInfo.jsx\";\r\nconst Picture = lazy(() => import(\"src/components/Stream/Picture.jsx\"));\r\nconst Chat = lazy(() => import(\"src/components/Stream/Chat/Chat.jsx\"));\r\nconst StreamInfo = lazy(() => import(\"src/components/Stream/StreamInfo/StreamInfo.jsx\"));\r\n\r\n// components:\r\n\r\n// secondary components:\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// device sizes:\r\nimport { device } from \"src/constants/DeviceSizes.js\";\r\n\r\n// input handler:\r\nimport InputHandler from \"libs/InputHandler/InputHandler.js\";\r\n\r\nimport { deleteAllCookies, getStickString } from \"libs/tools.js\";\r\nimport localforage from \"localforage\";\r\nimport socketio from \"socket.io-client\";\r\n\r\n// rr:\r\nimport Lagless2 from \"libs/lagless/lagless2.js\";\r\nimport Lagless4 from \"libs/lagless/lagless4.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"grid\",\r\n\t\tgridTemplateColumns: \"minmax(50%, 75%) minmax(100px, 25%)\",\r\n\t\tgridTemplateAreas: `\r\n\t\t\t\"nav login\"\r\n\t\t\t\"picture picture\"\r\n\t\t\t\"chat chat\"\r\n\t\t\t\"info info\"`,\r\n\t\twidth: \"100%\",\r\n\t\tgridGap: \"5px\",\r\n\t\t// accomodate for grid gap:\r\n\t\tpadding: \"0px 5px 5px 5px\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tgridTemplateColumns: \"minmax(50%, 75%) minmax(300px, 25%)\",\r\n\t\t\tgridTemplateAreas: `\r\n\t\t\t\t\"nav login\"\r\n\t\t\t\t\"picture chat\"\r\n\t\t\t\t\"info info\"`,\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n};\r\n\r\nclass Stream extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.afkTime = 1000 * 60 * 60; // 1 hour\r\n\t\tthis.afkTimer = null;\r\n\t\tthis.stream = null;\r\n\t\tthis.hostConnection = null;\r\n\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.inputHandler = new InputHandler();\r\n\t\t// todo:\r\n\t\twindow.inputHandler = this.inputHandler; // for lagless canvas\r\n\t}\r\n\r\n\trecieveStream = (data, tryCount) => {\r\n\t\tthis.props.updateStreamInfo({ ...data });\r\n\r\n\t\tif (this.stream) {\r\n\t\t\tthis.stream.pause();\r\n\t\t}\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.removeAllListeners();\r\n\t\t\tthis.hostConnection.destroy();\r\n\t\t}\r\n\r\n\t\t// if (!this.props.client.loggedIn) {\r\n\t\t// \tif (tryCount < 3) {\r\n\t\t// \t\tsetTimeout(() => {\r\n\t\t// \t\t\tthis.recieveStream(data, tryCount + 1);\r\n\t\t// \t\t}, 1000);\r\n\t\t// \t\treturn;\r\n\t\t// \t} else {\r\n\t\t// \t\talert(\"You need to login to see the stream!\");\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tthis.hostConnection = socketio(`https://${data.hostServerIP}`, {\r\n\t\t\tpath: `/${data.hostServerPort}/socket.io`,\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\t\twindow.hostConnection = this.hostConnection;\r\n\r\n\t\t// listen to events and dispatch actions:\r\n\t\thandleStreamEvents(this.hostConnection, this.props.store.dispatch);\r\n\t\t// handle outgoing events & listen to actions:\r\n\t\t// and maybe dispatch more actions:\r\n\t\tthis.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t\tsocket: this.hostConnection,\r\n\t\t\tdispatch: this.props.store.dispatch,\r\n\t\t});\r\n\r\n\t\twindow.sagaMiddleware = this.props.sagaMiddleware;\r\n\r\n\t\tif (!data.videoServerIP) {\r\n\t\t\tconsole.log(\"something went wrong, (video server IP missing)\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// lagless setup:\r\n\r\n\t\tif (this.props.streamType === \"mpeg2\") {\r\n\t\t\tthis.stream = new Lagless2({\r\n\t\t\t\turl: `https://${data.videoServerIP}`,\r\n\t\t\t\tpath: `/${data.videoServerPort}/socket.io`,\r\n\t\t\t\taudio: true,\r\n\t\t\t\tvideo: true,\r\n\t\t\t});\r\n\t\t} else if (this.props.streamType === \"webRTC\") {\r\n\t\t\tthis.stream = new Lagless4({\r\n\t\t\t\turl: `https://${data.videoServerIP}`,\r\n\t\t\t\tpath: `/${data.videoServerPort}/socket.io`,\r\n\t\t\t});\r\n\t\t\tthis.stream.run();\r\n\t\t} else {\r\n\t\t\talert(\"stream type error: \" + this.props.streamType);\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.props.streamType === \"mpeg2\") {\r\n\t\t\t\tthis.stream.resume(\r\n\t\t\t\t\tdocument.getElementById(\"videoCanvas\"),\r\n\t\t\t\t\tdocument.getElementById(\"graphicsCanvas\"),\r\n\t\t\t\t);\r\n\t\t\t} else if (this.props.streamType === \"webRTC\") {\r\n\t\t\t\tthis.stream.resume(document.getElementById(\"videoCanvas\"));\r\n\t\t\t}\r\n\t\t}, 500);\r\n\r\n\t\twindow.stream = this.stream;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setStreamVolume(this.props);\r\n\t\t}, 500);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setStreamVolume(this.props);\r\n\t\t}, 5000);\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// todo: something like this for \"getStreamInfo\":\r\n\t\t// if (!this.props.client.loggedIn) {\r\n\t\t// \tif (tryCount < 3) {\r\n\t\t// \t\tsetTimeout(() => {\r\n\t\t// \t\t\tthis.recieveStream(data, tryCount + 1);\r\n\t\t// \t\t}, 1000);\r\n\t\t// \t} else {\r\n\t\t// \t\talert(\"You need to login to see the stream!\");\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tthis.props.accountConnection.emit(\r\n\t\t\t\"getStreamInfo\",\r\n\t\t\t{ username: this.props.match.params.username },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (!data.success) {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.recieveStream(data, 0);\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tthis.afkTimer = setTimeout(this.afk, this.afkTime);\r\n\r\n\t\t// fullscreen:\r\n\t\tdocument.addEventListener(\"webkitfullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"mozfullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"fullscreenchange\", this.exitFullscreen, false);\r\n\t\tdocument.addEventListener(\"MSFullscreenChange\", this.exitFullscreen, false);\r\n\r\n\t\t// lagless setup:\r\n\r\n\t\tthis.sendInputTimer = setInterval(() => {\r\n\t\t\tif (!this.props.client.loggedIn) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.inputHandler.pollDevices(this.props.settings.touchControls);\r\n\t\t\tthis.sendControllerState();\r\n\t\t}, 1000 / 120);\r\n\r\n\t\t// todo: remove this when component unmounts:\r\n\t\twindow.addEventListener(\r\n\t\t\t\"keydown\",\r\n\t\t\t(event) => {\r\n\t\t\t\t// escape, f11\r\n\t\t\t\tif ([27, 122].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\r\n\t\t\t\t\t// turn off mouse controls:\r\n\t\t\t\t\tthis.inputHandler.mouse.toggle(false);\r\n\t\t\t\t}\r\n\t\t\t\t// prevent space bar scrolling:\r\n\t\t\t\t// if ([32].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t// \tevent.preventDefault();\r\n\t\t\t\t// }\r\n\t\t\t\t// prevent arrow key & spacebar scrolling:\r\n\t\t\t\tif ([38, 40, 32].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\t// check if chat isn't focused:\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tdocument.activeElement !== document.getElementById(\"messageBox\") &&\r\n\t\t\t\t\t\tdocument.activeElement.type !== \"textarea\" &&\r\n\t\t\t\t\t\tdocument.activeElement.type !== \"text\"\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// escape:\r\n\t\t\t\tif ([27].indexOf(event.keyCode) > -1) {\r\n\t\t\t\t\tdocument.exitPointerLock();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfalse,\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.sendInputTimer);\r\n\t\tif (this.stream) {\r\n\t\t\tthis.stream.destroy();\r\n\t\t\tthis.stream = null;\r\n\t\t}\r\n\t\t// else {\r\n\t\t// \tsetTimeout(() => {\r\n\t\t// \t\tif (this.stream) {\r\n\t\t// \t\t\tthis.stream.pause();\r\n\t\t// \t\t\tthis.stream = null;\r\n\t\t// \t\t}\r\n\t\t// \t}, 1000);\r\n\t\t// \tsetTimeout(() => {\r\n\t\t// \t\tif (this.stream) {\r\n\t\t// \t\t\tthis.stream.pause();\r\n\t\t// \t\t\tthis.stream = null;\r\n\t\t// \t\t}\r\n\t\t// \t}, 3000);\r\n\t\t// }\r\n\r\n\t\tfor (let i = 0; i < this.props.playerCount; i++) {\r\n\t\t\tthis.props.leavePlayerControlQueue(i);\r\n\t\t}\r\n\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.removeAllListeners();\r\n\t\t\tthis.hostConnection.destroy();\r\n\t\t}\r\n\t\tthis.props.updateMessages([]);\r\n\r\n\t\t// save settings on close:\r\n\t\tconsole.log(\"saving settings\");\r\n\t\tlocalforage.setItem(\"settings\", JSON.stringify(this.props.settings));\r\n\t}\r\n\r\n\tafk = () => {\r\n\t\tif (window.disableAFK) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.stream) {\r\n\t\t\tthis.stream.pause();\r\n\t\t}\r\n\t\tif (this.hostConnection) {\r\n\t\t\tthis.hostConnection.removeAllListeners();\r\n\t\t\tthis.hostConnection.destroy();\r\n\t\t}\r\n\t\talert(\"Are you still there?\");\r\n\t\twindow.location.reload();\r\n\t};\r\n\r\n\t// https://stackoverflow.com/questions/10706070/how-to-detect-when-a-page-exits-fullscreen\r\n\texitFullscreen = () => {\r\n\t\tif (\r\n\t\t\t!document.webkitIsFullScreen &&\r\n\t\t\t!document.mozFullScreen &&\r\n\t\t\t!document.msFullscreenElement\r\n\t\t) {\r\n\t\t\t// this.toggleFullscreen(false);\r\n\r\n\t\t\t// from checkbox settings:\r\n\t\t\t// todo: not this:\r\n\t\t\tconsole.log(\"exiting fullscreen\");\r\n\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\t\t\tthis.props.updateSettings({\r\n\t\t\t\tfullscreen: false,\r\n\t\t\t\tlargescreen: false,\r\n\t\t\t\tcontrollerView: true,\r\n\t\t\t\thideChat: false,\r\n\t\t\t\thideNav: false,\r\n\t\t\t});\r\n\r\n\t\t\t// turn off mouse controls:\r\n\t\t\tthis.inputHandler.mouse.toggle(false);\r\n\t\t}\r\n\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t};\r\n\r\n\tresetSettings() {\r\n\t\tdeleteAllCookies();\r\n\t\t// localforage.clear().then(() => {\r\n\t\t// \twindow.location.href = \"https://remotegames.io\";\r\n\t\t// });\r\n\t}\r\n\r\n\tsendControllerState = () => {\r\n\t\tif (!this.inputHandler.changed) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.inputHandler.changed = false;\r\n\t\t}\r\n\r\n\t\tif (window.banned) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tclearTimeout(this.afkTimer);\r\n\t\tthis.afkTimer = setTimeout(this.afk, this.afkTime);\r\n\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"keyboard\" &&\r\n\t\t\t!this.props.settings.keyboardControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"controller\" &&\r\n\t\t\t!this.props.settings.controllerControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.inputHandler.currentInputMode == \"touchpad\" &&\r\n\t\t\t!this.props.settings.touchControls\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// return if chat is focused:\r\n\t\t// if (document.activeElement === document.getElementById(\"messageBox\")) {\r\n\t\tif (\r\n\t\t\tdocument.activeElement.type === \"text\" ||\r\n\t\t\tdocument.activeElement.type === \"textarea\" ||\r\n\t\t\tdocument.activeElement === document.getElementById(\"messageBox\")\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// return if trying to re-map inputs:\r\n\t\tif (window.location.pathname.indexOf(\"/controls\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (window.location.pathname.indexOf(\"/settings\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// if not in the queue, attempt to join it:\r\n\t\tif (\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].indexOf(\r\n\t\t\t\tthis.props.client.userid,\r\n\t\t\t) == -1\r\n\t\t) {\r\n\t\t\tthis.props.joinPlayerControlQueue(this.props.settings.currentPlayer);\r\n\t\t}\r\n\r\n\t\t// if (!this.props.loggedIn) {\r\n\t\t// \tthis.props.enqueueSnackbar(\"You need to login first!\", {\r\n\t\t// \t\tvariant: \"warning\",\r\n\t\t// \t\tpreventDuplicate: true,\r\n\t\t// \t\tanchorOrigin: {\r\n\t\t// \t\t\tvertical: \"top\",\r\n\t\t// \t\t\thorizontal: \"left\",\r\n\t\t// \t\t},\r\n\t\t// \t\tautoHideDuration: 1000,\r\n\t\t// \t});\r\n\t\t// }\r\n\r\n\t\tif (\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].indexOf(\r\n\t\t\t\tthis.props.client.userid,\r\n\t\t\t) > 0 &&\r\n\t\t\tthis.props.controlQueues[this.props.settings.currentPlayer].length > 0\r\n\t\t) {\r\n\t\t\tthis.props.enqueueSnackbar(\"It's not your turn yet!\", {\r\n\t\t\t\tvariant: \"warning\",\r\n\t\t\t\tpreventDuplicate: true,\r\n\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t},\r\n\t\t\t\tautoHideDuration: 1000,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj = {\r\n\t\t\t...this.inputHandler.getState(),\r\n\t\t\tcNum: -1,\r\n\t\t};\r\n\t\tobj.btns = obj.controller.btns;\r\n\t\tobj.axes = obj.controller.axes;\r\n\t\tobj.keys = obj.keyboard.keys;\r\n\r\n\t\t// for (let i = 0; i < this.props.controlQueues.length; i++) {\r\n\t\t// \tif (this.props.controlQueues[i][0] == this.props.client.userid) {\r\n\t\t// \t\tobj.cNum = i;\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tif (obj.cNum == -1) {\r\n\t\t\tobj.cNum = this.props.settings.currentPlayer;\r\n\t\t}\r\n\r\n\t\tlet buttons = obj.controller.btns.toString(2);\r\n\t\tbuttons = \"0\".repeat(18).substr(buttons.length) + buttons;\r\n\r\n\t\tif (!this.props.settings.realKeyboardMouse) {\r\n\t\t\tconsole.log(\r\n\t\t\t\tobj.cNum,\r\n\t\t\t\tbuttons,\r\n\t\t\t\tgetStickString(obj.axes[0]),\r\n\t\t\t\tgetStickString(obj.axes[1]),\r\n\t\t\t\tgetStickString(obj.axes[2]),\r\n\t\t\t\tgetStickString(obj.axes[3]),\r\n\t\t\t\tgetStickString(obj.axes[4]),\r\n\t\t\t\tgetStickString(obj.axes[5]),\r\n\t\t\t\tMath.random().toFixed(3),\r\n\t\t\t\t// fixedLengthString(obj.axes[0], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[1], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[2], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[3], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[4], \"0\", 3),\r\n\t\t\t\t// fixedLengthString(obj.axes[5], \"0\", 3),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t// console.log(obj.keys, obj.mouse, Math.random().toFixed(3));\r\n\t\t}\r\n\r\n\t\t// let s1x = getStickString(obj.axes[0]);\r\n\t\t// let s1y = getStickString(obj.axes[1]);\r\n\t\t// console.log(` 0 ${s1y[2]} 0\\n ${s1x[0]} 0 ${s1x[2]}\\n 0 ${s1y[0]} 0`);\r\n\r\n\t\tif (this.hostConnection) {\r\n\t\t\t// todo: rename to sendInputState\r\n\t\t\tthis.hostConnection.emit(\"sendControllerState\", obj);\r\n\t\t} else {\r\n\t\t\tconsole.log(\"the socket is null!\");\r\n\t\t}\r\n\t};\r\n\r\n\tsetStreamVolume = (props) => {\r\n\t\tif (this.stream) {\r\n\t\t\tif (this.props.streamType === \"mpeg2\") {\r\n\t\t\t\tthis.stream.player.volume = props.settings.volume / 100;\r\n\t\t\t} else if (this.props.streamType === \"webRTC\") {\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t// update stream volume:\r\n\t\tthis.setStreamVolume(nextProps);\r\n\r\n\t\tthis.inputHandler.realMode = nextProps.settings.realKeyboardMouse;\r\n\r\n\t\tif (JSON.stringify(this.props.client) != JSON.stringify(nextProps.client)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.hideNav != nextProps.settings.hideNav) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.hideChat != nextProps.settings.hideChat) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.fullscreen != nextProps.settings.fullscreen) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.theme != nextProps.settings.theme) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (this.props.settings.streamNumber != nextProps.settings.streamNumber) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (JSON.stringify(this.props.location) != JSON.stringify(nextProps.location)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// all settings:\r\n\t\tif (JSON.stringify(this.props.settings) != JSON.stringify(nextProps.settings)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.state != nextState) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering stream.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (window.location.pathname == \"/reset\") {\r\n\t\t\tthis.resetSettings();\r\n\t\t\talert(\r\n\t\t\t\t\"Try logging in again, if it doesn't work, try clicking the reset all settings button and try again.\",\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<StreamsAppBar\r\n\t\t\t\t\thistory={this.props.history}\r\n\t\t\t\t\thide={this.props.settings.fullscreen || this.props.settings.hideNav}\r\n\t\t\t\t/>\r\n\t\t\t\t<Suspense fallback={<Loading />}>\r\n\t\t\t\t\t<Picture />\r\n\t\t\t\t\t<Chat hide={this.props.settings.hideChat} />\r\n\t\t\t\t\t<StreamInfo />\r\n\t\t\t\t</Suspense>\r\n\r\n\t\t\t\t{/* selects the first matching path: */}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\tpath=\"/(login|register)\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn <LoginRegisterModal {...props} history={this.props.history} />;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\tpath=\"/controls\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn <InputMapperModal {...props} inputHandler={this.inputHandler} />;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn <SettingsModal {...props} inputHandler={this.inputHandler} />;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcontrolQueues: state.stream.players.controlQueues,\r\n\t\tclient: state.client,\r\n\t\tsettings: state.settings,\r\n\t\tplayerCount: state.stream.players.count,\r\n\t\tstreamType: state.stream.info.streamType,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t\tleavePlayerControlQueue: (controllerNumber) => {\r\n\t\t\tdispatch(leavePlayerControlQueue(controllerNumber));\r\n\t\t},\r\n\t\tjoinPlayerControlQueue: (controllerNumber) => {\r\n\t\t\tdispatch(joinPlayerControlQueue(controllerNumber));\r\n\t\t},\r\n\t\tupdateClient: (client) => {\r\n\t\t\tdispatch(updateClient(client));\r\n\t\t},\r\n\t\tupdateMessages: (messages) => {\r\n\t\t\tdispatch(updateMessages(messages));\r\n\t\t},\r\n\t\tupdateStreamInfo: (data) => {\r\n\t\t\tdispatch(updateStreamInfo(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\twithSnackbar,\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Stream);\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const receiveAccountMap = (map) => {\r\n\treturn {\r\n\t\ttype: types.RECEIVE_ACCOUNT_MAP,\r\n\t\tpayload: {\r\n\t\t\tmap: map,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const sendMessage = (text) => {\r\n\treturn {\r\n\t\ttype: types.SEND_MESSAGE,\r\n\t\tpayload: {\r\n\t\t\ttext: text,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const receiveMessage = (data) => {\r\n\treturn {\r\n\t\ttype: types.RECEIVE_MESSAGE,\r\n\t\tpayload: {\r\n\t\t\ttext: data.text,\r\n\t\t\tusername: data.username,\r\n\t\t\tuserid: data.userid,\r\n\t\t\ttime: data.time,\r\n\t\t\tisReplay: data.isReplay,\r\n\t\t\tisBanned: data.isBanned,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updateMessages = (messages) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_MESSAGES,\r\n\t\tpayload: {\r\n\t\t\tmessages: messages,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const updateStreamInfo = (data) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_STREAM_INFO,\r\n\t\tpayload: {\r\n\t\t\tdata: data,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const updatePlayerControlQueues = (queues) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_PLAYER_CONTROL_QUEUES,\r\n\t\tpayload: {\r\n\t\t\tqueues: queues,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updatePlayerTurnStartTimes = (data) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_PLAYER_TURN_START_TIMES,\r\n\t\tpayload: {\r\n\t\t\tturnStartTimes: data.turnStartTimes,\r\n\t\t\tforfeitStartTimes: data.forfeitStartTimes,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updatePlayerTurnLengths = (data) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_PLAYER_TURN_LENGTHS,\r\n\t\tpayload: {\r\n\t\t\tturnLengths: data.turnLengths,\r\n\t\t\tforfeitLengths: data.forfeitLengths,\r\n\t\t},\r\n\t};\r\n};\r\n\r\n\r\nexport const joinPlayerControlQueue = (controllerNumber) => {\r\n\treturn {\r\n\t\ttype: types.JOIN_PLAYER_CONTROL_QUEUE,\r\n\t\tpayload: {\r\n\t\t\tcontrollerNumber: controllerNumber,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const leavePlayerControlQueue = (controllerNumber) => {\r\n\treturn {\r\n\t\ttype: types.LEAVE_PLAYER_CONTROL_QUEUE,\r\n\t\tpayload: {\r\n\t\t\tcontrollerNumber: controllerNumber,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updatePlayerControllerState = (data) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_PLAYER_CONTROLLER_STATE,\r\n\t\tpayload: {\r\n\t\t\tcNum: data.cNum,\r\n\t\t\tbtns: data.btns,\r\n\t\t\taxes: data.axes,\r\n\t\t},\r\n\t};\r\n};\r\n","import * as types from \"./ActionTypes.js\";\r\n\r\nexport const updateServerTime = (time) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_SERVER_TIME,\r\n\t\tpayload: {\r\n\t\t\ttime: time,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updateLastServerUpdate = (time) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_LAST_SERVER_UPDATE,\r\n\t\tpayload: {\r\n\t\t\ttime: time,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updatePing = (time) => {\r\n\treturn {\r\n\t\ttype: types.UPDATE_PING,\r\n\t\tpayload: {\r\n\t\t\ttime: time,\r\n\t\t},\r\n\t};\r\n};\r\n","import React, { PureComponent } from \"react\";\r\n\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nexport default class MyCheckbox extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t// <label className=\"checkbox-inline checkbox-bootstrap checkbox-lg\">\r\n\t\t\t// \t<input onChange={(event) => {this.props.handleChange(event.target.checked)}} type=\"checkbox\" checked={this.props.checked}/>\r\n\t\t\t// \t<span className=\"checkbox-placeholder\"></span>\r\n\t\t\t// \t{this.props.text}\r\n\t\t\t// </label>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tcontrol={\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\tthis.props.handleChange(event.target.checked);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={this.props.checked || false}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t\tlabel={this.props.text}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Slider } from \"@material-ui/core\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\tslider: {\r\n\t\twidth: \"70%\",\r\n\t},\r\n});\r\n\r\nclass MySlider extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleLocalChange = this.handleLocalChange.bind(this);\r\n\t\tthis.bounce = this.bounce.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvalue: 0,\r\n\t\t};\r\n\r\n\t\tthis.active = false;\r\n\t\tthis.bounceTimer = null;\r\n\t\tthis.countDown = 0;\r\n\t\tthis.countUp = 0;\r\n\t}\r\n\r\n\tbounce() {\r\n\t\tthis.countDown -= 100;\r\n\t\tthis.countUp += 50;\r\n\t\tif (this.countUp >= 100) {\r\n\t\t\tthis.countUp = 0;\r\n\t\t\tthis.props.handleChange(this.state.value);\r\n\t\t}\r\n\t\tif (this.countDown <= 0) {\r\n\t\t\tthis.active = false;\r\n\t\t\tthis.countDown = 0;\r\n\t\t\tclearInterval(this.bounceTimer);\r\n\t\t\tif (typeof this.props.handleAfterChange != \"undefined\") {\r\n\t\t\t\tthis.props.handleAfterChange(this.state.value);\r\n\t\t\t\t// trigger a re-render after the handleAfterChange:\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.setState({ value: Math.random() });\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleLocalChange(event, value) {\r\n\t\tthis.setState({ value: value });\r\n\r\n\t\tif (typeof this.props.handleChange != \"undefined\") {\r\n\t\t\tthis.countDown = 1000;\r\n\t\t\tif (!this.active) {\r\n\t\t\t\tthis.active = true;\r\n\t\t\t\tthis.props.handleChange(value);\r\n\t\t\t\tthis.bounceTimer = setInterval(this.bounce, this.props.bounceInterval || 100);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n\t\t\t<Slider\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: this.props.rootClass || classes.slider,\r\n\t\t\t\t\tthumb: this.props.thumbClass,\r\n\t\t\t\t\tactive: this.props.activeClass,\r\n\t\t\t\t\trail: this.props.railClass,\r\n\t\t\t\t\ttrack: this.props.trackClass,\r\n\t\t\t\t}}\r\n\t\t\t\tmin={this.props.min}\r\n\t\t\t\tmax={this.props.max}\r\n\t\t\t\tstep={this.props.step}\r\n\t\t\t\tonChange={this.handleLocalChange}\r\n\t\t\t\tvalue={(this.active ? this.state.value : this.props.value) || 0}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(MySlider);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n// import Fade from \"@material-ui/core/Fade\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\nlet classNames = require(\"classnames\");\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {},\r\n});\r\n\r\nconst options = [\"Light\", \"Dark\", \"Spooky\"];\r\nconst options2 = [\"light\", \"dark\", \"spooky\"];\r\n\r\nclass ThemeSelector extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.handleMenuItemClick = this.handleMenuItemClick.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null,\r\n\t\t\t// selectedIndex: 1,\r\n\t\t};\r\n\t}\r\n\r\n\thandleClick(event) {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuItemClick(event, index) {\r\n\t\t// this.setState({ selectedIndex: index, anchorEl: null });\r\n\t\tthis.setState({ anchorEl: null });\r\n\t\tthis.props.switchTheme(options2[index]);\r\n\t}\r\n\r\n\thandleClose() {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconst open = Boolean(this.state.anchorEl);\r\n\r\n\t\tlet themeIndex = options2.indexOf(this.props.theme);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.handleClick}>\r\n\t\t\t\t\tSelect Theme\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tid=\"themeSelector\"\r\n\t\t\t\t\tanchorEl={this.state.anchorEl}\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\t// TransitionComponent={Fade}\r\n\t\t\t\t\tPaperProps={{\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmaxHeight: 48 * 4.5,\r\n\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{options.map((option, index) => (\r\n\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\tkey={option}\r\n\t\t\t\t\t\t\tdisabled={index === themeIndex}\r\n\t\t\t\t\t\t\tselected={index === themeIndex}\r\n\t\t\t\t\t\t\tonClick={(event) => this.handleMenuItemClick(event, index)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Menu>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttheme: state.settings.theme,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tswitchTheme: (index) => {\r\n\t\t\tdispatch(updateSettings({ theme: index }));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps,\r\n\t),\r\n)(ThemeSelector);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n});\r\n\r\nclass AudioVideo extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<div>test</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(AudioVideo);\r\n","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n\tListItemText,\r\n\tListItem,\r\n\tList,\r\n\tOutlinedInput,\r\n\tSelect,\r\n\tMenuItem,\r\n\tButton,\r\n\tPaper,\r\n\tTabs,\r\n\tTab,\r\n} from \"@material-ui/core\";\r\n\r\n// components:\r\nimport MySlider from \"src/components/General/MySlider.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\nconst MAP_BUTTON_NAMES = [\r\n\t\"b\",\r\n\t\"a\",\r\n\t\"y\",\r\n\t\"x\",\r\n\t\"l\",\r\n\t\"r\",\r\n\t\"zl\",\r\n\t\"zr\",\r\n\t\"minus\",\r\n\t\"plus\",\r\n\t\"lstick\",\r\n\t\"rstick\",\r\n\t\"up\",\r\n\t\"down\",\r\n\t\"left\",\r\n\t\"right\",\r\n\t\"home\",\r\n];\r\n\r\nconst DISPLAY_BUTTON_NAMES = [\r\n\t\"B\",\r\n\t\"A\",\r\n\t\"Y\",\r\n\t\"X\",\r\n\t\"L\",\r\n\t\"R\",\r\n\t\"ZL\",\r\n\t\"ZR\",\r\n\t\"Minus\",\r\n\t\"Plus\",\r\n\t\"LStick\",\r\n\t\"RStick\",\r\n\t\"Up\",\r\n\t\"Down\",\r\n\t\"Left\",\r\n\t\"Right\",\r\n\t\"Home\",\r\n];\r\n\r\nconst BUTTON_LAYOUTS = {\r\n\txbox: [\r\n\t\t\"A\",\r\n\t\t\"B\",\r\n\t\t\"X\",\r\n\t\t\"Y\",\r\n\t\t\"LB\",\r\n\t\t\"RB\",\r\n\t\t\"LT\",\r\n\t\t\"RT\",\r\n\t\t\"Select\",\r\n\t\t\"Start\",\r\n\t\t\"LStick\",\r\n\t\t\"RStick\",\r\n\t\t\"Up\",\r\n\t\t\"Down\",\r\n\t\t\"Left\",\r\n\t\t\"Right\",\r\n\t\t\"Xbox\",\r\n\t],\r\n\tDS4: [\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"\",\r\n\t\t\"L1\",\r\n\t\t\"R1\",\r\n\t\t\"L2\",\r\n\t\t\"R2\",\r\n\t\t\"Share\",\r\n\t\t\"Options\",\r\n\t\t\"L3\",\r\n\t\t\"R3\",\r\n\t\t\"Up\",\r\n\t\t\"Down\",\r\n\t\t\"Left\",\r\n\t\t\"Right\",\r\n\t\t\"PS\",\r\n\t\t\"Touchpad\",\r\n\t],\r\n\tproController: [],\r\n};\r\n\r\nconst DISPLAY_AXIS_NAMES = [\"LX\", \"LY\", \"RX\", \"RY\"];\r\nconst MAP_AXIS_NAMES = [\"LX\", \"LY\", \"RX\", \"RY\"];\r\n\r\nconst DISPLAY_KEYBOARD_NAMES = [\r\n\t\"LU\",\r\n\t\"LD\",\r\n\t\"LL\",\r\n\t\"LR\",\r\n\t\"RU\",\r\n\t\"RD\",\r\n\t\"RL\",\r\n\t\"RR\",\r\n\t\"A\",\r\n\t\"B\",\r\n\t\"X\",\r\n\t\"Y\",\r\n\t\"Up\",\r\n\t\"Down\",\r\n\t\"Left\",\r\n\t\"Right\",\r\n\t\"LStick\",\r\n\t\"RStick\",\r\n\t\"L\",\r\n\t\"ZL\",\r\n\t\"R\",\r\n\t\"ZR\",\r\n\t\"Minus\",\r\n\t\"Plus\",\r\n\t\"Capture\",\r\n\t\"Home\",\r\n];\r\n\r\nconst MAP_KEYBOARD_NAMES = [\r\n\t\"LU\",\r\n\t\"LD\",\r\n\t\"LL\",\r\n\t\"LR\",\r\n\t\"RU\",\r\n\t\"RD\",\r\n\t\"RL\",\r\n\t\"RR\",\r\n\t\"a\",\r\n\t\"b\",\r\n\t\"x\",\r\n\t\"y\",\r\n\t\"up\",\r\n\t\"down\",\r\n\t\"left\",\r\n\t\"right\",\r\n\t\"lstick\",\r\n\t\"rstick\",\r\n\t\"l\",\r\n\t\"zl\",\r\n\t\"r\",\r\n\t\"zr\",\r\n\t\"minus\",\r\n\t\"plus\",\r\n\t\"capture\",\r\n\t\"home\",\r\n];\r\n\r\nclass ControllerMapper extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapAxisTimer = null;\r\n\t\tthis.mapButtonTimer = null;\r\n\t\tthis.currentMapping = \"unset\";\r\n\r\n\t\tthis.mapButton = this.mapButton.bind(this);\r\n\t\tthis.mapAxis = this.mapAxis.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\twaiting: false,\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tmapButton() {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tinputHandler.controller.lastChangedButton = null;\r\n\r\n\t\tthis.setState({ waiting: true });\r\n\r\n\t\tthis.mapButtonTimer = setInterval(() => {\r\n\t\t\tif (inputHandler.controller.lastChangedButton != null) {\r\n\t\t\t\tclearInterval(this.mapButtonTimer);\r\n\r\n\t\t\t\tif (this.props.type == \"button\") {\r\n\t\t\t\t\tlet lastChangedIndex = inputHandler.controller.lastChangedButton;\r\n\t\t\t\t\tlet which = parseInt(this.props.which);\r\n\r\n\t\t\t\t\tif (this.currentMapping !== \"unset\") {\r\n\t\t\t\t\t\tinputHandler.controller.settings.map.buttons[\r\n\t\t\t\t\t\t\tparseInt(this.currentMapping)\r\n\t\t\t\t\t\t].which = \"unset\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tinputHandler.controller.settings.map.buttons[lastChangedIndex].type = \"button\";\r\n\t\t\t\t\tinputHandler.controller.settings.map.buttons[lastChangedIndex].which =\r\n\t\t\t\t\t\tMAP_BUTTON_NAMES[which];\r\n\t\t\t\t}\r\n\t\t\t\tif (this.props.type == \"axis\") {\r\n\t\t\t\t\t// todo: finish\r\n\t\t\t\t\t// inputHandler.controller.settings.map.buttons[parseInt(this.props.which)].type = \"axis\";\r\n\t\t\t\t\t// inputHandler.controller.settings.map.axes[parseInt(this.props.which)] = MAP_BUTTON_NAMES[inputHandler.controller.lastChangedButton];\r\n\t\t\t\t}\r\n\t\t\t\tinputHandler.controller.lastChangedButton = null;\r\n\t\t\t\tthis.setState({ waiting: false });\r\n\t\t\t\tthis.props.update();\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t}\r\n\r\n\tmapAxis() {\r\n\t\t// this.setState({waiting: true});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet DISPLAY_NAMES =\r\n\t\t\tthis.props.type == \"button\" ? DISPLAY_BUTTON_NAMES : DISPLAY_AXIS_NAMES;\r\n\t\tlet MAP_NAMES = this.props.type == \"button\" ? MAP_BUTTON_NAMES : MAP_AXIS_NAMES;\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tif (this.state.waiting) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t{`${DISPLAY_NAMES[this.props.which]}`} waiting for axis / button input...\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t}\r\n\t\tthis.currentMapping = \"unset\";\r\n\t\tif (this.props.type == \"button\") {\r\n\t\t\tfor (let i = 0; i < inputHandler.controller.settings.map.buttons.length; i++) {\r\n\t\t\t\tlet btn = inputHandler.controller.settings.map.buttons[i];\r\n\t\t\t\tif (btn.which === MAP_NAMES[this.props.which]) {\r\n\t\t\t\t\tthis.currentMapping = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (this.props.type == \"axis\") {\r\n\t\t\tfor (let i = 0; i < inputHandler.controller.settings.map.axes.length; i++) {\r\n\t\t\t\tlet axis = inputHandler.controller.settings.map.axes[i];\r\n\t\t\t\tif (axis.which === MAP_NAMES[this.props.which]) {\r\n\t\t\t\t\tthis.currentMapping = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet currentMappingNamed;\r\n\r\n\t\tif (inputHandler.controller.settings.detectedType !== null) {\r\n\t\t\tcurrentMappingNamed =\r\n\t\t\t\tBUTTON_LAYOUTS[inputHandler.controller.settings.detectedType][\r\n\t\t\t\t\tthis.currentMapping\r\n\t\t\t\t];\r\n\t\t} else {\r\n\t\t\tcurrentMappingNamed = this.currentMapping;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem className={classes.listItem}>\r\n\t\t\t\t<ListItemText>{`${DISPLAY_NAMES[this.props.which]}`}</ListItemText>\r\n\t\t\t\t<ListItemText>{currentMappingNamed}</ListItemText>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapButton}>\r\n\t\t\t\t\tMap To Button\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapAxis}>\r\n\t\t\t\t\tMap To Axis\r\n\t\t\t\t</Button>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass KeyboardMapper extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.mapAxisTimer = null;\r\n\t\tthis.mapButtonTimer = null;\r\n\r\n\t\tthis.mapKey = this.mapKey.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\twaiting: false,\r\n\t\t};\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tmapKey() {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tinputHandler.keyboard.lastPressedKey = null;\r\n\r\n\t\tthis.setState({ waiting: true });\r\n\r\n\t\tthis.mapKeyTimer = setInterval(() => {\r\n\t\t\tif (inputHandler.keyboard.lastPressedKey != null) {\r\n\t\t\t\tclearInterval(this.mapKeyTimer);\r\n\r\n\t\t\t\tinputHandler.keyboard.map[MAP_KEYBOARD_NAMES[parseInt(this.props.which)]] =\r\n\t\t\t\t\tinputHandler.keyboard.lastPressedKey;\r\n\t\t\t\tinputHandler.keyboard.lastPressedKey = null;\r\n\r\n\t\t\t\tthis.setState({ waiting: false });\r\n\t\t\t\tthis.props.update();\r\n\t\t\t}\r\n\t\t}, 200);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\r\n\t\tif (this.state.waiting) {\r\n\t\t\treturn (\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t{`${DISPLAY_KEYBOARD_NAMES[this.props.which]}`} waiting for keypress...\r\n\t\t\t\t\t</ListItemText>\r\n\t\t\t\t</ListItem>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// let currentMapping = inputHandler.keyboard.map2[parseInt(this.props.which)];\r\n\t\tlet currentMapping =\r\n\t\t\tinputHandler.keyboard.map[MAP_KEYBOARD_NAMES[parseInt(this.props.which)]];\r\n\r\n\t\treturn (\r\n\t\t\t<ListItem className={classes.listItem}>\r\n\t\t\t\t<ListItemText>{`${DISPLAY_KEYBOARD_NAMES[this.props.which]}`}</ListItemText>\r\n\t\t\t\t<ListItemText>{currentMapping}</ListItemText>\r\n\t\t\t\t<Button variant=\"contained\" onClick={this.mapKey}>\r\n\t\t\t\t\tMap To Key\r\n\t\t\t\t</Button>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n\tcontrollerRemapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"15px\",\r\n\t},\r\n\tkeyboardRemapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"15px\",\r\n\t},\r\n\tlist: {\r\n\t\tmaxHeight: \"400px\",\r\n\t\toverflowY: \"auto\",\r\n\t},\r\n\tlistItem: {\r\n\t\t\"& > div\": {\r\n\t\t\twidth: \"10%\",\r\n\t\t},\r\n\t},\r\n\r\n\t// slider:\r\n\trootClass: {\r\n\t\twidth: \"50%\",\r\n\t},\r\n\trail: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\ttrack: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t},\r\n\tthumb: {\r\n\t\tbackgroundColor: \"#FFF\",\r\n\t\t\"&:hover\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 9px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t\t\"&:active\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16)\",\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\t\"span&\": {\r\n\t\t\tboxShadow: \"0px 0px 0px 18px rgba(255, 255, 255, 0.16) !important\",\r\n\t\t},\r\n\t},\r\n\r\n\t// slider settings:\r\n\tsliderSettings: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmargin: \"15px 0px\",\r\n\r\n\t\t\"& > div\": {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tlineHeight: \"28px\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t\tpadding: \"10px\",\r\n\t\t},\r\n\t},\r\n});\r\n\r\nclass InputMapperModal extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\twhichTab: 0,\r\n\t\t};\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t};\r\n\r\n\thandleChange = (event) => {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tinputHandler.controller.settings.controllerIndex = \"\" + event.target.value;\r\n\t\tthis.setState({});\r\n\t};\r\n\r\n\trescanGamepads = () => {\r\n\t\twindow.inputHandler.controller.autoSelectGamepad();\r\n\t\tthis.update();\r\n\t};\r\n\r\n\tupdate = () => {\r\n\t\tthis.setState({});\r\n\t};\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconsole.log(\"re-rendering InputMapper.\");\r\n\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tlet gamepadWrapper = inputHandler.gamepadWrapper;\r\n\r\n\t\tlet activeGamepadIndex = inputHandler.controller.settings.controllerIndex;\r\n\r\n\t\tlet gamepads = [];\r\n\t\tfor (let gamepadIndex in gamepadWrapper.controllers) {\r\n\t\t\tgamepads.push(\r\n\t\t\t\t<MenuItem key={gamepadIndex} value={gamepadIndex}>\r\n\t\t\t\t\t{gamepadWrapper.controllers[gamepadIndex].id}\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// show that no gamepad is selected if one isn't:\r\n\t\tif (activeGamepadIndex == null && gamepads.length > 0) {\r\n\t\t\t// set to 0 so we render this:\r\n\t\t\tactiveGamepadIndex = 0;\r\n\t\t\t// prepend so it's first:\r\n\t\t\tgamepads.unshift(\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNo gamepad selected\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (gamepads.length == 0 || activeGamepadIndex == null) {\r\n\t\t\tactiveGamepadIndex = 0;\r\n\t\t\tgamepads.push(\r\n\t\t\t\t<MenuItem key={0} value={0}>\r\n\t\t\t\t\tNo gamepads detected\r\n\t\t\t\t</MenuItem>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tvalue={this.state.whichTab}\r\n\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t// scrollable\r\n\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\tthis.setState({ whichTab: value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab label=\"Controller\" />\r\n\t\t\t\t\t<Tab label=\"Keyboard\" />\r\n\t\t\t\t\t{/* <Tab label=\"Mouse\" /> */}\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t{this.state.whichTab === 0 && (\r\n\t\t\t\t\t<Paper className={classes.controllerRemapper} elevation={4}>\r\n\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\tActive Gamepad Type:\r\n\t\t\t\t\t\t\t{\" \" + (inputHandler.controller.settings.detectedType || \"Unknown\")}\r\n\t\t\t\t\t\t</ListItemText>\r\n\r\n\t\t\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={activeGamepadIndex}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\tinput={<OutlinedInput labelWidth={0} />}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\twidth: \"80%\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{gamepads}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.rescanGamepads}>\r\n\t\t\t\t\t\t\t\tRescan\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Paper elevation={4} className={classes.sliderSettings}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tStick Deadzone: {inputHandler.controller.settings.axes[0].deadzone}\r\n\t\t\t\t\t\t\t\t<MySlider\r\n\t\t\t\t\t\t\t\t\trootClass={classes.rootClass}\r\n\t\t\t\t\t\t\t\t\tthumbClass={classes.thumb}\r\n\t\t\t\t\t\t\t\t\tactiveClass={classes.active}\r\n\t\t\t\t\t\t\t\t\trailClass={classes.rail}\r\n\t\t\t\t\t\t\t\t\ttrackClass={classes.track}\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={1}\r\n\t\t\t\t\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\t\t\t\t\thandleChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\tfor (\r\n\t\t\t\t\t\t\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ti < inputHandler.controller.settings.axes.length;\r\n\t\t\t\t\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinputHandler.controller.settings.axes[i].deadzone = value;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={inputHandler.controller.settings.axes[0].deadzone}\r\n\t\t\t\t\t\t\t\t\tbounceInterval={100}\r\n\t\t\t\t\t\t\t\t\tdelay={500}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\tStick Sensitivity: {inputHandler.controller.settings.axes[0].sensitivity}\r\n\t\t\t\t\t\t\t\t<MySlider\r\n\t\t\t\t\t\t\t\t\trootClass={classes.rootClass}\r\n\t\t\t\t\t\t\t\t\tthumbClass={classes.thumb}\r\n\t\t\t\t\t\t\t\t\tactiveClass={classes.active}\r\n\t\t\t\t\t\t\t\t\trailClass={classes.rail}\r\n\t\t\t\t\t\t\t\t\ttrackClass={classes.track}\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={3}\r\n\t\t\t\t\t\t\t\t\tstep={0.01}\r\n\t\t\t\t\t\t\t\t\thandleChange={(value) => {\r\n\t\t\t\t\t\t\t\t\t\tfor (\r\n\t\t\t\t\t\t\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ti < inputHandler.controller.settings.axes.length;\r\n\t\t\t\t\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tinputHandler.controller.settings.axes[i].sensitivity = value;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={inputHandler.controller.settings.axes[0].sensitivity}\r\n\t\t\t\t\t\t\t\t\tbounceInterval={100}\r\n\t\t\t\t\t\t\t\t\tdelay={500}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Paper>\r\n\r\n\t\t\t\t\t\t<Paper elevation={2} style={{ marginTop: 15 }}>\r\n\t\t\t\t\t\t\t<List className={classes.list}>\r\n\t\t\t\t\t\t\t\t{[...Array(17)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<ControllerMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t{[...Array(4)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<ControllerMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"axis\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.whichTab === 1 && (\r\n\t\t\t\t\t<Paper className={classes.keyboardRemapper} elevation={4}>\r\n\t\t\t\t\t\t<Paper elevation={2}>\r\n\t\t\t\t\t\t\t<List className={classes.list}>\r\n\t\t\t\t\t\t\t\t{[...Array(26)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t<KeyboardMapper\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tupdate={this.update}\r\n\t\t\t\t\t\t\t\t\t\tinputHandler={inputHandler}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\twhich={i}\r\n\t\t\t\t\t\t\t\t\t\tclasses={this.props.classes}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(InputMapperModal);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport CheckboxSettings from \"components/Stream/StreamInfo/CheckboxSettings.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n});\r\n\r\nclass Site extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<CheckboxSettings />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(Site);\r\n","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, withRouter } from \"react-router\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n\r\n// components:\r\n\r\nimport InputMapper from \"./Settings/InputMapper.jsx\";\r\nimport Site from \"./Settings/Site.jsx\";\r\nimport AudioVideo from \"./Settings/AudioVideo.jsx\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// jss:\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// padding: \"0px 0px 25px 0px !important\",\r\n\t\tpadding: \"0 !important\",\r\n\t},\r\n\tcontrols: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tav: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n\tsite: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// padding: \"15px\",\r\n\t},\r\n});\r\n\r\nclass SettingsModal extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.update = this.update.bind(this);\r\n\t\tthis.handleClose = this.handleClose.bind(this);\r\n\t}\r\n\r\n\thandleClose() {\r\n\t\t// this.props.history.push(\"/\");\r\n\t\tthis.props.history.goBack();\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tlet inputHandler = window.inputHandler;\r\n\t\tinputHandler.controller.settings.controllerIndex = \"\" + event.target.value;\r\n\t\tthis.setState({});\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tthis.setState({});\r\n\t}\r\n\r\n\tshouldComponentUpdate() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tconsole.log(\"re-rendering SettingsModal.\");\r\n\r\n\t\tlet which;\r\n\r\n\t\tswitch (this.props.history.location.pathname) {\r\n\t\t\tcase \"/settings/av\":\r\n\t\t\t\twhich = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"/settings/controls\":\r\n\t\t\t\twhich = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"/settings/site\":\r\n\t\t\t\twhich = 2;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tscroll=\"body\"\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.root}>\r\n\t\t\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\r\n\t\t\t\t\t\t\t\tSettings\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tcentered\r\n\t\t\t\t\t\tvalue={which}\r\n\t\t\t\t\t\tclasses={{ root: classes.tabs }}\r\n\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t// scrollable\r\n\t\t\t\t\t\t// scrollButtons=\"auto\"\r\n\t\t\t\t\t\tonChange={(event, value) => {\r\n\t\t\t\t\t\t\tif (value === 0) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/av\");\r\n\t\t\t\t\t\t\t} else if (value === 1) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/controls\");\r\n\t\t\t\t\t\t\t} else if (value === 2) {\r\n\t\t\t\t\t\t\t\tthis.props.history.replace(\"/settings/site\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tab label=\"Audio Video\" />\r\n\t\t\t\t\t\t<Tab label=\"Controls\" />\r\n\t\t\t\t\t\t<Tab label=\"Site\" />\r\n\t\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/controls\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<InputMapper />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/site\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<Site />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/settings/av\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.controls} elevation={4}>\r\n\t\t\t\t\t\t\t\t\t<AudioVideo />\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default compose(withRouter, withStyles(styles))(SettingsModal);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { List, ListItem, Paper } from \"@material-ui/core\";\r\n\r\n// components:\r\nimport MyCheckbox from \"src/components/General/MyCheckbox.jsx\";\r\nimport ThemeSelector from \"src/components/General/ThemeSelector.jsx\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"src/actions/settings.js\";\r\n\r\n// libs:\r\nimport { toggleFullscreen } from \"libs/tools.js\";\r\n\r\nclass CheckboxSettings extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Paper elevation={5}>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Keyboard Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ keyboardControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.keyboardControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Controller Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.controllerControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Touch Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ touchControls: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.touchControls}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Real keyboard / mouse\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ realKeyboardMouse: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.realKeyboardMouse}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Largescreen Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ largescreen: state });\r\n\t\t\t\t\t\t\t\tif (state && this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerView: false });\r\n\t\t\t\t\t\t\t\t} else if (!state && !this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerView: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.largescreen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Mobile Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ mobileMode: state, touchControls: state });\r\n\t\t\t\t\t\t\t\t// if (state && this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ controllerView: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && !this.props.settings.controllerView) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ controllerView: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t// if (state && !this.props.settings.hideChat) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideChat: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && this.props.settings.hideChat) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideChat: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t// if (state && !this.props.settings.hideNav) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideNav: false });\r\n\t\t\t\t\t\t\t\t// } else if (!state && this.props.settings.hideNav) {\r\n\t\t\t\t\t\t\t\t// \tthis.props.updateSettings({ hideNav: true });\r\n\t\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\t\tif (state) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\thideChat: true,\r\n\t\t\t\t\t\t\t\t\t\thideNav: true,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: true,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\thideChat: false,\r\n\t\t\t\t\t\t\t\t\t\thideNav: false,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.dispatchEvent(new Event(\"resize\"));\r\n\t\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.mobileMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Audio 3.0\"}\r\n\t\t\t\t\t\t\thandleChange={this.props.toggleAudioThree}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.audioThree}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<ThemeSelector />\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Fullscreen Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tif (state) {\r\n\t\t\t\t\t\t\t\t\t// $(document).scrollTop(0);\r\n\t\t\t\t\t\t\t\t\tdocument.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\t\t\t\t\t\t\t\t\t// $(\"body\").addClass(\"hideScrollbar\");\r\n\t\t\t\t\t\t\t\t\t// $(\"#root\").children()[0].style.padding = \"0\";\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\tfullscreen: state,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: false,\r\n\t\t\t\t\t\t\t\t\t\thideChat: true,\r\n\t\t\t\t\t\t\t\t\t\thideNav: true,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\ttoggleFullscreen(document.getElementsByTagName(\"html\")[0]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// console.log(\"exiting fullscreen\");\r\n\t\t\t\t\t\t\t\t\t// $(\"body\").removeClass(\"hideScrollbar\");\r\n\t\t\t\t\t\t\t\t\t// $(\"#root\").children()[0].style.padding = \"\";\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({\r\n\t\t\t\t\t\t\t\t\t\tfullscreen: state,\r\n\t\t\t\t\t\t\t\t\t\tlargescreen: false,\r\n\t\t\t\t\t\t\t\t\t\tcontrollerView: true,\r\n\t\t\t\t\t\t\t\t\t\thideChat: false,\r\n\t\t\t\t\t\t\t\t\t\thideNav: false,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.fullscreen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Mouse Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {this.props.updateSettings({ mouseControls: state })}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.mouseControls}/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Touch Controls\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {this.props.updateSettings({ touchControls: state })}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.touchControls}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Analog Stick Mode\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ analogStickMode: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.analogStickMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"DPad Swap\"}\r\n\t\t\t\t\t\t\thandleChange={this.toggleDpadSwap}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.dpadSwap}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"3Ds config\"}\r\n\t\t\t\t\t\t\thandleChange={this.toggleTDSConfig}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.TDSConfig}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Hide Chat\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ hideChat: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.hideChat}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Hide Nav Bar\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ hideNav: state });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.hideNav}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t<MyCheckbox\r\n\t\t\t\t\t\t\ttext={\"Enable Controller View\"}\r\n\t\t\t\t\t\t\thandleChange={(state) => {\r\n\t\t\t\t\t\t\t\tthis.props.updateSettings({ controllerView: state });\r\n\t\t\t\t\t\t\t\tif (state && this.props.settings.largescreen) {\r\n\t\t\t\t\t\t\t\t\tthis.props.updateSettings({ largescreen: false });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tchecked={this.props.settings.controllerView}/>\r\n\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t</List>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// export default JoinLeaveQueueButton;\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsettings: state.settings,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSettings: (settings) => {\r\n\t\t\tdispatch(updateSettings(settings));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckboxSettings);\r\n","// react:\nimport React, { PureComponent } from \"react\";\n\n// react-router:\nimport { withRouter } from \"react-router\";\n\n// redux:\nimport { connect } from \"react-redux\";\n\n// main components:\n\n// material ui:\nimport { withStyles } from \"@material-ui/core/styles\";\n\n// components:\nimport AppBar from \"@material-ui/core/AppBar\";\n// import ListItemText from \"@material-ui/core/ListItemText\";\nimport Button from \"@material-ui/core/Button\";\n// import Paper from \"@material-ui/core/Paper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n// import MailIcon from \"@material-ui/icons/Mail\";\n// import NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Badge from \"@material-ui/core/Badge\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// recompose:\nimport { compose } from \"recompose\";\n\n// device sizes:\nimport { device } from \"src/constants/DeviceSizes.js\";\n\n// libs:\n// import classNames from \"classnames\";\n\n// jss:\nconst styles = (theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"48px\",\n\t\tzIndex: 1300,\n\t},\n\t[device.mobile]: {\n\t\troot: {\n\t\t\theight: \"64px\",\n\t\t},\n\t},\n\t[device.tablet]: {\n\t\troot: {},\n\t},\n\t[device.laptop]: {\n\t\troot: {},\n\t},\n\tgrow: {\n\t\tflexGrow: 1,\n\t},\n\tmenuButton: {\n\t\tmarginLeft: -12,\n\t\tmarginRight: 20,\n\t},\n\ttitle: {\n\t\tdisplay: \"none\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t\tcursor: \"pointer\",\n\t},\n\tsearch: {\n\t\tposition: \"relative\",\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\n\t\t\"&:hover\": {\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25),\n\t\t},\n\t\tmarginRight: theme.spacing(2),\n\t\tmarginLeft: 0,\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tmarginLeft: theme.spacing(3),\n\t\t\twidth: \"auto\",\n\t\t},\n\t},\n\tsearchIcon: {\n\t\twidth: theme.spacing(9),\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\tpointerEvents: \"none\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\tinputRoot: {\n\t\tcolor: \"inherit\",\n\t\twidth: \"100%\",\n\t},\n\tinputInput: {\n\t\tpaddingTop: theme.spacing(1),\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingBottom: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(10),\n\t\ttransition: theme.transitions.create(\"width\"),\n\t\twidth: \"100%\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\twidth: 200,\n\t\t},\n\t},\n\tsectionDesktop: {\n\t\tdisplay: \"none\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tdisplay: \"flex\",\n\t\t},\n\t},\n\tsectionMobile: {\n\t\tdisplay: \"flex\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tdisplay: \"none\",\n\t\t},\n\t},\n});\n\nclass StreamsAppBar extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tanchorEl: null,\n\t\t\tmobileMoreAnchorEl: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {}\n\n\thandleLoginRegister = () => {\n\t\tthis.props.history.push(\"/login\");\n\t};\n\n\thandleProfileMenuOpen = (event) => {\n\t\tthis.setState({ anchorEl: event.currentTarget });\n\t};\n\n\thandleMenuClose = () => {\n\t\tthis.setState({ anchorEl: null });\n\t\tthis.handleMobileMenuClose();\n\t};\n\n\thandleMobileMenuOpen = (event) => {\n\t\tthis.setState({ mobileMoreAnchorEl: event.currentTarget });\n\t};\n\n\thandleMobileMenuClose = () => {\n\t\tthis.setState({ mobileMoreAnchorEl: null });\n\t};\n\n\thandleDownloadHostFiles = () => {\n\t\twindow.open(\"https://remotegames.io/8099/download/\", \"_blank\");\n\t};\n\n\thandleProjectDiscord = () => {\n\t\twindow.open(\"https://discord.io/rgio/\", \"_blank\");\n\t};\n\n\thandleDevDiscord = () => {\n\t\twindow.open(\"https://discord.io/fosse/\", \"_blank\");\n\t};\n\n\trender() {\n\t\tconsole.log(\"re-rendering streamsappbar.\");\n\n\t\tif (this.props.hide) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { anchorEl, mobileMoreAnchorEl } = this.state;\n\t\tconst { classes } = this.props;\n\t\tconst isMenuOpen = Boolean(anchorEl);\n\t\tconst isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n\t\tconst renderMenu = (\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\topen={isMenuOpen}\n\t\t\t\tonClose={this.handleMenuClose}\n\t\t\t>\n\t\t\t\t{/* <MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleMenuClose();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tProfile\n\t\t\t\t</MenuItem> */}\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleMenuClose();\n\t\t\t\t\t\tthis.props.history.push(\"/account\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tMy account\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t);\n\n\t\tconst renderMobileMenu = (\n\t\t\t<Menu\n\t\t\t\tanchorEl={mobileMoreAnchorEl}\n\t\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n\t\t\t\topen={isMobileMenuOpen}\n\t\t\t\tonClose={this.handleMenuClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={this.handleProfileMenuOpen}>\n\t\t\t\t\t<IconButton color=\"inherit\">\n\t\t\t\t\t\t<AccountCircle />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<p>Profile</p>\n\t\t\t\t</MenuItem>\n\t\t\t\t{/* <MenuItem onClick={this.handleMobileMenuClose}>\n\t\t\t\t\t<IconButton color=\"inherit\">\n\t\t\t\t\t\t<Badge badgeContent={0} color=\"secondary\">\n\t\t\t\t\t\t\t<MailIcon />\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<p>Messages</p>\n\t\t\t\t</MenuItem> */}\n\t\t\t\t<MenuItem onClick={this.handleDownloadHostFiles}>\n\t\t\t\t\t<p>Download Host Files</p>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={this.handleProjectDiscord}>\n\t\t\t\t\t<p>Project Discord Server</p>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={this.handleDevDiscord}>\n\t\t\t\t\t<p>Dev's Discord Server</p>\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<AppBar position=\"fixed\">\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName={classes.menuButton}\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\taria-label=\"Open drawer\"\n\t\t\t\t\t\t\tonClick={this.props.handleToggleDrawer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tclassName={classes.title}\n\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.history.push(\"/\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* <Button color=\"inherit\" > */}\n\t\t\t\t\t\t\tStreams\n\t\t\t\t\t\t\t{/* </Button> */}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div className={classes.search}>\n\t\t\t\t\t\t\t<div className={classes.searchIcon}>\n\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<InputBase\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t\t\t\t\t\tinput: classes.inputInput,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={classes.grow} />\n\n\t\t\t\t\t\t{this.props.loggedIn ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className={classes.sectionDesktop}>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleDownloadHostFiles}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDownload Host Files\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleProjectDiscord}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tProject Discord\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleDevDiscord}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDev's Discord\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{/* <IconButton color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<Badge badgeContent={0} color=\"secondary\">\n\t\t\t\t\t\t\t\t\t\t\t<MailIcon />\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</IconButton> */}\n\t\t\t\t\t\t\t\t\t{/* <IconButton color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<Badge badgeContent={0} color=\"secondary\">\n\t\t\t\t\t\t\t\t\t\t\t<NotificationsIcon />\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</IconButton> */}\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-owns={isMenuOpen ? \"material-appbar\" : undefined}\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleProfileMenuOpen}\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<AccountCircle />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.sectionMobile}>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleMobileMenuOpen}\n\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<MoreIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div style={{ width: \"10px\" }} />\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tonClick={this.handleLoginRegister}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tLogin / Register\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t{renderMenu}\n\t\t\t\t{renderMobileMenu}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tloggedIn: state.client.loggedIn,\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {};\n};\n\nexport default compose(\n\twithRouter,\n\twithStyles(styles),\n\tconnect(mapStateToProps, mapDispatchToProps),\n)(StreamsAppBar);\n","export const size = {\r\n\tmobile: \"600px\",\r\n\ttablet: \"768px\",\r\n\tlaptop: \"1024px\",\r\n\tdesktop: \"1440px\",\r\n};\r\n\r\nexport const device = {\r\n\tmobile: `@media (min-width: ${size.mobile})`,\r\n\ttablet: `@media (min-width: ${size.tablet})`,\r\n\tlaptop: `@media (min-width: ${size.laptop})`,\r\n\tdesktop: `@media (min-width: ${size.desktop})`,\r\n};\r\n","import { clamp } from \"libs/tools.js\";\r\n\r\nexport class ControllerState {\r\n\tconstructor() {\r\n\t\tthis.buttons = {\r\n\t\t\tunset: 0,\r\n\t\t\tup: 0,\r\n\t\t\tdown: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tl: 0,\r\n\t\t\tzl: 0,\r\n\t\t\tlstick: 0,\r\n\t\t\tminus: 0,\r\n\t\t\tcapture: 0,\r\n\r\n\t\t\ta: 0,\r\n\t\t\tb: 0,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tr: 0,\r\n\t\t\tzr: 0,\r\n\t\t\trstick: 0,\r\n\t\t\tplus: 0,\r\n\t\t\thome: 0,\r\n\t\t};\r\n\r\n\t\tthis.btns = 0;\r\n\r\n\t\tthis.axes = [0, 0, 0, 0, 0, 0];\r\n\r\n\t\tthis.gyro = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t};\r\n\r\n\t\tthis.accel = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tz: 0,\r\n\t\t};\r\n\t}\r\n\r\n\treset = () => {\r\n\t\tthis.btns = 0;\r\n\t\tfor (let prop in this.buttons) {\r\n\t\t\tthis.buttons[prop] = 0;\r\n\t\t}\r\n\t\tthis.axes = [0, 0, 0, 0, 0, 0];\r\n\t};\r\n\r\n\tisPressed = (n) => {\r\n\t\treturn (this.btns & (1 << n)) != 0;\r\n\t};\r\n\r\n\tgetState = () => {\r\n\t\tthis.axes[0] = clamp(this.axes[0], -1, 1);\r\n\t\tthis.axes[1] = clamp(this.axes[1], -1, 1);\r\n\t\tthis.axes[2] = clamp(this.axes[2], -1, 1);\r\n\t\tthis.axes[3] = clamp(this.axes[3], -1, 1);\r\n\t\t// this.axes[4] = this.axes[4];\r\n\t\t// this.axes[5] = this.axes[5];\r\n\r\n\t\tlet state = {\r\n\t\t\tbtns: 0,\r\n\t\t\taxes: [0, 0, 0, 0, 0, 0],\r\n\t\t\tgyro: { ...this.gyro },\r\n\t\t\taccel: { ...this.accel },\r\n\t\t};\r\n\r\n\t\tstate.btns |= this.buttons.up << 0;\r\n\t\tstate.btns |= this.buttons.down << 1;\r\n\t\tstate.btns |= this.buttons.left << 2;\r\n\t\tstate.btns |= this.buttons.right << 3;\r\n\r\n\t\tstate.btns |= this.buttons.l << 4;\r\n\t\tstate.btns |= this.buttons.zl << 5;\r\n\t\tstate.btns |= this.buttons.lstick << 6;\r\n\t\tstate.btns |= this.buttons.minus << 7;\r\n\t\tstate.btns |= this.buttons.capture << 8;\r\n\r\n\t\tstate.btns |= this.buttons.a << 9;\r\n\t\tstate.btns |= this.buttons.b << 10;\r\n\t\tstate.btns |= this.buttons.x << 11;\r\n\t\tstate.btns |= this.buttons.y << 12;\r\n\r\n\t\tstate.btns |= this.buttons.r << 13;\r\n\t\tstate.btns |= this.buttons.zr << 14;\r\n\t\tstate.btns |= this.buttons.rstick << 15;\r\n\t\tstate.btns |= this.buttons.plus << 16;\r\n\t\tstate.btns |= this.buttons.home << 17;\r\n\r\n\t\t// state.axes = this.axes;\r\n\t\tfor (let i = 0; i < this.axes.length; i++) {\r\n\t\t\tstate.axes[i] = this.axes[i];\r\n\t\t}\r\n\r\n\t\treturn state;\r\n\t};\r\n\r\n\tsetState = (state) => {\r\n\t\tif (state.btns == null) {\r\n\t\t\tconsole.log(state);\r\n\t\t\tthrow error;\r\n\t\t}\r\n\t\tthis.btns = state.btns;\r\n\t\tthis.axes = state.axes;\r\n\r\n\t\tthis.buttons.up = this.isPressed(0);\r\n\t\tthis.buttons.down = this.isPressed(1);\r\n\t\tthis.buttons.left = this.isPressed(2);\r\n\t\tthis.buttons.right = this.isPressed(3);\r\n\t\tthis.buttons.l = this.isPressed(4);\r\n\t\tthis.buttons.zl = this.isPressed(5);\r\n\t\tthis.buttons.lstick = this.isPressed(6);\r\n\t\tthis.buttons.minus = this.isPressed(7);\r\n\t\tthis.buttons.capture = this.isPressed(8);\r\n\r\n\t\tthis.buttons.a = this.isPressed(9);\r\n\t\tthis.buttons.b = this.isPressed(10);\r\n\t\tthis.buttons.x = this.isPressed(11);\r\n\t\tthis.buttons.y = this.isPressed(12);\r\n\t\tthis.buttons.r = this.isPressed(13);\r\n\t\tthis.buttons.zr = this.isPressed(14);\r\n\t\tthis.buttons.rstick = this.isPressed(15);\r\n\t\tthis.buttons.plus = this.isPressed(16);\r\n\t\tthis.buttons.home = this.isPressed(17);\r\n\t};\r\n}\r\n\r\nexport class MouseState {\r\n\tconstructor() {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\r\n\t\tthis.dx = 0;\r\n\t\tthis.dy = 0;\r\n\r\n\t\tthis.btns = {\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmiddle: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n\r\nexport class KeyboardState {\r\n\tconstructor() {\r\n\t\tthis.keys = [];\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n\r\nexport class TouchState {\r\n\tconstructor() {\r\n\t\t// this.previousTouches = [];\r\n\t\tthis.touches = [];\r\n\t}\r\n\r\n\tgetState = () => {\r\n\t\treturn this;\r\n\t};\r\n}\r\n","export class GamepadWrapper {\r\n\tconstructor() {\r\n\t\tthis.controllers = {};\r\n\t\tthis.controllerStates = [];\r\n\t\tthis.haveEvents = \"ongamepadconnected\" in window;\r\n\t\tthis.pollTimer = null;\r\n\r\n\t\tthis.pollGamepads = this.pollGamepads.bind(this);\r\n\t\tthis.scanGamepads = this.scanGamepads.bind(this);\r\n\t\tthis.addGamepad = this.addGamepad.bind(this);\r\n\t\tthis.connectHandler = this.connectHandler.bind(this);\r\n\t\tthis.removeGamepad = this.removeGamepad.bind(this);\r\n\t\tthis.disconnectHandler = this.disconnectHandler.bind(this);\r\n\r\n\t\twindow.addEventListener(\"gamepadconnected\", this.connectHandler);\r\n\t\twindow.addEventListener(\"gamepaddisconnected\", this.disconnectHandler);\r\n\r\n\t\tthis.pollTimer = setInterval(this.pollGamepads, 1000 / 120);\r\n\r\n\t\tthis.callbacksAfterPoll = [];\r\n\t}\r\n\r\n\taddGamepad(gamepad) {\r\n\t\tthis.controllers[gamepad.index] = gamepad;\r\n\t}\r\n\r\n\tconnectHandler(event) {\r\n\t\tif (event.gamepad.id.indexOf(\"vJoy\") > -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.addGamepad(event.gamepad);\r\n\t}\r\n\r\n\tremoveGamepad(gamepad) {\r\n\t\tdelete this.controllers[gamepad.index];\r\n\t}\r\n\r\n\tdisconnectHandler(event) {\r\n\t\tthis.removeGamepad(event.gamepad);\r\n\t}\r\n\r\n\tscanGamepads() {\r\n\t\tlet gamepads = navigator.getGamepads\r\n\t\t\t? navigator.getGamepads()\r\n\t\t\t: navigator.webkitGetGamepads\r\n\t\t\t? navigator.webkitGetGamepads()\r\n\t\t\t: [];\r\n\t\tfor (let i = 0; i < gamepads.length; i++) {\r\n\t\t\tif (gamepads[i]) {\r\n\t\t\t\tif (gamepads[i].id.indexOf(\"vJoy\") > -1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (gamepads[i].index in this.controllers) {\r\n\t\t\t\t\tthis.controllers[gamepads[i].index] = gamepads[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addGamepad(gamepads[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpollGamepads() {\r\n\t\tif (!this.haveEvents) {\r\n\t\t\tthis.scanGamepads();\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.callbacksAfterPoll.length; i++) {\r\n\t\t\tthis.callbacksAfterPoll[i]();\r\n\t\t}\r\n\t}\r\n}\r\n","// libs:\n\n// const keycode = require(\"keycode\");\n// require(\"./keymaster.js\");\n\n// input types:\n// each should handle each type of device:\nimport { GamepadWrapper } from \"./GamepadWrapper.js\";\nimport { KeyboardWrapper } from \"./KeyboardWrapper.js\";\nimport { TouchWrapper } from \"./TouchWrapper.js\";\nimport { VirtualController } from \"./VirtualController.js\";\nimport { VirtualKeyboard } from \"./VirtualKeyboard.js\";\nimport { VirtualMouse } from \"./VirtualMouse.js\";\nimport { VirtualTouchpad } from \"./VirtualTouchpad.js\";\n\nexport class InputState {\n\tconstructor() {\n\t\tthis.changed = false;\n\n\t\tthis.controller = {\n\t\t\tbtns: 0,\n\t\t\taxes: [0, 0, 0, 0, 0, 0],\n\t\t\t// gyro: {\n\t\t\t// \tx: 0,\n\t\t\t// \ty: 0,\n\t\t\t// \tz: 0,\n\t\t\t// },\n\n\t\t\t// accel: {\n\t\t\t// \tx: 0,\n\t\t\t// \ty: 0,\n\t\t\t// \tz: 0,\n\t\t\t// },\n\t\t};\n\n\t\tthis.mouse = {\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tdx: 0,\n\t\t\tdy: 0,\n\t\t\tbtns: {\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tmiddle: 0,\n\t\t\t},\n\t\t};\n\n\t\tthis.keyboard = {\n\t\t\tkeys: [],\n\t\t};\n\t}\n\n\tsetControllerState(state) {\n\t\tthis.controller.btns = state.btns;\n\t\tthis.controller.axes = state.axes;\n\t}\n\n\tsetKeyboardState(state) {\n\t\tthis.keyboard.keys = state.keys;\n\t}\n\n\tsetMouseState(state) {\n\t\tthis.mouse.x = state.x;\n\t\tthis.mouse.y = state.y;\n\t\tthis.mouse.dx = state.dx;\n\t\tthis.mouse.dy = state.dy;\n\t\tthis.mouse.btns = { ...state.btns };\n\t}\n\n\tsetState(state) {\n\t\t// controller\n\t\tif (state.controller != null) {\n\t\t\tthis.controller = state.controller;\n\t\t}\n\t\t// mouse\n\t\tif (state.mouse != null) {\n\t\t\tthis.mouse = state.mouse;\n\t\t}\n\t\t// keyboard\n\t\tif (state.keyboard != null) {\n\t\t\tthis.keyboard = state.keyboard;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn {\n\t\t\tcontroller: this.controller,\n\t\t\tmouse: this.mouse,\n\t\t\tkeyboard: this.keyboard,\n\t\t};\n\t}\n}\n\n// map several inputs to a single virtual controller:\nexport default class InputHandler {\n\tconstructor(isMobile) {\n\t\t// initialize gamepad wrapper:\n\t\tthis.gamepadWrapper = new GamepadWrapper();\n\t\tthis.keyboardWrapper = new KeyboardWrapper();\n\t\tthis.touchWrapper = new TouchWrapper();\n\n\t\tthis.isMobile = isMobile;\n\n\t\t// current device being used:\n\t\tthis.currentInputMode = \"keyboard\";\n\n\t\t// represents a controller's current state:\n\t\t// pass gamepadWrapper to constructor:\n\t\tthis.controller = new VirtualController(this.gamepadWrapper);\n\t\t// the current state of the keyboard:\n\t\tthis.keyboard = new VirtualKeyboard(this.keyboardWrapper);\n\t\t// the current state of the mouse:\n\t\tthis.mouse = new VirtualMouse();\n\t\t// the touch controls state:\n\t\tthis.touchpad = new VirtualTouchpad(this.touchWrapper);\n\n\t\t// real mode:\n\t\tthis.realMode = false;\n\n\t\t// output to be read:\n\t\tthis.inputState = new InputState();\n\t\tthis.oldInputState = this.inputState;\n\t\tthis.oldInputStateString = JSON.stringify(this.inputState);\n\n\t\t// init:\n\t\tif (!this.isMobile) {\n\t\t\tthis.controller.init();\n\t\t}\n\t}\n\n\tpollDevices(touchControls) {\n\t\tlet updatedState = new InputState();\n\n\t\tupdatedState = this.oldInputState;\n\n\t\tif (!this.isMobile) {\n\t\t\tif (!this.realMode) {\n\t\t\t\t// controller:\n\t\t\t\tthis.controller.poll();\n\t\t\t\tif (this.controller.changed) {\n\t\t\t\t\tthis.controller.changed = false;\n\t\t\t\t\tthis.currentInputMode = \"controller\";\n\t\t\t\t\tupdatedState.setControllerState(this.controller.getState());\n\t\t\t\t} else {\n\t\t\t\t\t// keyboard:\n\t\t\t\t\tthis.keyboard.poll();\n\t\t\t\t\tif (this.keyboard.changed) {\n\t\t\t\t\t\tthis.keyboard.changed = false;\n\t\t\t\t\t\tthis.currentInputMode = \"keyboard\";\n\t\t\t\t\t\tupdatedState.setControllerState(this.keyboard.getControllerState());\n\t\t\t\t\t}\n\t\t\t\t\tif (this.mouse.settings.enabled && this.mouse.changed) {\n\t\t\t\t\t\tthis.mouse.changed = false;\n\t\t\t\t\t\tupdatedState.controller.btns =\n\t\t\t\t\t\t\tthis.keyboard.getControllerState().btns |\n\t\t\t\t\t\t\tthis.mouse.getControllerState().btns;\n\t\t\t\t\t\tupdatedState.controller.axes[2] = this.mouse.cstate.axes[2];\n\t\t\t\t\t\tupdatedState.controller.axes[3] = this.mouse.cstate.axes[3];\n\t\t\t\t\t\t// triggers:\n\t\t\t\t\t\tupdatedState.controller.axes[4] =\n\t\t\t\t\t\t\t(updatedState.controller.btns & (1 << 5)) != 0 ? 1 : 0;\n\t\t\t\t\t\tupdatedState.controller.axes[5] =\n\t\t\t\t\t\t\t(updatedState.controller.btns & (1 << 14)) != 0 ? 1 : 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// keyboard & mouse:\n\t\t\t\tthis.keyboard.poll();\n\t\t\t\tupdatedState.setKeyboardState(this.keyboard.getState());\n\t\t\t\tif (this.mouse.settings.enabled && this.mouse.changed) {\n\t\t\t\t\tthis.mouse.changed = false;\n\t\t\t\t\tupdatedState.setMouseState(this.mouse.getState());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (touchControls) {\n\t\t\t// touchpad:\n\t\t\tthis.touchpad.poll();\n\t\t\tif (this.touchpad.changed) {\n\t\t\t\tthis.touchpad.changed = false;\n\t\t\t\tthis.currentInputMode = \"touchpad\";\n\t\t\t\tupdatedState.setControllerState(this.touchpad.getControllerState());\n\t\t\t}\n\t\t}\n\n\t\tlet updatedStateString = JSON.stringify(updatedState);\n\n\t\tif (updatedStateString != this.oldInputStateString) {\n\t\t\tthis.inputState.setState(updatedState);\n\n\t\t\tthis.oldInputState = updatedState;\n\t\t\tthis.oldInputStateString = updatedStateString;\n\n\t\t\tthis.changed = true;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn this.inputState.getState();\n\t}\n}\n","const MODS = [16, 18, 17, 91];\r\n\r\nexport class KeyboardWrapper {\r\n\tconstructor() {\r\n\t\tthis.pressedKeys = [];\r\n\t\tthis.werePressedKeys = [];\r\n\r\n\t\tthis.modifiers = {\r\n\t\t\tshift: false,\r\n\t\t\talt: false,\r\n\t\t\toption: false,\r\n\t\t\tctrl: false,\r\n\t\t\tcommand: false,\r\n\t\t};\r\n\r\n\t\t// special keys\r\n\t\tthis.map = {\r\n\t\t\tbackspace: 8,\r\n\t\t\ttab: 9,\r\n\t\t\tclear: 12,\r\n\t\t\tenter: 13,\r\n\t\t\treturn: 13,\r\n\t\t\tesc: 27,\r\n\t\t\tescape: 27,\r\n\t\t\tspace: 32,\r\n\t\t\tleft: 37,\r\n\t\t\tup: 38,\r\n\t\t\tright: 39,\r\n\t\t\tdown: 40,\r\n\t\t\tdel: 46,\r\n\t\t\tdelete: 46,\r\n\t\t\thome: 36,\r\n\t\t\tend: 35,\r\n\t\t\tpageup: 33,\r\n\t\t\tpagedown: 34,\r\n\t\t\tshift: 16,\r\n\t\t\talt: 18,\r\n\t\t\toption: 18,\r\n\t\t\tctrl: 17,\r\n\t\t\tcommand: 91,\r\n\t\t\t\",\": 188,\r\n\t\t\t\".\": 190,\r\n\t\t\t\"/\": 191,\r\n\t\t\t\"`\": 192,\r\n\t\t\t\"-\": 189,\r\n\t\t\t\"=\": 187,\r\n\t\t\t\";\": 186,\r\n\t\t\t\"'\": 222,\r\n\t\t\t\"[\": 219,\r\n\t\t\t\"]\": 221,\r\n\t\t\t\"\\\\\": 220,\r\n\t\t};\r\n\r\n\t\tfor (let k = 1; k < 20; k++) {\r\n\t\t\tthis.map[\"f\" + k] = 111 + k;\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener(\"keydown\", this.handleKeydown, false);\r\n\t\tdocument.addEventListener(\"keyup\", this.handleKeyup, false);\r\n\t\twindow.addEventListener(\"focus\", this.resetModifiers, false);\r\n\t}\r\n\r\n\tkeyCode = (k) => {\r\n\t\treturn this.map[k] || k.toUpperCase().charCodeAt(0);\r\n\t};\r\n\r\n\thandleKeydown = (event) => {\r\n\t\tlet keycode = event.keyCode;\r\n\r\n\t\tif (this.pressedKeys.indexOf(keycode) === -1) {\r\n\t\t\tthis.pressedKeys.push(keycode);\r\n\t\t}\r\n\r\n\t\tif (keycode === 93 || keycode === 224) {\r\n\t\t\tkeycode = 91; // right command on webkit, command on Gecko\r\n\t\t}\r\n\r\n\t\tif (keycode in MODS) {\r\n\t\t\tthis.modifiers[this.map[keycode]] = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// ignore key presses if a select, textarea, or input is focused\r\n\t\tlet tagName = (event.target || event.srcElement).tagName;\r\n\t\tif (!(tagName == \"INPUT\" || tagName == \"SELECT\" || tagName == \"TEXTAREA\")) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyup = (event) => {\r\n\t\tlet keyCode = event.keyCode;\r\n\r\n\t\t// remove key\r\n\t\tlet index = this.pressedKeys.indexOf(keyCode);\r\n\t\tif (index >= 0) {\r\n\t\t\tthis.pressedKeys.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (keyCode == 93 || keyCode == 224) {\r\n\t\t\tkeyCode = 91; // right command on webkit, command on Gecko\r\n\t\t}\r\n\r\n\t\tif (keyCode in MODS) {\r\n\t\t\tthis.modifiers[this.map[keycode]] = false;\r\n\t\t}\r\n\t};\r\n\r\n\tisPressed = (k) => {\r\n\t\tk = typeof k === \"string\" ? this.keyCode(k) : k;\r\n\t\treturn this.pressedKeys.indexOf(k) != -1;\r\n\t};\r\n\r\n\twasPressed = (k, pressedKeys) => {\r\n\t\tk = typeof k === \"string\" ? this.keyCode(k) : k;\r\n\t\treturn pressedKeys.indexOf(k) != -1;\r\n\t};\r\n\r\n\tgetPressedKeyCodes = () => {\r\n\t\treturn this.pressedKeys.slice(0);\r\n\t};\r\n\r\n\tresetModifiers = () => {\r\n\t\tfor (let key in this.modifiers) {\r\n\t\t\tthis.modifiers[key] = false;\r\n\t\t}\r\n\t};\r\n}\r\n","import { pick } from \"src/libs/tools.js\";\r\nimport nipplejs from \"nipplejs\";\r\n\r\n// window.nipplejs = nipplejs;\r\n\r\nlet btnList = {\r\n\ta: 1,\r\n\tb: 1,\r\n\tx: 1,\r\n\ty: 1,\r\n\tup: 1,\r\n\tdown: 1,\r\n\tleft: 1,\r\n\tright: 1,\r\n\tl: 1,\r\n\tzl: 1,\r\n\tr: 1,\r\n\tzr: 1,\r\n\tminus: 1,\r\n\tplus: 1,\r\n\tcapture: 1,\r\n\thome: 1,\r\n};\r\n\r\nconst leftButtons = {\r\n\tup: 1,\r\n\tdown: 1,\r\n\tleft: 1,\r\n\tright: 1,\r\n\tl: 1,\r\n\tzl: 1,\r\n\tminus: 1,\r\n\tcapture: 1,\r\n};\r\n\r\nexport class TouchWrapper {\r\n\tconstructor() {\r\n\t\tthis.ongoingTouches = [];\r\n\r\n\t\tthis.activeTargets = {};\r\n\r\n\t\tdocument.addEventListener(\"touchstart\", this.handleTouchStart, false);\r\n\t\tdocument.addEventListener(\"touchend\", this.handleTouchEnd, false);\r\n\t\tdocument.addEventListener(\"touchcancel\", this.handleTouchCancel, false);\r\n\t\tdocument.addEventListener(\"touchmove\", this.handleTouchMove, false);\r\n\r\n\t\tdocument.addEventListener(\"mousedown\", this.handleTouchStart, false);\r\n\t\tdocument.addEventListener(\"mouseup\", this.handleTouchEnd, false);\r\n\t\tdocument.addEventListener(\"mousemove\", this.handleTouchMove, false);\r\n\r\n\t\t/* JOYSTICKS @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/\r\n\t\tthis.leftStick = null;\r\n\t\tthis.rightStick = null;\r\n\t\tthis.leftJoyStick = null;\r\n\t\tthis.rightJoyStick = null;\r\n\r\n\t\tthis.leftActive = false;\r\n\t\tthis.rightActive = false;\r\n\r\n\t\tthis.sticks = {\r\n\t\t\tlx: 0,\r\n\t\t\tly: 0,\r\n\t\t\trx: 0,\r\n\t\t\try: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tinit = (leftZone, rightZone) => {\r\n\t\tlet leftJoyStick = {\r\n\t\t\tzone: leftZone,\r\n\t\t\tmode: \"static\",\r\n\t\t\tcatchDistance: 10,\r\n\t\t\tcolor: \"#FF3C28\",\r\n\t\t\tposition: { left: \"50%\", top: \"50%\" },\r\n\t\t\tsize: 60,\r\n\t\t\trestOpacity: 0,\r\n\t\t\tfadeTime: 1e99,\r\n\t\t};\r\n\r\n\t\tlet rightJoyStick = {\r\n\t\t\tzone: rightZone,\r\n\t\t\tmode: \"static\",\r\n\t\t\tcatchDistance: 10,\r\n\t\t\tcolor: \"#0AB9E6\",\r\n\t\t\tposition: { left: \"50%\", top: \"50%\" },\r\n\t\t\tsize: 60,\r\n\t\t\trestOpacity: 0,\r\n\t\t\tfadeTime: 1e99,\r\n\t\t};\r\n\r\n\t\tthis.leftStick = nipplejs.create(leftJoyStick);\r\n\t\tthis.rightStick = nipplejs.create(rightJoyStick);\r\n\r\n\t\tthis.bindJoysticks();\r\n\t};\r\n\r\n\tbindJoysticks = () => {\r\n\t\tlet stickSize = 60;\r\n\t\tlet s1 = stickSize;\r\n\t\tlet s2 = stickSize / 2;\r\n\t\tthis.leftStick\r\n\t\t\t.on(\"start\", (evt, data) => {\r\n\t\t\t\tlet pos = data.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.lx = pos.x;\r\n\t\t\t\tthis.sticks.ly = pos.y;\r\n\t\t\t\tthis.leftActive = true;\r\n\t\t\t})\r\n\t\t\t.on(\"end\", (evt, data) => {\r\n\t\t\t\tthis.sticks.lx = 0;\r\n\t\t\t\tthis.sticks.ly = 0;\r\n\t\t\t\tthis.leftActive = false;\r\n\t\t\t})\r\n\t\t\t.on(\"move\", (evt, data) => {\r\n\t\t\t\tlet pos = data.instance.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.lx = pos.x;\r\n\t\t\t\tthis.sticks.ly = pos.y;\r\n\t\t\t});\r\n\r\n\t\tthis.rightStick\r\n\t\t\t.on(\"start\", (evt, data) => {\r\n\t\t\t\tlet pos = data.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.rx = pos.x;\r\n\t\t\t\tthis.sticks.ry = pos.y;\r\n\t\t\t\tthis.rightActive = true;\r\n\t\t\t})\r\n\t\t\t.on(\"end\", (evt, data) => {\r\n\t\t\t\tthis.sticks.rx = 0;\r\n\t\t\t\tthis.sticks.ry = 0;\r\n\t\t\t\tthis.rightActive = false;\r\n\t\t\t})\r\n\t\t\t.on(\"move\", (evt, data) => {\r\n\t\t\t\tlet pos = data.instance.frontPosition;\r\n\t\t\t\tpos.x = ((pos.x + s2) / s1) * 2 - 1;\r\n\t\t\t\tpos.y = -(((pos.y + s2) / s1) * 2 - 1);\r\n\t\t\t\tthis.sticks.rx = pos.x;\r\n\t\t\t\tthis.sticks.ry = pos.y;\r\n\t\t\t});\r\n\t};\r\n\r\n\tgetName = (names) => {\r\n\t\tfor (let i = 0; i < names.length; i++) {\r\n\t\t\tif (btnList[names[i]]) {\r\n\t\t\t\tlet isLeftButton = !!leftButtons[names[i]];\r\n\r\n\t\t\t\tif ((isLeftButton && this.leftActive) || (!isLeftButton && this.rightActive)) {\r\n\t\t\t\t\treturn \"other\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn names[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"other\";\r\n\t};\r\n\r\n\tongoingTouchIndexById = (idToFind) => {\r\n\t\tfor (let i = 0; i < this.ongoingTouches.length; i++) {\r\n\t\t\tlet id = this.ongoingTouches[i].identifier;\r\n\t\t\tif (id == idToFind) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1; // not found\r\n\t};\r\n\r\n\thandleTouchStart = (event) => {\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tthis.ongoingTouches.push(pick(\"identifier\", \"clientX\", \"clientY\")(touches[i]));\r\n\t\t\tthis.activeTargets[\r\n\t\t\t\tthis.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t)\r\n\t\t\t] = true;\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchEnd = (event) => {\r\n\t\t// event.preventDefault();\r\n\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\r\n\t\t\tif (idx >= 0) {\r\n\t\t\t\tthis.ongoingTouches.splice(idx, 1); // remove it; we're done\r\n\t\t\t\tthis.activeTargets[\r\n\t\t\t\t\tthis.getName(\r\n\t\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t\t)\r\n\t\t\t\t] = false;\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"can't figure out which touch to end\");\r\n\t\t\t\talert(\"can't figure out which touch to end\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchCancel = (event) => {\r\n\t\t// console.log(\"touchcancel.\");\r\n\t\t// event.preventDefault();\r\n\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\t\t\tif (idx < 0) {\r\n\t\t\t\talert(\"can't figure out which touch to cancel\");\r\n\t\t\t}\r\n\t\t\tthis.ongoingTouches.splice(idx, 1); // remove it; we're done\r\n\t\t\tthis.activeTargets[\r\n\t\t\t\tthis.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t)\r\n\t\t\t] = false;\r\n\t\t}\r\n\t};\r\n\r\n\thandleTouchMove = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet touches = event.changedTouches;\r\n\r\n\t\tif (!touches) {\r\n\t\t\tif (this.ongoingTouches.length === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttouches = [{ clientX: event.clientX, clientY: event.clientY, identifier: 0 }];\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < touches.length; i++) {\r\n\t\t\tlet idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n\t\t\tif (idx >= 0) {\r\n\t\t\t\tlet oldTarget = this.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(\r\n\t\t\t\t\t\tthis.ongoingTouches[idx].clientX,\r\n\t\t\t\t\t\tthis.ongoingTouches[idx].clientY,\r\n\t\t\t\t\t).classList,\r\n\t\t\t\t);\r\n\t\t\t\tlet newTarget = this.getName(\r\n\t\t\t\t\tdocument.elementFromPoint(touches[i].clientX, touches[i].clientY).classList,\r\n\t\t\t\t);\r\n\t\t\t\tif (oldTarget != newTarget) {\r\n\t\t\t\t\tthis.activeTargets[oldTarget] = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ongoingTouches.splice(\r\n\t\t\t\t\tidx,\r\n\t\t\t\t\t1,\r\n\t\t\t\t\tpick(\"identifier\", \"clientX\", \"clientY\")(touches[i]),\r\n\t\t\t\t); // swap in the new touch record\r\n\t\t\t\tthis.activeTargets[newTarget] = true;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"can't figure out which touch to continue\");\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","import { ControllerState } from \"./DeviceStates.js\";\nconst restPos = 0;\n\nexport const AxisSettings = class AxisSettings {\n\tconstructor(sensitivity, offset, deadzone) {\n\t\tthis.sensitivity = sensitivity;\n\t\tthis.offset = offset;\n\t\tthis.deadzone = deadzone;\n\t}\n};\n\nclass AxisMapping {\n\tconstructor(which, activationThreshold, aboveOrBelow) {\n\t\tif (typeof which == \"number\") {\n\t\t\tthis.type = \"axis\";\n\t\t} else {\n\t\t\tthis.type = \"button\";\n\t\t}\n\n\t\tthis.which = which;\n\n\t\tif (this.type == \"button\") {\n\t\t\tthis.activationThreshold = activationThreshold;\n\t\t\tthis.aboveOrBelow = aboveOrBelow;\n\t\t}\n\n\t\tif (this.type == \"axis\") {\n\t\t}\n\t}\n}\n\nclass ButtonMapping {\n\tconstructor(which, value, isAnalog) {\n\t\tthis.which = which;\n\n\t\tif (typeof which == \"string\") {\n\t\t\tthis.type = \"button\";\n\t\t} else if (typeof which == \"number\") {\n\t\t\tthis.type = \"axis\";\n\t\t\tthis.value = value;\n\t\t\tthis.isAnalog = isAnalog;\n\t\t}\n\t}\n}\n\nclass ButtonState {\n\tconstructor(pressed, value) {\n\t\tthis.pressed = pressed;\n\t\tthis.value = value;\n\t}\n}\n\nexport class VirtualController {\n\tconstructor(gamepadWrapper) {\n\t\tthis.gamepadWrapper = gamepadWrapper;\n\n\t\tthis.cstate = new ControllerState();\n\t\tthis.getState = this.getState.bind(this);\n\n\t\tthis.oldState = {\n\t\t\tbuttons: [],\n\t\t\taxes: [],\n\t\t};\n\n\t\tfor (let i = 0; i < 50; i++) {\n\t\t\tthis.oldState.buttons.push(new ButtonState(0, 0));\n\t\t\tthis.oldState.axes.push(0);\n\t\t}\n\n\t\tthis.changed = false;\n\n\t\tthis.lastChangedButton = null;\n\t\tthis.lastChangedAxis = null;\n\n\t\t// this.gamepadList = [];\n\n\t\tthis.triggerIndexes = [];\n\n\t\tthis.poll = this.poll.bind(this);\n\t\tthis.autoSelectGamepad = this.autoSelectGamepad.bind(this);\n\t\tthis.autoSelectInterval = null;\n\n\t\tthis.settings = {\n\t\t\tcontrollerIndex: null,\n\t\t\tdetectedType: null,\n\n\t\t\taxes: [\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(-1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(-1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t\tnew AxisSettings(1, 0, 0.1),\n\t\t\t],\n\n\t\t\tmap: {\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew ButtonMapping(\"b\"),\n\t\t\t\t\tnew ButtonMapping(\"a\"),\n\t\t\t\t\tnew ButtonMapping(\"y\"),\n\t\t\t\t\tnew ButtonMapping(\"x\"),\n\t\t\t\t\tnew ButtonMapping(\"l\"),\n\t\t\t\t\tnew ButtonMapping(\"r\"),\n\t\t\t\t\tnew ButtonMapping(\"zl\"),\n\t\t\t\t\tnew ButtonMapping(\"zr\"),\n\t\t\t\t\tnew ButtonMapping(\"minus\"),\n\t\t\t\t\tnew ButtonMapping(\"plus\"),\n\t\t\t\t\tnew ButtonMapping(\"lstick\"),\n\t\t\t\t\tnew ButtonMapping(\"rstick\"),\n\t\t\t\t\tnew ButtonMapping(\"up\"),\n\t\t\t\t\tnew ButtonMapping(\"down\"),\n\t\t\t\t\tnew ButtonMapping(\"left\"),\n\t\t\t\t\tnew ButtonMapping(\"right\"),\n\t\t\t\t\tnew ButtonMapping(\"home\"),\n\t\t\t\t\tnew ButtonMapping(\"capture\"),\n\n\t\t\t\t\t// extra:\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t\tnew ButtonMapping(\"\"),\n\t\t\t\t],\n\n\t\t\t\taxes: [\n\t\t\t\t\tnew AxisMapping(0),\n\t\t\t\t\tnew AxisMapping(1),\n\t\t\t\t\tnew AxisMapping(2),\n\t\t\t\t\tnew AxisMapping(3),\n\t\t\t\t\tnew AxisMapping(4),\n\t\t\t\t\tnew AxisMapping(5),\n\t\t\t\t\tnew AxisMapping(6),\n\t\t\t\t\tnew AxisMapping(7),\n\t\t\t\t\tnew AxisMapping(8),\n\t\t\t\t\tnew AxisMapping(9),\n\t\t\t\t\tnew AxisMapping(10),\n\t\t\t\t\tnew AxisMapping(11),\n\t\t\t\t\tnew AxisMapping(12),\n\t\t\t\t\tnew AxisMapping(13),\n\t\t\t\t\tnew AxisMapping(14),\n\t\t\t\t\tnew AxisMapping(15),\n\t\t\t\t\tnew AxisMapping(16),\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t}\n\n\tdetectControllerType = (id) => {\n\t\t// let reg = /^!(un)?ban ([a-zA-Z0-9]+)$/;\n\t\tlet reg = /^.+ Vendor: (.+) Product: (.+)\\)$/i;\n\t\tlet res = reg.exec(id);\n\n\t\tif (/xbox/i.test(id)) {\n\t\t\treturn \"xbox\";\n\t\t}\n\n\t\tif (res) {\n\t\t\t// DS4:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"09cc\") {\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\n\t\t\t// ?? probably DS4:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"05c4\") {\n\t\t\t\talert(\n\t\t\t\t\t\"if you see this, tell the dev what controller you're using on the discord server\",\n\t\t\t\t);\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\n\t\t\t// PS3 controller:\n\t\t\tif (res[1] === \"054c\" && res[2] === \"0268\") {\n\t\t\t\treturn \"DS4\";\n\t\t\t}\n\t\t}\n\n\t\t// PS2 controller:\n\t\tif (/twin/i.test(id)) {\n\t\t\treturn \"DS4\";\n\t\t}\n\n\t\tif (/Pro Controller/i.test(id)) {\n\t\t\treturn \"proController\";\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tautoSelectGamepad() {\n\t\t// only auto select if one hasn't already been selected:\n\t\tif (this.settings.controllerIndex != null) {\n\t\t\tclearInterval(this.autoSelectInterval);\n\t\t\t// return;// removed because we may have changed controllers\n\t\t}\n\n\t\t// auto select an xbox / playstation controller:\n\t\tlet keys = [];\n\t\tfor (let key in this.gamepadWrapper.controllers) {\n\t\t\tlet controller = this.gamepadWrapper.controllers[key];\n\t\t\tkey = parseInt(key);\n\n\t\t\tlet detectedType = this.detectControllerType(controller.id);\n\t\t\tif (detectedType) {\n\t\t\t\tthis.settings.controllerIndex = key;\n\t\t\t\tthis.settings.detectedType = detectedType;\n\t\t\t}\n\t\t\tkeys.push(key);\n\t\t}\n\n\t\t// didn't find a known controller, just pick the first one if there is one:\n\t\tif (this.settings.controllerIndex == null && keys.length > 0) {\n\t\t\tthis.settings.controllerIndex = keys[0];\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.gamepadWrapper.callbacksAfterPoll.push(this.poll);\n\t\tsetTimeout(this.autoSelectGamepad, 2000);\n\t\tthis.autoSelectInterval = setInterval(this.autoSelectGamepad, 10000);\n\t}\n\n\tpoll() {\n\t\tlet controller = this.gamepadWrapper.controllers[this.settings.controllerIndex];\n\n\t\t// console.log(controller);\n\t\t// console.log(this.gamepadWrapper.controllers);\n\t\t// console.log(this.settings.controllerIndex);\n\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet oldState = JSON.stringify(this.cstate.getState());\n\n\t\t// map buttons and axes to VirtualProController:\n\n\t\t// reset buttons:\n\t\tfor (let key in this.cstate.buttons) {\n\t\t\tthis.cstate.buttons[key] = 0;\n\t\t}\n\n\t\t// buttons:\n\t\tfor (let j = 0; j < controller.buttons.length; j++) {\n\t\t\tlet button = controller.buttons[j];\n\t\t\tlet mapping = this.settings.map.buttons[j];\n\n\t\t\tlet oldPressed = this.oldState.buttons[j].pressed;\n\t\t\tlet oldValue = this.oldState.buttons[j].value;\n\t\t\tlet newPressed = button.pressed;\n\t\t\tlet newValue = button.value;\n\t\t\t// if it's changed:\n\t\t\tif (oldPressed != newPressed || oldValue != newValue) {\n\t\t\t\t// console.log(j);\n\t\t\t\tthis.lastChangedButton = j;\n\t\t\t}\n\t\t\tthis.oldState.buttons[j].pressed = button.pressed;\n\t\t\tthis.oldState.buttons[j].value = button.value;\n\n\t\t\tif (j > 50) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet triggerIndex = this.triggerIndexes.indexOf(j);\n\t\t\tif (triggerIndex > -1) {\n\t\t\t\tthis.cstate.axes[4 + triggerIndex] = button.value;\n\t\t\t\t// continue;\n\t\t\t}\n\n\t\t\tif (this.triggerIndexes.length < 2) {\n\t\t\t\t// check if it's a float:\n\t\t\t\tif (button.value % 1 != 0 && this.triggerIndexes.indexOf(j) === -1) {\n\t\t\t\t\tthis.triggerIndexes.push(j);\n\t\t\t\t\tthis.triggerIndexes.sort();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mapping.type === \"button\") {\n\t\t\t\t// this.cstate.buttons[mapping.which] = button.pressed ? 1 : 0;\n\t\t\t\tthis.cstate.buttons[mapping.which] =\n\t\t\t\t\tthis.cstate.buttons[mapping.which] | (button.pressed ? 1 : 0);\n\t\t\t} else if (mapping.type === \"axis\") {\n\t\t\t\tconsole.log(\"something is wrong\");\n\t\t\t\t// TODO:\n\t\t\t\t// this.cstate.axes[mapping.which] = button.pressed ? button.value : 0;\n\t\t\t}\n\t\t}\n\n\t\t// axes:\n\t\tfor (let j = 0; j < controller.axes.length; j++) {\n\t\t\tlet axis = controller.axes[j];\n\t\t\tlet mapping = this.settings.map.axes[j];\n\n\t\t\tlet oldValue = this.oldState.axes[j];\n\t\t\tlet newValue = axis;\n\t\t\t// if it's changed:\n\t\t\tif (oldValue != newValue) {\n\t\t\t\tthis.lastChangedAxis = j;\n\t\t\t}\n\t\t\tthis.oldState.axes[j] = axis;\n\n\t\t\tif (mapping.type == \"axis\") {\n\t\t\t\tlet ax = this.settings.axes[mapping.which];\n\t\t\t\tif (!ax) {\n\t\t\t\t\tconsole.log(\"mapping error?\");\n\t\t\t\t\tconsole.log(this.settings.axes);\n\t\t\t\t\tconsole.log(mapping.which);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet x = axis * ax.sensitivity;\n\t\t\t\t// x = x / 2 + 0.5;\n\t\t\t\t// x *= 255;\n\t\t\t\tthis.cstate.axes[mapping.which] = x + this.settings.axes[mapping.which].offset;\n\t\t\t\tif (\n\t\t\t\t\tMath.abs(restPos - this.cstate.axes[mapping.which]) <\n\t\t\t\t\tthis.settings.axes[mapping.which].deadzone\n\t\t\t\t) {\n\t\t\t\t\tthis.cstate.axes[mapping.which] = restPos;\n\t\t\t\t}\n\t\t\t\t// this.cstate.axes[mapping.which] = axis;\n\t\t\t} else if (mapping.type == \"button\") {\n\t\t\t\tif (mapping.aboveOrBelow) {\n\t\t\t\t\tthis.cstate.buttons[mapping.which] = axis > mapping.activationThreshold ? 1 : 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.cstate.buttons[mapping.which] = axis < mapping.activationThreshold ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet newState = JSON.stringify(this.cstate.getState());\n\t\tif (newState != oldState) {\n\t\t\tthis.changed = true;\n\t\t}\n\t}\n\n\tgetState() {\n\t\treturn this.cstate.getState();\n\t}\n}\n","// import { mathZoom } from \"libs/tools.js\";\n\nimport { ControllerState, KeyboardState } from \"./DeviceStates.js\";\n\nconst SPECIAL_KEYS = {\n\t8: \"backspace\",\n\t9: \"tab\",\n\t13: \"enter\",\n\t16: \"shift\",\n\t17: \"control\",\n\t18: \"alt\",\n\t27: \"escape\",\n\t32: \"space\",\n\t33: \"pageup\",\n\t34: \"pagedown\",\n\t35: \"end\",\n\t36: \"home\",\n\t37: \"left\",\n\t38: \"up\",\n\t39: \"right\",\n\t40: \"down\",\n\t46: \"delete\",\n};\n\nexport class VirtualKeyboard {\n\tconstructor(keyboardWrapper) {\n\t\t// this.keyboardWrapper = keyboardWrapper;\n\t\t// this.kW = this.keyboardWrapper;\n\n\t\tthis.kW = keyboardWrapper;\n\n\t\tthis.changed = false;\n\t\tthis.cstate = new ControllerState();\n\t\tthis.kstate = new KeyboardState();\n\n\t\tthis.getControllerState = this.getControllerState.bind(this);\n\t\tthis.getState = this.getState.bind(this);\n\n\t\t// a list of keys to keep track of:\n\t\tthis.keysToTrack = [];\n\n\t\t// function to call when state updates:\n\t\t// this.updateParentState = () => {};\n\n\t\tthis.map = {\n\t\t\tLU: \"W\",\n\t\t\tLD: \"S\",\n\t\t\tLL: \"A\",\n\t\t\tLR: \"D\",\n\t\t\tRU: \"I\",\n\t\t\tRD: \"K\",\n\t\t\tRL: \"J\",\n\t\t\tRR: \"L\",\n\t\t\ta: \"right\",\n\t\t\tb: \"down\",\n\t\t\tx: \"up\",\n\t\t\ty: \"left\",\n\t\t\tup: \"T\",\n\t\t\tdown: \"G\",\n\t\t\tleft: \"F\",\n\t\t\tright: \"H\",\n\t\t\tlstick: \"R\",\n\t\t\trstick: \"Y\",\n\t\t\tl: \"U\",\n\t\t\tzl: \"Q\",\n\t\t\tr: \"O\",\n\t\t\tzr: \"E\",\n\t\t\tminus: \"-\",\n\t\t\tplus: \"=\",\n\t\t\tcapture: \"1\",\n\t\t\thome: \"2\",\n\t\t};\n\n\t\tthis.wasPressedKeyCodes = [];\n\n\t\tthis.settings = {\n\t\t\tanalogStickMode: false,\n\t\t\tstickAttack: 0.4,\n\t\t\tstickReturn: 0.3,\n\t\t};\n\n\t\tthis.lastPressedKey = null;\n\n\t\tdocument.addEventListener(\"keydown\", (event) => {\n\t\t\tlet key = event.key;\n\t\t\tif (!key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (key.indexOf(\"Arrow\") > -1) {\n\t\t\t\tkey = key.substring(5).toLowerCase();\n\t\t\t}\n\t\t\tthis.lastPressedKey = key;\n\t\t});\n\t}\n\n\t// get controller state:\n\n\tpoll() {\n\t\tlet oldControllerState = this.cstate.getState();\n\n\t\tthis.cstate.axes[0] = 0;\n\t\tthis.cstate.axes[1] = 0;\n\t\tif (this.kW.isPressed(this.map.LU)) {\n\t\t\tthis.cstate.axes[1] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.LU, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[1] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LD)) {\n\t\t\tthis.cstate.axes[1] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.LD, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[1] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LL)) {\n\t\t\tthis.cstate.axes[0] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.LL, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[0] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.LR)) {\n\t\t\tthis.cstate.axes[0] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.LR, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[0] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.a)) {\n\t\t\tthis.cstate.buttons.a = 1;\n\t\t} else if (this.kW.wasPressed(this.map.a, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.a = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.b)) {\n\t\t\tthis.cstate.buttons.b = 1;\n\t\t} else if (this.kW.wasPressed(this.map.b, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.b = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.x)) {\n\t\t\tthis.cstate.buttons.x = 1;\n\t\t} else if (this.kW.wasPressed(this.map.x, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.x = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.y)) {\n\t\t\tthis.cstate.buttons.y = 1;\n\t\t} else if (this.kW.wasPressed(this.map.y, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.y = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.up)) {\n\t\t\tthis.cstate.buttons.up = 1;\n\t\t} else if (this.kW.wasPressed(this.map.up, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.up = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.down)) {\n\t\t\tthis.cstate.buttons.down = 1;\n\t\t} else if (this.kW.wasPressed(this.map.down, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.down = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.left)) {\n\t\t\tthis.cstate.buttons.left = 1;\n\t\t} else if (this.kW.wasPressed(this.map.left, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.left = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.right)) {\n\t\t\tthis.cstate.buttons.right = 1;\n\t\t} else if (this.kW.wasPressed(this.map.right, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.right = 0;\n\t\t}\n\n\t\tthis.cstate.axes[2] = 0;\n\t\tthis.cstate.axes[3] = 0;\n\t\tif (this.kW.isPressed(this.map.RU)) {\n\t\t\tthis.cstate.axes[3] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.RU, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[3] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RD)) {\n\t\t\tthis.cstate.axes[3] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.RD, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[3] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RL)) {\n\t\t\tthis.cstate.axes[2] -= 1;\n\t\t} else if (this.kW.wasPressed(this.map.RL, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[2] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.RR)) {\n\t\t\tthis.cstate.axes[2] += 1;\n\t\t} else if (this.kW.wasPressed(this.map.RR, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.axes[2] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.minus)) {\n\t\t\tthis.cstate.buttons.minus = 1;\n\t\t} else if (this.kW.wasPressed(this.map.minus, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.minus = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.plus)) {\n\t\t\tthis.cstate.buttons.plus = 1;\n\t\t} else if (this.kW.wasPressed(this.map.plus, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.plus = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.capture)) {\n\t\t\tthis.cstate.buttons.capture = 1;\n\t\t} else if (this.kW.wasPressed(this.map.capture, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.capture = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.home)) {\n\t\t\tthis.cstate.buttons.home = 1;\n\t\t} else if (this.kW.wasPressed(this.map.home, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.home = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.l)) {\n\t\t\tthis.cstate.buttons.l = 1;\n\t\t} else if (this.kW.wasPressed(this.map.l, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.l = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.r)) {\n\t\t\tthis.cstate.buttons.r = 1;\n\t\t} else if (this.kW.wasPressed(this.map.r, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.r = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.zl)) {\n\t\t\tthis.cstate.buttons.zl = 1;\n\t\t\tthis.cstate.axes[4] = 1;\n\t\t} else if (this.kW.wasPressed(this.map.zl, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.zl = 0;\n\t\t\tthis.cstate.axes[4] = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.zr)) {\n\t\t\tthis.cstate.buttons.zr = 1;\n\t\t\tthis.cstate.axes[5] = 1;\n\t\t} else if (this.kW.wasPressed(this.map.zr, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.zr = 0;\n\t\t\tthis.cstate.axes[5] = 0;\n\t\t}\n\n\t\tif (this.kW.isPressed(this.map.lstick)) {\n\t\t\tthis.cstate.buttons.lstick = 1;\n\t\t} else if (this.kW.wasPressed(this.map.lstick, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.lstick = 0;\n\t\t}\n\t\tif (this.kW.isPressed(this.map.rstick)) {\n\t\t\tthis.cstate.buttons.rstick = 1;\n\t\t} else if (this.kW.wasPressed(this.map.rstick, this.wasPressedKeyCodes)) {\n\t\t\tthis.cstate.buttons.rstick = 0;\n\t\t}\n\n\t\tlet newKeycodes = this.kW.getPressedKeyCodes();\n\n\t\tif (JSON.stringify(newKeycodes) != JSON.stringify(this.wasPressedKeyCodes)) {\n\t\t\tthis.changed = true;\n\t\t\tthis.wasPressedKeyCodes = newKeycodes;\n\t\t\tthis.kstate.keys = [];\n\t\t\tfor (let i = 0; i < this.wasPressedKeyCodes.length; i++) {\n\t\t\t\tif (SPECIAL_KEYS[this.wasPressedKeyCodes[i]]) {\n\t\t\t\t\tthis.kstate.keys.push(SPECIAL_KEYS[this.wasPressedKeyCodes[i]]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.kstate.keys.push(String.fromCharCode(this.wasPressedKeyCodes[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.wasPressedKeyCodes = newKeycodes;\n\n\t\tlet newControllerState = this.cstate.getState();\n\n\t\t// reset if nothing changed:\n\t\tif (JSON.stringify(newControllerState) == JSON.stringify(oldControllerState)) {\n\t\t\tthis.cstate.setState(oldControllerState);\n\t\t} else {\n\t\t\tthis.changed = true;\n\t\t}\n\t}\n\n\tgetControllerState() {\n\t\treturn this.cstate.getState();\n\t}\n\n\tgetState() {\n\t\treturn this.kstate;\n\t}\n}\n","import { ControllerState, MouseState } from \"./DeviceStates.js\";\r\nimport { AxisSettings } from \"./VirtualController.js\";\r\nconst restPos = 0;\r\n\r\nimport { clamp } from \"libs/tools.js\";\r\n\r\nexport class VirtualMouse {\r\n\tconstructor() {\r\n\t\tthis.canvas = null;\r\n\t\tthis.ctx = null;\r\n\r\n\t\tthis.toggle = this.toggle.bind(this);\r\n\t\tthis.getMouseInput1 = this.getMouseInput1.bind(this);\r\n\t\tthis.getMouseInput2 = this.getMouseInput2.bind(this);\r\n\t\tthis.onPointerLockChange = this.onPointerLockChange.bind(this);\r\n\r\n\t\tthis.getControllerState = this.getControllerState.bind(this);\r\n\t\tthis.getState = this.getState.bind(this);\r\n\r\n\t\tthis.drawCircle = this.drawCircle.bind(this);\r\n\r\n\t\tthis.cstate = new ControllerState();\r\n\t\tthis.mstate = new MouseState();\r\n\r\n\t\tthis.btnMap = {\r\n\t\t\t0: \"left\",\r\n\t\t\t1: \"middle\",\r\n\t\t\t2: \"right\",\r\n\t\t};\r\n\r\n\t\tthis.mouseMoveTimer = null;\r\n\t\tthis.changed = false;\r\n\r\n\t\tthis.settings = {\r\n\t\t\tenabled: false,\r\n\t\t\trealMode: false,\r\n\r\n\t\t\taxes: [\r\n\t\t\t\t// new AxisSettings(0.08, 0, 0), // 15\r\n\t\t\t\t// new AxisSettings(0.08, 0, 0),\r\n\t\t\t\tnew AxisSettings(0.06, 0, 0),\r\n\t\t\t\tnew AxisSettings(0.06, 0, 0),\r\n\t\t\t],\r\n\r\n\t\t\tmap: {\r\n\t\t\t\tbuttons: [\"zr\", \"x\", \"zl\"],\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tonPointerLockChange() {\r\n\t\tif (document.pointerLockElement == null) {\r\n\t\t\tthis.toggle(false);\r\n\t\t}\r\n\t}\r\n\r\n\tdrawCircle(x, y) {\r\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.fillStyle = \"#000\";\r\n\t\tthis.ctx.arc(x, y, 15, 0, 2 * Math.PI, true);\r\n\t\tthis.ctx.fill();\r\n\t\tthis.ctx.beginPath();\r\n\t\tthis.ctx.fillStyle = \"#FFF\";\r\n\t\tthis.ctx.arc(x, y, 13, 0, 2 * Math.PI, true);\r\n\t\tthis.ctx.fill();\r\n\t}\r\n\r\n\tgetMouseInput1(event) {\r\n\t\t// on mouse stop:\r\n\t\tclearTimeout(this.mouseMoveTimer);\r\n\t\tthis.mouseMoveTimer = setTimeout(() => {\r\n\t\t\tthis.changed = true;\r\n\t\t\tthis.cstate.axes[2] = restPos;\r\n\t\t\tthis.cstate.axes[3] = restPos;\r\n\t\t}, 80);\r\n\r\n\t\tlet x = restPos + event.movementX * this.settings.axes[0].sensitivity;\r\n\t\tlet y = restPos - event.movementY * this.settings.axes[1].sensitivity;\r\n\r\n\t\tthis.changed = true;\r\n\r\n\t\tthis.mstate.dx = clamp(x, -1, 1);\r\n\t\tthis.mstate.dy = clamp(y, -1, 1);\r\n\t\tthis.cstate.axes[2] = this.mstate.dx;\r\n\t\tthis.cstate.axes[3] = this.mstate.dy;\r\n\r\n\t\tthis.mstate.x += x * 14;\r\n\t\tthis.mstate.y -= y * 14;\r\n\t\tthis.mstate.x = clamp(this.mstate.x, 0, this.canvas.width);\r\n\t\tthis.mstate.y = clamp(this.mstate.y, 0, this.canvas.height);\r\n\t\tthis.drawCircle(parseInt(this.mstate.x), parseInt(this.mstate.y));\r\n\t}\r\n\r\n\tgetMouseInput2(event) {\r\n\t\tthis.changed = true;\r\n\t\tlet pressed = event.type == \"mousedown\" ? 1 : 0;\r\n\t\tthis.cstate.buttons[this.settings.map.buttons[event.which - 1]] = pressed;\r\n\t\tlet which = this.btnMap[event.which - 1];\r\n\t\tthis.mstate.btns[which] = pressed;\r\n\t}\r\n\r\n\tinit(canvas) {\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.ctx = this.canvas.getContext(\"2d\");\r\n\t\twindow.ctx = this.ctx;\r\n\t\twindow.canvas = this.canvas;\r\n\t\tcanvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock;\r\n\t\tdocument.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock;\r\n\t}\r\n\r\n\ttoggle(state) {\r\n\t\tif (!this.canvas) {\r\n\t\t\tconsole.log(\"canvas not set!\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.settings.enabled = state;\r\n\r\n\t\tif (state) {\r\n\t\t\tthis.canvas.requestPointerLock();\r\n\t\t\tdocument.addEventListener(\"mousemove\", this.getMouseInput1, false);\r\n\t\t\tdocument.addEventListener(\"mousedown\", this.getMouseInput2, false);\r\n\t\t\tdocument.addEventListener(\"mouseup\", this.getMouseInput2, false);\r\n\t\t\tdocument.addEventListener(\"pointerlockchange\", this.onPointerLockChange, false);\r\n\t\t} else {\r\n\t\t\tdocument.exitPointerLock();\r\n\t\t\tdocument.removeEventListener(\"mousemove\", this.getMouseInput1);\r\n\t\t\tdocument.removeEventListener(\"mousedown\", this.getMouseInput2);\r\n\t\t\tdocument.removeEventListener(\"mouseup\", this.getMouseInput2);\r\n\t\t\tdocument.removeEventListener(\"pointerlockchange\", this.onPointerLockChange);\r\n\t\t\tclearTimeout(this.mouseMoveTimer);\r\n\t\t\tthis.cstate.axes[2] = restPos;\r\n\t\t\tthis.cstate.axes[3] = restPos;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.settings.enabled = false;\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tgetControllerState() {\r\n\t\treturn this.cstate.getState();\r\n\t}\r\n\r\n\tgetState() {\r\n\t\t// return this.mstate.getState();\r\n\t\treturn this.mstate;\r\n\t}\r\n}\r\n","import { ControllerState, TouchState } from \"./DeviceStates.js\";\r\n\r\nexport class VirtualTouchpad {\r\n\tconstructor(touchWrapper) {\r\n\t\tthis.touchWrapper = touchWrapper;\r\n\r\n\t\tthis.changed = false;\r\n\t\tthis.cstate = new ControllerState();\r\n\t\tthis.tstate = new TouchState();\r\n\t}\r\n\r\n\t// get controller state:\r\n\r\n\tpoll = () => {\r\n\t\tlet oldControllerState = this.cstate.getState();\r\n\r\n\t\tthis.cstate.buttons.a = this.touchWrapper.activeTargets.a ? 1 : 0;\r\n\t\tthis.cstate.buttons.b = this.touchWrapper.activeTargets.b ? 1 : 0;\r\n\t\tthis.cstate.buttons.x = this.touchWrapper.activeTargets.x ? 1 : 0;\r\n\t\tthis.cstate.buttons.y = this.touchWrapper.activeTargets.y ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.up = this.touchWrapper.activeTargets.up ? 1 : 0;\r\n\t\tthis.cstate.buttons.down = this.touchWrapper.activeTargets.down ? 1 : 0;\r\n\t\tthis.cstate.buttons.left = this.touchWrapper.activeTargets.left ? 1 : 0;\r\n\t\tthis.cstate.buttons.right = this.touchWrapper.activeTargets.right ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.l = this.touchWrapper.activeTargets.l ? 1 : 0;\r\n\t\tthis.cstate.buttons.zl = this.touchWrapper.activeTargets.zl ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.r = this.touchWrapper.activeTargets.r ? 1 : 0;\r\n\t\tthis.cstate.buttons.zr = this.touchWrapper.activeTargets.zr ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.capture = this.touchWrapper.activeTargets.capture ? 1 : 0;\r\n\t\tthis.cstate.buttons.home = this.touchWrapper.activeTargets.home ? 1 : 0;\r\n\r\n\t\tthis.cstate.buttons.minus = this.touchWrapper.activeTargets.minus ? 1 : 0;\r\n\t\tthis.cstate.buttons.plus = this.touchWrapper.activeTargets.plus ? 1 : 0;\r\n\r\n\t\tthis.cstate.axes[0] = this.touchWrapper.sticks.lx;\r\n\t\tthis.cstate.axes[1] = this.touchWrapper.sticks.ly;\r\n\t\tthis.cstate.axes[2] = this.touchWrapper.sticks.rx;\r\n\t\tthis.cstate.axes[3] = this.touchWrapper.sticks.ry;\r\n\r\n\t\tlet newControllerState = this.cstate.getState();\r\n\t\t// reset if nothing changed:\r\n\t\tif (JSON.stringify(newControllerState) == JSON.stringify(oldControllerState)) {\r\n\t\t\tthis.cstate.setState(oldControllerState);\r\n\t\t} else {\r\n\t\t\tthis.changed = true;\r\n\t\t}\r\n\t};\r\n\r\n\tgetControllerState = () => {\r\n\t\treturn this.cstate.getState();\r\n\t};\r\n\r\n\tgetState = () => {\r\n\t\t// return this.tstate;\r\n\t};\r\n}\r\n","export const WASM_BINARY_INLINED='AGFzbQEAAAAADQZkeWxpbmudTgQAAAABNAlgAX8Bf2ABfwBgAn9/AX9gAn9/AGAEf39/fwBgA39/fwF/YAAAYAZ/f39/f38AYAF/AX0CQwQDZW52BHNicmsAAANlbnYNX19hc3NlcnRfZmFpbAAEA2Vudg1fX21lbW9yeV9iYXNlA38AA2VudgZtZW1vcnkCAAADPTwCAQIAAwMBAAgAAAAAAAAAAQMBBwEDBAEEBAQCAQIAAwMAAAAAAAQEAgECAAIAAgAAAAABAQIDAQUFBQYH5AUfFG1wZWcxX2RlY29kZXJfY3JlYXRlAAIGbWFsbG9jADEGbWVtc2V0ADwVbXBlZzFfZGVjb2Rlcl9kZXN0cm95AAMEZnJlZQA1G21wZWcxX2RlY29kZXJfZ2V0X3dyaXRlX3B0cgAEF21wZWcxX2RlY29kZXJfZ2V0X2luZGV4AAUXbXBlZzFfZGVjb2Rlcl9zZXRfaW5kZXgABhdtcGVnMV9kZWNvZGVyX2RpZF93cml0ZQAHIW1wZWcxX2RlY29kZXJfaGFzX3NlcXVlbmNlX2hlYWRlcgAJHG1wZWcxX2RlY29kZXJfZ2V0X2ZyYW1lX3JhdGUAChxtcGVnMV9kZWNvZGVyX2dldF9jb2RlZF9zaXplAAsXbXBlZzFfZGVjb2Rlcl9nZXRfd2lkdGgADBhtcGVnMV9kZWNvZGVyX2dldF9oZWlnaHQADRdtcGVnMV9kZWNvZGVyX2dldF95X3B0cgAOGG1wZWcxX2RlY29kZXJfZ2V0X2NyX3B0cgAPGG1wZWcxX2RlY29kZXJfZ2V0X2NiX3B0cgAQFG1wZWcxX2RlY29kZXJfZGVjb2RlABESbXAyX2RlY29kZXJfY3JlYXRlAB0GbWVtY3B5ADoTbXAyX2RlY29kZXJfZGVzdHJveQAeGW1wMl9kZWNvZGVyX2dldF93cml0ZV9wdHIAHxVtcDJfZGVjb2Rlcl9nZXRfaW5kZXgAIBVtcDJfZGVjb2Rlcl9zZXRfaW5kZXgAIRVtcDJfZGVjb2Rlcl9kaWRfd3JpdGUAIhttcDJfZGVjb2Rlcl9nZXRfc2FtcGxlX3JhdGUAIyBtcDJfZGVjb2Rlcl9nZXRfbGVmdF9jaGFubmVsX3B0cgAkIW1wMl9kZWNvZGVyX2dldF9yaWdodF9jaGFubmVsX3B0cgAl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Agw2AgQLIAAoAgwiAUUNACABIAAoAgg2AgALIAAgACgCACACQQF0aiIBNgIAIAFBAXFFBEAgABA5C0EBDwsjACIAQabMAGogAEGEygBqQaEDIABBwswAahABAAsjACIAQdLKAGogAEGEygBqQfoBIABB9coAahABAAsjACIAQYbLAGogAEGEygBqQYACIABB9coAahABAAu/AgEEfwJAAkACQAJAIABBD2pBeHEiAxAAIgFBf0YNAAJAAkACQCABQQdqQXhxIgAgAUcEQCAAIAFrEAAiBEF/Rg0EIAQgASADakcNBSMAQeTJAGooAgBFBEAjAEHgyQBqKAIARQ0CDAgLIwAiAEHKzQBqIABBhMoAakHnBSAAQbvNAGoQAQALIwAiAUHgyQBqKAIAIQIgAUHkyQBqKAIAIgENASACDQYLIwBB4MkAaiAANgIADAELIAJFDQMgACABNgIECyMAQeTJAGogADYCACAAIANBAXRBAXI2AgAgACECCyACDwsjACIAQZLNAGogAEGEygBqQeUFIABBu80AahABAAsjACIAQePNAGogAEGEygBqQfQFIABBu80AahABAAsjACIAQdbNAGogAEGEygBqQfAFIABBu80AahABAAsOACAABEAgAEF4ahA2CwunBgEFfyAAIAAoAgAiAUF+cTYCAAJAAkACQAJAIAAgAUEBdmpBABAATQRAIAAoAgQhASMAQeTJAGooAgAiBCAARiIFRQRAIAAgACgCAEEBdmohAgsCQAJAIAFFDQAgASgCACIDQQFxDQAgA0EBdkF4aiIDRQ0EQRwgA0EIIANBCEsbZyIDa0EdTw0FIwBBACADa0ECdGpB3MkAaiIDKAIAIAFBCGpGBEAgAyABKAIMNgIACyABKAIIIgMEQCADIAEoAgw2AgQLIAEoAgwiAwRAIAMgASgCCDYCAAsgASABKAIAIAAoAgBBfnFqNgIAIAJFBEAjACEAIAUEQAwICyMAIgBB/cwAaiAAQYTKAGpB0gIgAEHhzABqEAEACyACIAE2AgQgAigCACIAQQFxDQEgAEEBdkF4aiIARQ0EQRwgAEEIIABBCEsbZyIAa0EdTw0FIwBBACAAa0ECdGpB3MkAaiIAKAIAIAJBCGpGBEAgACACKAIMNgIACyACKAIIIgAEQCAAIAIoAgw2AgQLIAIoAgwiAARAIAAgAigCCDYCACMAQeTJAGooAgAhBAsgASABKAIAIAIoAgBBfnFqNgIAIwAhACACIARGBEAMBwsgAiACKAIAQQF2aiABNgIEIAEQOQ8LAkAgAkUNACACKAIAIgFBAXENACABQQF2QXhqIgFFDQRBHCABQQggAUEISxtnIgFrQR1PDQUjAEEAIAFrQQJ0akHcyQBqIgEoAgAgAkEIakYEQCABIAIoAgw2AgALIAIoAggiAQRAIAEgAigCDDYCBAsgAigCDCIBBEAgASACKAIINgIAIwBB5MkAaigCACEECyAAIAAoAgAgAigCAEF+cWo2AgAjACEBIAIgBEYEfyABQeTJAGoFIAIgAigCAEEBdmpBBGoLIAA2AgALIAAhAQsgARA5DwsjACIAQejJAGogAEGEygBqQcQCIABB4cwAahABAAALAAsjACIAQdLKAGogAEGEygBqQfoBIABB9coAahABAAsjACIAQYbLAGogAEGEygBqQYACIABB9coAahABAAsgAEHkyQBqIAE2AgAgARA5C7IIAQV/AkACQAJAAkACQAJAAkAgAEUEQAJAIAFBASABGyICEDIiAQ0AAn8CQCMAQeTJAGooAgAiAEUNACAAKAIAIgFBAXENACAAIAFBAXI2AgAgAUEBdkF4aiIBRQ0IQRwgAUEIIAFBCEsbZyIBa0EdTw0JIwBBACABa0ECdGpB3MkAaiIBKAIAIABBCGpGBEAgASAAKAIMNgIACyAAKAIIIgEEQCABIAAoAgw2AgQLIAAoAgwiAQRAIAEgACgCCDYCAAsjACEAIAIQMyECIABB5MkAaigCACIBIAINARogASABKAIAQX5xNgIAQQAPCyACEDQLIgENAEEADwsgASABKAIAQQF2akEAEABLDQIgAS0AAEEBcUUNByABQQhqDwsgAEF4aiEEIAFFBEAgBBA2QQAPCyAEKAIAIgJBAXFFDQICQAJAIAJBAXYiA0F4aiABTwRADAELAkAjAEHkyQBqKAIAIgUgBEYNACADIARqIgMoAgAiBkEBcQ0AIAZBAXZBeGoiAkUNB0EcIAJBCCACQQhLG2ciAmtBHU8NCCMAQQAgAmtBAnRqQdzJAGoiAigCACADQQhqRgRAIAIgAygCDDYCAAsgAygCCCICBEAgAiADKAIMNgIECyADKAIMIgIEQCACIAMoAgg2AgALIAQgBCgCACAD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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGdldEFmdGVyKHJlZ2lvbikgPD0gc2JyaygwKQAvaG9tZS9mb3NzZS9lbXNkay91cHN0cmVhbS9lbXNjcmlwdGVuL3N5c3RlbS9saWIvZW1tYWxsb2MuY3BwAGVtbWFsbG9jX21hbGxvYwBzaXplID4gMABnZXRCaWdFbm91Z2hGcmVlTGlzdEluZGV4AGdldEZyZWVMaXN0SW5kZXgATUlOX0ZSRUVMSVNUX0lOREVYIDw9IGluZGV4ICYmIGluZGV4IDwgTUFYX0ZSRUVMSVNUX0lOREVYAHBheWxvYWRTaXplID49IHNpemUAcG9zc2libHlTcGxpdFJlbWFpbmRlcgBleHRyYSA+PSBNSU5fUkVHSU9OX1NJWkUAdG90YWxTcGxpdFNpemUgPj0gTUlOX1JFR0lPTl9TSVpFAHB0ciA9PSBnZXRBZnRlcihsYXN0UmVnaW9uKQBleHRlbmRMYXN0UmVnaW9uAGFkZFRvRnJlZUxpc3QAbWVyZ2VJbnRvRXhpc3RpbmdGcmVlUmVnaW9uAHJlZ2lvbiA9PSBsYXN0UmVnaW9uAChjaGFyKilleHRyYVB0ciA9PSAoY2hhciopcHRyICsgc2Jya1NpemUAYWxsb2NhdGVSZWdpb24AIWxhc3RSZWdpb24AIWZpcnN0UmVnaW9uAGZpcnN0UmVnaW9uAGdldFBheWxvYWQAcmVnaW9uLT5nZXRVc2VkKCkAZW1tYWxsb2NfcmVhbGxvYwA=';\n","export class AjaxSource {\r\n\tconstructor(url, options) {\r\n\t\tthis.url = url;\r\n\t\tthis.destination = null;\r\n\t\tthis.request = null;\r\n\t\tthis.streaming = false;\r\n\r\n\t\tthis.completed = false;\r\n\t\tthis.established = false;\r\n\t\tthis.progress = 0;\r\n\r\n\t\tthis.onEstablishedCallback = options.onSourceEstablished;\r\n\t\tthis.onCompletedCallback = options.onSourceCompleted;\r\n\t}\r\n\r\n\tconnect = function(destination) {\r\n\t\tthis.destination = destination;\r\n\t};\r\n\r\n\tstart = function() {\r\n\t\tthis.request = new XMLHttpRequest();\r\n\r\n\t\tthis.request.onreadystatechange = function() {\r\n\t\t\tif (this.request.readyState === this.request.DONE && this.request.status === 200) {\r\n\t\t\t\tthis.onLoad(this.request.response);\r\n\t\t\t}\r\n\t\t}.bind(this);\r\n\r\n\t\tthis.request.onprogress = this.onProgress.bind(this);\r\n\t\tthis.request.open(\"GET\", this.url);\r\n\t\tthis.request.responseType = \"arraybuffer\";\r\n\t\tthis.request.send();\r\n\t};\r\n\r\n\tresume = function(secondsHeadroom) {\r\n\t\t// Nothing to do here\r\n\t};\r\n\r\n\tdestroy = function() {\r\n\t\tthis.request.abort();\r\n\t};\r\n\r\n\tonProgress = function(ev) {\r\n\t\tthis.progress = ev.loaded / ev.total;\r\n\t};\r\n\r\n\tonLoad = function(data) {\r\n\t\tthis.established = true;\r\n\t\tthis.completed = true;\r\n\t\tthis.progress = 1;\r\n\r\n\t\tif (this.onEstablishedCallback) {\r\n\t\t\tthis.onEstablishedCallback(this);\r\n\t\t}\r\n\t\tif (this.onCompletedCallback) {\r\n\t\t\tthis.onCompletedCallback(this);\r\n\t\t}\r\n\r\n\t\tif (this.destination) {\r\n\t\t\tthis.destination.write(data);\r\n\t\t}\r\n\t};\r\n}\r\n","export class BitBuffer {\r\n\tconstructor(bufferOrLength, mode) {\r\n\t\tif (typeof bufferOrLength === \"object\") {\r\n\t\t\tthis.bytes =\r\n\t\t\t\tbufferOrLength instanceof Uint8Array\r\n\t\t\t\t\t? bufferOrLength\r\n\t\t\t\t\t: new Uint8Array(bufferOrLength);\r\n\r\n\t\t\tthis.byteLength = this.bytes.length;\r\n\t\t} else {\r\n\t\t\tthis.bytes = new Uint8Array(bufferOrLength || 1024 * 1024);\r\n\t\t\tthis.byteLength = 0;\r\n\t\t}\r\n\r\n\t\tthis.mode = mode || BitBuffer.MODE.EXPAND;\r\n\t\tthis.index = 0;\r\n\t}\r\n\r\n\tstatic MODE = {\r\n\t\tEVICT: 1,\r\n\t\tEXPAND: 2,\r\n\t};\r\n\r\n\tresize = function(size) {\r\n\t\tvar newBytes = new Uint8Array(size);\r\n\t\tif (this.byteLength !== 0) {\r\n\t\t\tthis.byteLength = Math.min(this.byteLength, size);\r\n\t\t\tnewBytes.set(this.bytes, 0, this.byteLength);\r\n\t\t}\r\n\t\tthis.bytes = newBytes;\r\n\t\tthis.index = Math.min(this.index, this.byteLength << 3);\r\n\t};\r\n\r\n\tevict = function(sizeNeeded) {\r\n\t\tvar bytePos = this.index >> 3,\r\n\t\t\tavailable = this.bytes.length - this.byteLength;\r\n\r\n\t\t// If the current index is the write position, we can simply reset both\r\n\t\t// to 0. Also reset (and throw away yet unread data) if we won't be able\r\n\t\t// to fit the new data in even after a normal eviction.\r\n\t\tif (\r\n\t\t\tthis.index === this.byteLength << 3 ||\r\n\t\t\tsizeNeeded > available + bytePos // emergency evac\r\n\t\t) {\r\n\t\t\tthis.byteLength = 0;\r\n\t\t\tthis.index = 0;\r\n\t\t\treturn;\r\n\t\t} else if (bytePos === 0) {\r\n\t\t\t// Nothing read yet - we can't evict anything\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Some browsers don't support copyWithin() yet - we may have to do\r\n\t\t// it manually using set and a subarray\r\n\t\tif (this.bytes.copyWithin) {\r\n\t\t\tthis.bytes.copyWithin(0, bytePos, this.byteLength);\r\n\t\t} else {\r\n\t\t\tthis.bytes.set(this.bytes.subarray(bytePos, this.byteLength));\r\n\t\t}\r\n\r\n\t\tthis.byteLength = this.byteLength - bytePos;\r\n\t\tthis.index -= bytePos << 3;\r\n\t\treturn;\r\n\t};\r\n\r\n\twrite = function(buffers) {\r\n\t\tvar isArrayOfBuffers = typeof buffers[0] === \"object\",\r\n\t\t\ttotalLength = 0,\r\n\t\t\tavailable = this.bytes.length - this.byteLength;\r\n\r\n\t\t// Calculate total byte length\r\n\t\tif (isArrayOfBuffers) {\r\n\t\t\tvar totalLength = 0;\r\n\t\t\tfor (var i = 0; i < buffers.length; i++) {\r\n\t\t\t\ttotalLength += buffers[i].byteLength;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttotalLength = buffers.byteLength;\r\n\t\t}\r\n\r\n\t\t// Do we need to resize or evict?\r\n\t\tif (totalLength > available) {\r\n\t\t\tif (this.mode === BitBuffer.MODE.EXPAND) {\r\n\t\t\t\tvar newSize = Math.max(this.bytes.length * 2, totalLength - available);\r\n\t\t\t\tthis.resize(newSize);\r\n\t\t\t} else {\r\n\t\t\t\tthis.evict(totalLength);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isArrayOfBuffers) {\r\n\t\t\tfor (var i = 0; i < buffers.length; i++) {\r\n\t\t\t\tthis.appendSingleBuffer(buffers[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.appendSingleBuffer(buffers);\r\n\t\t}\r\n\r\n\t\treturn totalLength;\r\n\t};\r\n\r\n\tappendSingleBuffer = function(buffer) {\r\n\t\tbuffer = buffer instanceof Uint8Array ? buffer : new Uint8Array(buffer);\r\n\r\n\t\tthis.bytes.set(buffer, this.byteLength);\r\n\t\tthis.byteLength += buffer.length;\r\n\t};\r\n\r\n\tfindNextStartCode = function() {\r\n\t\tfor (var i = (this.index + 7) >> 3; i < this.byteLength; i++) {\r\n\t\t\tif (\r\n\t\t\t\tthis.bytes[i] == 0x00 &&\r\n\t\t\t\tthis.bytes[i + 1] == 0x00 &&\r\n\t\t\t\tthis.bytes[i + 2] == 0x01\r\n\t\t\t) {\r\n\t\t\t\tthis.index = (i + 4) << 3;\r\n\t\t\t\treturn this.bytes[i + 3];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.index = this.byteLength << 3;\r\n\t\treturn -1;\r\n\t};\r\n\r\n\tfindStartCode = function(code) {\r\n\t\tvar current = 0;\r\n\t\twhile (true) {\r\n\t\t\tcurrent = this.findNextStartCode();\r\n\t\t\tif (current === code || current === -1) {\r\n\t\t\t\treturn current;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t};\r\n\r\n\tnextBytesAreStartCode = function() {\r\n\t\tvar i = (this.index + 7) >> 3;\r\n\t\treturn (\r\n\t\t\ti >= this.byteLength ||\r\n\t\t\t(this.bytes[i] == 0x00 && this.bytes[i + 1] == 0x00 && this.bytes[i + 2] == 0x01)\r\n\t\t);\r\n\t};\r\n\r\n\tpeek = function(count) {\r\n\t\tvar offset = this.index;\r\n\t\tvar value = 0;\r\n\t\twhile (count) {\r\n\t\t\tvar currentByte = this.bytes[offset >> 3],\r\n\t\t\t\tremaining = 8 - (offset & 7), // remaining bits in byte\r\n\t\t\t\tread = remaining < count ? remaining : count, // bits in this run\r\n\t\t\t\tshift = remaining - read,\r\n\t\t\t\tmask = 0xff >> (8 - read);\r\n\r\n\t\t\tvalue = (value << read) | ((currentByte & (mask << shift)) >> shift);\r\n\r\n\t\t\toffset += read;\r\n\t\t\tcount -= read;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tread = function(count) {\r\n\t\tvar value = this.peek(count);\r\n\t\tthis.index += count;\r\n\t\treturn value;\r\n\t};\r\n\r\n\tskip = function(count) {\r\n\t\treturn (this.index += count);\r\n\t};\r\n\r\n\trewind = function(count) {\r\n\t\tthis.index = Math.max(this.index - count, 0);\r\n\t};\r\n\r\n\thas = function(count) {\r\n\t\treturn (this.byteLength << 3) - this.index >= count;\r\n\t};\r\n}\r\n","import { Fill } from \"./utils.js\";\r\n\r\nexport class CanvasRenderer {\r\n\tconstructor(options) {\r\n\t\tthis.canvas = options.canvas || document.createElement(\"canvas\");\r\n\t\tthis.width = this.canvas.width;\r\n\t\tthis.height = this.canvas.height;\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.context = this.canvas.getContext(\"2d\");\r\n\t}\r\n\r\n\tdestroy = function() {\r\n\t\t// Nothing to do here\r\n\t};\r\n\r\n\tresize = function(width, height) {\r\n\t\tthis.width = width | 0;\r\n\t\tthis.height = height | 0;\r\n\r\n\t\tthis.canvas.width = this.width;\r\n\t\tthis.canvas.height = this.height;\r\n\r\n\t\tthis.imageData = this.context.getImageData(0, 0, this.width, this.height);\r\n\t\tFill(this.imageData.data, 255);\r\n\t};\r\n\r\n\trenderProgress = function(progress) {\r\n\t\tvar w = this.canvas.width,\r\n\t\t\th = this.canvas.height,\r\n\t\t\tctx = this.context;\r\n\r\n\t\tctx.fillStyle = \"#222\";\r\n\t\tctx.fillRect(0, 0, w, h);\r\n\t\tctx.fillStyle = \"#fff\";\r\n\t\tctx.fillRect(0, h - h * progress, w, h * progress);\r\n\t};\r\n\r\n\trender = function(y, cb, cr) {\r\n\t\tthis.YCbCrToRGBA(y, cb, cr, this.imageData.data);\r\n\t\tthis.context.putImageData(this.imageData, 0, 0);\r\n\t};\r\n\r\n\tYCbCrToRGBA = function(y, cb, cr, rgba) {\r\n\t\tif (!this.enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Chroma values are the same for each block of 4 pixels, so we proccess\r\n\t\t// 2 lines at a time, 2 neighboring pixels each.\r\n\t\t// I wish we could use 32bit writes to the RGBA buffer instead of writing\r\n\t\t// each byte separately, but we need the automatic clamping of the RGBA\r\n\t\t// buffer.\r\n\r\n\t\tvar w = ((this.width + 15) >> 4) << 4,\r\n\t\t\tw2 = w >> 1;\r\n\r\n\t\tvar yIndex1 = 0,\r\n\t\t\tyIndex2 = w,\r\n\t\t\tyNext2Lines = w + (w - this.width);\r\n\r\n\t\tvar cIndex = 0,\r\n\t\t\tcNextLine = w2 - (this.width >> 1);\r\n\r\n\t\tvar rgbaIndex1 = 0,\r\n\t\t\trgbaIndex2 = this.width * 4,\r\n\t\t\trgbaNext2Lines = this.width * 4;\r\n\r\n\t\tvar cols = this.width >> 1,\r\n\t\t\trows = this.height >> 1;\r\n\r\n\t\tvar ccb, ccr, r, g, b;\r\n\r\n\t\tfor (var row = 0; row < rows; row++) {\r\n\t\t\tfor (var col = 0; col < cols; col++) {\r\n\t\t\t\tccb = cb[cIndex];\r\n\t\t\t\tccr = cr[cIndex];\r\n\t\t\t\tcIndex++;\r\n\r\n\t\t\t\tr = ccb + ((ccb * 103) >> 8) - 179;\r\n\t\t\t\tg = ((ccr * 88) >> 8) - 44 + ((ccb * 183) >> 8) - 91;\r\n\t\t\t\tb = ccr + ((ccr * 198) >> 8) - 227;\r\n\r\n\t\t\t\t// Line 1\r\n\t\t\t\tvar y1 = y[yIndex1++];\r\n\t\t\t\tvar y2 = y[yIndex1++];\r\n\t\t\t\trgba[rgbaIndex1] = y1 + r;\r\n\t\t\t\trgba[rgbaIndex1 + 1] = y1 - g;\r\n\t\t\t\trgba[rgbaIndex1 + 2] = y1 + b;\r\n\t\t\t\trgba[rgbaIndex1 + 4] = y2 + r;\r\n\t\t\t\trgba[rgbaIndex1 + 5] = y2 - g;\r\n\t\t\t\trgba[rgbaIndex1 + 6] = y2 + b;\r\n\t\t\t\trgbaIndex1 += 8;\r\n\r\n\t\t\t\t// Line 2\r\n\t\t\t\tvar y3 = y[yIndex2++];\r\n\t\t\t\tvar y4 = y[yIndex2++];\r\n\t\t\t\trgba[rgbaIndex2] = y3 + r;\r\n\t\t\t\trgba[rgbaIndex2 + 1] = y3 - g;\r\n\t\t\t\trgba[rgbaIndex2 + 2] = y3 + b;\r\n\t\t\t\trgba[rgbaIndex2 + 4] = y4 + r;\r\n\t\t\t\trgba[rgbaIndex2 + 5] = y4 - g;\r\n\t\t\t\trgba[rgbaIndex2 + 6] = y4 + b;\r\n\t\t\t\trgbaIndex2 += 8;\r\n\t\t\t}\r\n\r\n\t\t\tyIndex1 += yNext2Lines;\r\n\t\t\tyIndex2 += yNext2Lines;\r\n\t\t\trgbaIndex1 += rgbaNext2Lines;\r\n\t\t\trgbaIndex2 += rgbaNext2Lines;\r\n\t\t\tcIndex += cNextLine;\r\n\t\t}\r\n\t};\r\n}\r\n","export class BaseDecoder {\r\n\tconstructor(options) {\r\n\t\tthis.destination = null;\r\n\t\tthis.canPlay = false;\r\n\r\n\t\tthis.collectTimestamps = !options.streaming;\r\n\t\tthis.bytesWritten = 0;\r\n\t\tthis.timestamps = [];\r\n\t\tthis.timestampIndex = 0;\r\n\r\n\t\tthis.startTime = 0;\r\n\t\tthis.decodedTime = 0;\r\n\r\n\t\tObject.defineProperty(this, \"currentTime\", { get: this.getCurrentTime });\r\n\t}\r\n\r\n\tdestroy = () => {};\r\n\r\n\tconnect = (destination) => {\r\n\t\tthis.destination = destination;\r\n\t};\r\n\r\n\tbufferGetIndex = () => {\r\n\t\treturn this.bits.index;\r\n\t};\r\n\r\n\tbufferSetIndex = (index) => {\r\n\t\tthis.bits.index = index;\r\n\t};\r\n\r\n\tbufferWrite = (buffers) => {\r\n\t\treturn this.bits.write(buffers);\r\n\t};\r\n\r\n\twrite = (pts, buffers) => {\r\n\t\tthis.baseWrite(pts, buffers);\r\n\t};\r\n\r\n\tbaseWrite = (pts, buffers) => {\r\n\t\tif (this.collectTimestamps) {\r\n\t\t\tif (this.timestamps.length === 0) {\r\n\t\t\t\tthis.startTime = pts;\r\n\t\t\t\tthis.decodedTime = pts;\r\n\t\t\t}\r\n\t\t\tthis.timestamps.push({ index: this.bytesWritten << 3, time: pts });\r\n\t\t}\r\n\r\n\t\tthis.bytesWritten += this.bufferWrite(buffers);\r\n\t\tthis.canPlay = true;\r\n\t};\r\n\r\n\tseek = function(time) {\r\n\t\tif (!this.collectTimestamps) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.timestampIndex = 0;\r\n\t\tfor (var i = 0; i < this.timestamps.length; i++) {\r\n\t\t\tif (this.timestamps[i].time > time) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis.timestampIndex = i;\r\n\t\t}\r\n\r\n\t\tlet ts = this.timestamps[this.timestampIndex];\r\n\t\tif (ts) {\r\n\t\t\tthis.bufferSetIndex(ts.index);\r\n\t\t\tthis.decodedTime = ts.time;\r\n\t\t} else {\r\n\t\t\tthis.bufferSetIndex(0);\r\n\t\t\tthis.decodedTime = this.startTime;\r\n\t\t}\r\n\t};\r\n\r\n\tdecode = function() {\r\n\t\tthis.advanceDecodedTime(0);\r\n\t};\r\n\r\n\tadvanceDecodedTime = (seconds) => {\r\n\t\tif (this.collectTimestamps) {\r\n\t\t\tlet newTimestampIndex = -1;\r\n\t\t\tlet currentIndex = this.bufferGetIndex();\r\n\t\t\tfor (let i = this.timestampIndex; i < this.timestamps.length; i++) {\r\n\t\t\t\tif (this.timestamps[i].index > currentIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tnewTimestampIndex = i;\r\n\t\t\t}\r\n\r\n\t\t\t// Did we find a new PTS, different from the last? If so, we don't have\r\n\t\t\t// to advance the decoded time manually and can instead sync it exactly\r\n\t\t\t// to the PTS.\r\n\t\t\tif (newTimestampIndex !== -1 && newTimestampIndex !== this.timestampIndex) {\r\n\t\t\t\tthis.timestampIndex = newTimestampIndex;\r\n\t\t\t\tthis.decodedTime = this.timestamps[this.timestampIndex].time;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.decodedTime += seconds;\r\n\t};\r\n\r\n\tgetCurrentTime = function() {\r\n\t\treturn this.decodedTime;\r\n\t};\r\n}\r\n","// Based on kjmp2 by Martin J. Fiedler\r\n// http://keyj.emphy.de/kjmp2/\r\n\r\nimport { BitBuffer } from \"./buffer.js\";\r\nimport { BaseDecoder } from \"./decoder.js\";\r\nimport { Now } from \"./utils.js\";\r\n\r\nexport class MP2WASM extends BaseDecoder {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\r\n\t\tthis.onDecodeCallback = options.onAudioDecode;\r\n\t\tthis.module = options.wasmModule;\r\n\r\n\t\tthis.bufferSize = options.audioBufferSize || 128 * 1024;\r\n\t\tthis.bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\r\n\r\n\t\tthis.sampleRate = 0;\r\n\t}\r\n\r\n\tstatic SAMPLES_PER_FRAME = 1152;\r\n\r\n\tinitializeWasmDecoder = () => {\r\n\t\tif (!this.module.instance) {\r\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.instance = this.module.instance;\r\n\t\tthis.functions = this.module.instance.exports;\r\n\t\tthis.decoder = this.functions.mp2_decoder_create(this.bufferSize, this.bufferMode);\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/*this.functions && */ this.functions.mp2_decoder_destroy(this.decoder);\r\n\t};\r\n\r\n\tbufferGetIndex = () => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn this.functions.mp2_decoder_get_index(this.decoder);\r\n\t};\r\n\r\n\tbufferSetIndex = (index) => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.functions.mp2_decoder_set_index(this.decoder, index);\r\n\t};\r\n\r\n\tbufferWrite = (buffers) => {\r\n\t\t// 1/28/20\r\n\t\t// https://github.com/SuperAwesomeLTD/jsmpeg/pull/1/commits/e2728ba23086fec6aea62f4f2810c5c755199a40\r\n\t\tif (!this.module.instance) {\r\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.decoder) {\r\n\t\t\tthis.initializeWasmDecoder();\r\n\t\t}\r\n\r\n\t\tlet totalLength = 0;\r\n\t\tfor (let i = 0; i < buffers.length; i++) {\r\n\t\t\ttotalLength += buffers[i].length;\r\n\t\t}\r\n\r\n\t\tlet ptr = this.functions.mp2_decoder_get_write_ptr(this.decoder, totalLength);\r\n\t\tfor (let i = 0; i < buffers.length; i++) {\r\n\t\t\tthis.instance.heapU8.set(buffers[i], ptr);\r\n\t\t\tptr += buffers[i].length;\r\n\t\t}\r\n\r\n\t\tthis.functions.mp2_decoder_did_write(this.decoder, totalLength);\r\n\t\treturn totalLength;\r\n\t};\r\n\r\n\twrite = (pts, buffers) => {\r\n\t\tthis.baseWrite(pts, buffers);\r\n\t};\r\n\r\n\tdecode = () => {\r\n\t\tlet startTime = Now();\r\n\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet decodedBytes = this.functions.mp2_decoder_decode(this.decoder);\r\n\t\tif (decodedBytes === 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!this.sampleRate) {\r\n\t\t\tthis.sampleRate = this.functions.mp2_decoder_get_sample_rate(this.decoder);\r\n\t\t}\r\n\r\n\t\tif (this.destination) {\r\n\t\t\t// Create a Float32 View into the modules output channel data\r\n\t\t\tlet leftPtr = this.functions.mp2_decoder_get_left_channel_ptr(this.decoder),\r\n\t\t\t\trightPtr = this.functions.mp2_decoder_get_right_channel_ptr(this.decoder);\r\n\r\n\t\t\tlet leftOffset = leftPtr / Float32Array.BYTES_PER_ELEMENT,\r\n\t\t\t\trightOffset = rightPtr / Float32Array.BYTES_PER_ELEMENT;\r\n\r\n\t\t\tlet left = this.instance.heapF32.subarray(\r\n\t\t\t\t\tleftOffset,\r\n\t\t\t\t\tleftOffset + MP2WASM.SAMPLES_PER_FRAME,\r\n\t\t\t\t),\r\n\t\t\t\tright = this.instance.heapF32.subarray(\r\n\t\t\t\t\trightOffset,\r\n\t\t\t\t\trightOffset + MP2WASM.SAMPLES_PER_FRAME,\r\n\t\t\t\t);\r\n\r\n\t\t\tthis.destination.play(this.sampleRate, left, right);\r\n\t\t}\r\n\r\n\t\tthis.advanceDecodedTime(MP2WASM.SAMPLES_PER_FRAME / this.sampleRate);\r\n\r\n\t\tlet elapsedTime = Now() - startTime;\r\n\t\tif (this.onDecodeCallback) {\r\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tgetCurrentTime = () => {\r\n\t\tlet enqueuedTime = this.destination ? this.destination.enqueuedTime : 0;\r\n\t\treturn this.decodedTime - enqueuedTime;\r\n\t};\r\n}\r\n","// JSMpeg.Decoder.MP2Audio = (function(){ \"use strict\";\r\n\r\n// Based on kjmp2 by Martin J. Fiedler\r\n// http://keyj.emphy.de/kjmp2/\r\n\r\nimport { BitBuffer } from \"./buffer.js\";\r\nimport { BaseDecoder } from \"./decoder.js\";\r\nimport { Now, Fill } from \"./utils.js\";\r\n\r\nexport class MP2 extends BaseDecoder {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\r\n\t\tthis.onDecodeCallback = options.onAudioDecode;\r\n\r\n\t\tvar bufferSize = options.audioBufferSize || 128 * 1024;\r\n\t\tvar bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\r\n\r\n\t\tthis.bits = new BitBuffer(bufferSize, bufferMode);\r\n\r\n\t\tthis.left = new Float32Array(1152);\r\n\t\tthis.right = new Float32Array(1152);\r\n\t\tthis.sampleRate = 44100;\r\n\r\n\t\tthis.D = new Float32Array(1024);\r\n\t\tthis.D.set(MP2.SYNTHESIS_WINDOW, 0);\r\n\t\tthis.D.set(MP2.SYNTHESIS_WINDOW, 512);\r\n\t\tthis.V = new Float32Array(1024);\r\n\t\tthis.U = new Int32Array(32);\r\n\t\tthis.VPos = 0;\r\n\r\n\t\tthis.allocation = [new Array(32), new Array(32)];\r\n\t\tthis.scaleFactorInfo = [new Uint8Array(32), new Uint8Array(32)];\r\n\t\tthis.scaleFactor = [new Array(32), new Array(32)];\r\n\t\tthis.sample = [new Array(32), new Array(32)];\r\n\r\n\t\tfor (var j = 0; j < 2; j++) {\r\n\t\t\tfor (var i = 0; i < 32; i++) {\r\n\t\t\t\tthis.scaleFactor[j][i] = [0, 0, 0];\r\n\t\t\t\tthis.sample[j][i] = [0, 0, 0];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdecode = function() {\r\n\t\tvar startTime = Now();\r\n\r\n\t\tvar pos = this.bits.index >> 3;\r\n\t\tif (pos >= this.bits.byteLength) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar decoded = this.decodeFrame(this.left, this.right);\r\n\t\tthis.bits.index = (pos + decoded) << 3;\r\n\t\tif (!decoded) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.destination) {\r\n\t\t\tthis.destination.play(this.sampleRate, this.left, this.right);\r\n\t\t}\r\n\r\n\t\tthis.advanceDecodedTime(this.left.length / this.sampleRate);\r\n\r\n\t\tvar elapsedTime = Now() - startTime;\r\n\t\tif (this.onDecodeCallback) {\r\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tgetCurrentTime = function() {\r\n\t\tvar enqueuedTime = this.destination ? this.destination.enqueuedTime : 0;\r\n\t\treturn this.decodedTime - enqueuedTime;\r\n\t};\r\n\r\n\tdecodeFrame = function(left, right) {\r\n\t\t// Check for valid header: syncword OK, MPEG-Audio Layer 2\r\n\t\tvar sync = this.bits.read(11),\r\n\t\t\tversion = this.bits.read(2),\r\n\t\t\tlayer = this.bits.read(2),\r\n\t\t\thasCRC = !this.bits.read(1);\r\n\r\n\t\tif (\r\n\t\t\tsync !== MP2.FRAME_SYNC ||\r\n\t\t\tversion !== MP2.VERSION.MPEG_1 ||\r\n\t\t\tlayer !== MP2.LAYER.II\r\n\t\t) {\r\n\t\t\treturn 0; // Invalid header or unsupported version\r\n\t\t}\r\n\r\n\t\tvar bitrateIndex = this.bits.read(4) - 1;\r\n\t\tif (bitrateIndex > 13) {\r\n\t\t\treturn 0; // Invalid bit rate or 'free format'\r\n\t\t}\r\n\r\n\t\tvar sampleRateIndex = this.bits.read(2);\r\n\t\tvar sampleRate = MP2.SAMPLE_RATE[sampleRateIndex];\r\n\t\tif (sampleRateIndex === 3) {\r\n\t\t\treturn 0; // Invalid sample rate\r\n\t\t}\r\n\t\tif (version === MP2.VERSION.MPEG_2) {\r\n\t\t\tsampleRateIndex += 4;\r\n\t\t\tbitrateIndex += 14;\r\n\t\t}\r\n\t\tvar padding = this.bits.read(1),\r\n\t\t\tprivat = this.bits.read(1),\r\n\t\t\tmode = this.bits.read(2);\r\n\r\n\t\t// Parse the mode_extension, set up the stereo bound\r\n\t\tvar bound = 0;\r\n\t\tif (mode === MP2.MODE.JOINT_STEREO) {\r\n\t\t\tbound = (this.bits.read(2) + 1) << 2;\r\n\t\t} else {\r\n\t\t\tthis.bits.skip(2);\r\n\t\t\tbound = mode === MP2.MODE.MONO ? 0 : 32;\r\n\t\t}\r\n\r\n\t\t// Discard the last 4 bits of the header and the CRC value, if present\r\n\t\tthis.bits.skip(4);\r\n\t\tif (hasCRC) {\r\n\t\t\tthis.bits.skip(16);\r\n\t\t}\r\n\r\n\t\t// Compute the frame size\r\n\t\tvar bitrate = MP2.BIT_RATE[bitrateIndex],\r\n\t\t\tsampleRate = MP2.SAMPLE_RATE[sampleRateIndex],\r\n\t\t\tframeSize = ((144000 * bitrate) / sampleRate + padding) | 0;\r\n\r\n\t\t// Prepare the quantizer table lookups\r\n\t\tvar tab3 = 0;\r\n\t\tvar sblimit = 0;\r\n\t\tif (version === MP2.VERSION.MPEG_2) {\r\n\t\t\t// MPEG-2 (LSR)\r\n\t\t\ttab3 = 2;\r\n\t\t\tsblimit = 30;\r\n\t\t} else {\r\n\t\t\t// MPEG-1\r\n\t\t\tvar tab1 = mode === MP2.MODE.MONO ? 0 : 1;\r\n\t\t\tvar tab2 = MP2.QUANT_LUT_STEP_1[tab1][bitrateIndex];\r\n\t\t\ttab3 = MP2.QUANT_LUT_STEP_2[tab2][sampleRateIndex];\r\n\t\t\tsblimit = tab3 & 63;\r\n\t\t\ttab3 >>= 6;\r\n\t\t}\r\n\r\n\t\tif (bound > sblimit) {\r\n\t\t\tbound = sblimit;\r\n\t\t}\r\n\r\n\t\t// Read the allocation information\r\n\t\tfor (var sb = 0; sb < bound; sb++) {\r\n\t\t\tthis.allocation[0][sb] = this.readAllocation(sb, tab3);\r\n\t\t\tthis.allocation[1][sb] = this.readAllocation(sb, tab3);\r\n\t\t}\r\n\r\n\t\tfor (var sb = bound; sb < sblimit; sb++) {\r\n\t\t\tthis.allocation[0][sb] = this.allocation[1][sb] = this.readAllocation(sb, tab3);\r\n\t\t}\r\n\r\n\t\t// Read scale factor selector information\r\n\t\tvar channels = mode === MP2.MODE.MONO ? 1 : 2;\r\n\t\tfor (var sb = 0; sb < sblimit; sb++) {\r\n\t\t\tfor (ch = 0; ch < channels; ch++) {\r\n\t\t\t\tif (this.allocation[ch][sb]) {\r\n\t\t\t\t\tthis.scaleFactorInfo[ch][sb] = this.bits.read(2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mode === MP2.MODE.MONO) {\r\n\t\t\t\tthis.scaleFactorInfo[1][sb] = this.scaleFactorInfo[0][sb];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Read scale factors\r\n\t\tfor (var sb = 0; sb < sblimit; sb++) {\r\n\t\t\tfor (var ch = 0; ch < channels; ch++) {\r\n\t\t\t\tif (this.allocation[ch][sb]) {\r\n\t\t\t\t\tvar sf = this.scaleFactor[ch][sb];\r\n\t\t\t\t\tswitch (this.scaleFactorInfo[ch][sb]) {\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\tsf[0] = this.bits.read(6);\r\n\t\t\t\t\t\t\tsf[1] = this.bits.read(6);\r\n\t\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tsf[0] = sf[1] = this.bits.read(6);\r\n\t\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tsf[0] = sf[1] = sf[2] = this.bits.read(6);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t\tsf[0] = this.bits.read(6);\r\n\t\t\t\t\t\t\tsf[1] = sf[2] = this.bits.read(6);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mode === MP2.MODE.MONO) {\r\n\t\t\t\tthis.scaleFactor[1][sb][0] = this.scaleFactor[0][sb][0];\r\n\t\t\t\tthis.scaleFactor[1][sb][1] = this.scaleFactor[0][sb][1];\r\n\t\t\t\tthis.scaleFactor[1][sb][2] = this.scaleFactor[0][sb][2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Coefficient input and reconstruction\r\n\t\tvar outPos = 0;\r\n\t\tfor (var part = 0; part < 3; part++) {\r\n\t\t\tfor (var granule = 0; granule < 4; granule++) {\r\n\t\t\t\t// Read the samples\r\n\t\t\t\tfor (var sb = 0; sb < bound; sb++) {\r\n\t\t\t\t\tthis.readSamples(0, sb, part);\r\n\t\t\t\t\tthis.readSamples(1, sb, part);\r\n\t\t\t\t}\r\n\t\t\t\tfor (var sb = bound; sb < sblimit; sb++) {\r\n\t\t\t\t\tthis.readSamples(0, sb, part);\r\n\t\t\t\t\tthis.sample[1][sb][0] = this.sample[0][sb][0];\r\n\t\t\t\t\tthis.sample[1][sb][1] = this.sample[0][sb][1];\r\n\t\t\t\t\tthis.sample[1][sb][2] = this.sample[0][sb][2];\r\n\t\t\t\t}\r\n\t\t\t\tfor (var sb = sblimit; sb < 32; sb++) {\r\n\t\t\t\t\tthis.sample[0][sb][0] = 0;\r\n\t\t\t\t\tthis.sample[0][sb][1] = 0;\r\n\t\t\t\t\tthis.sample[0][sb][2] = 0;\r\n\t\t\t\t\tthis.sample[1][sb][0] = 0;\r\n\t\t\t\t\tthis.sample[1][sb][1] = 0;\r\n\t\t\t\t\tthis.sample[1][sb][2] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Synthesis loop\r\n\t\t\t\tfor (var p = 0; p < 3; p++) {\r\n\t\t\t\t\t// Shifting step\r\n\t\t\t\t\tthis.VPos = (this.VPos - 64) & 1023;\r\n\r\n\t\t\t\t\tfor (var ch = 0; ch < 2; ch++) {\r\n\t\t\t\t\t\tthis.MatrixTransform(this.sample[ch], p, this.V, this.VPos);\r\n\r\n\t\t\t\t\t\t// Build U, windowing, calculate output\r\n\t\t\t\t\t\tFill(this.U, 0);\r\n\r\n\t\t\t\t\t\tvar dIndex = 512 - (this.VPos >> 1);\r\n\t\t\t\t\t\tvar vIndex = this.VPos % 128 >> 1;\r\n\t\t\t\t\t\twhile (vIndex < 1024) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < 32; ++i) {\r\n\t\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[vIndex++];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvIndex += 128 - 32;\r\n\t\t\t\t\t\t\tdIndex += 64 - 32;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvIndex = 128 - 32 + 1024 - vIndex;\r\n\t\t\t\t\t\tdIndex -= 512 - 32;\r\n\t\t\t\t\t\twhile (vIndex < 1024) {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < 32; ++i) {\r\n\t\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[vIndex++];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvIndex += 128 - 32;\r\n\t\t\t\t\t\t\tdIndex += 64 - 32;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Output samples\r\n\t\t\t\t\t\tvar outChannel = ch === 0 ? left : right;\r\n\t\t\t\t\t\tfor (var j = 0; j < 32; j++) {\r\n\t\t\t\t\t\t\toutChannel[outPos + j] = this.U[j] / 2147418112;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // End of synthesis channel loop\r\n\t\t\t\t\toutPos += 32;\r\n\t\t\t\t} // End of synthesis sub-block loop\r\n\t\t\t} // Decoding of the granule finished\r\n\t\t}\r\n\r\n\t\tthis.sampleRate = sampleRate;\r\n\t\treturn frameSize;\r\n\t};\r\n\r\n\treadAllocation = function(sb, tab3) {\r\n\t\tvar tab4 = MP2.QUANT_LUT_STEP_3[tab3][sb];\r\n\t\tvar qtab = MP2.QUANT_LUT_STEP4[tab4 & 15][this.bits.read(tab4 >> 4)];\r\n\t\treturn qtab ? MP2.QUANT_TAB[qtab - 1] : 0;\r\n\t};\r\n\r\n\treadSamples = function(ch, sb, part) {\r\n\t\tvar q = this.allocation[ch][sb],\r\n\t\t\tsf = this.scaleFactor[ch][sb][part],\r\n\t\t\tsample = this.sample[ch][sb],\r\n\t\t\tval = 0;\r\n\r\n\t\tif (!q) {\r\n\t\t\t// No bits allocated for this subband\r\n\t\t\tsample[0] = sample[1] = sample[2] = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Resolve scalefactor\r\n\t\tif (sf === 63) {\r\n\t\t\tsf = 0;\r\n\t\t} else {\r\n\t\t\tvar shift = (sf / 3) | 0;\r\n\t\t\tsf = (MP2.SCALEFACTOR_BASE[sf % 3] + ((1 << shift) >> 1)) >> shift;\r\n\t\t}\r\n\r\n\t\t// Decode samples\r\n\t\tvar adj = q.levels;\r\n\t\tif (q.group) {\r\n\t\t\t// Decode grouped samples\r\n\t\t\tval = this.bits.read(q.bits);\r\n\t\t\tsample[0] = val % adj;\r\n\t\t\tval = (val / adj) | 0;\r\n\t\t\tsample[1] = val % adj;\r\n\t\t\tsample[2] = (val / adj) | 0;\r\n\t\t} else {\r\n\t\t\t// Decode direct samples\r\n\t\t\tsample[0] = this.bits.read(q.bits);\r\n\t\t\tsample[1] = this.bits.read(q.bits);\r\n\t\t\tsample[2] = this.bits.read(q.bits);\r\n\t\t}\r\n\r\n\t\t// Postmultiply samples\r\n\t\tvar scale = (65536 / (adj + 1)) | 0;\r\n\t\tadj = ((adj + 1) >> 1) - 1;\r\n\r\n\t\tval = (adj - sample[0]) * scale;\r\n\t\tsample[0] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n\r\n\t\tval = (adj - sample[1]) * scale;\r\n\t\tsample[1] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n\r\n\t\tval = (adj - sample[2]) * scale;\r\n\t\tsample[2] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n\t};\r\n\r\n\tMatrixTransform = function(s, ss, d, dp) {\r\n\t\tvar t01,\r\n\t\t\tt02,\r\n\t\t\tt03,\r\n\t\t\tt04,\r\n\t\t\tt05,\r\n\t\t\tt06,\r\n\t\t\tt07,\r\n\t\t\tt08,\r\n\t\t\tt09,\r\n\t\t\tt10,\r\n\t\t\tt11,\r\n\t\t\tt12,\r\n\t\t\tt13,\r\n\t\t\tt14,\r\n\t\t\tt15,\r\n\t\t\tt16,\r\n\t\t\tt17,\r\n\t\t\tt18,\r\n\t\t\tt19,\r\n\t\t\tt20,\r\n\t\t\tt21,\r\n\t\t\tt22,\r\n\t\t\tt23,\r\n\t\t\tt24,\r\n\t\t\tt25,\r\n\t\t\tt26,\r\n\t\t\tt27,\r\n\t\t\tt28,\r\n\t\t\tt29,\r\n\t\t\tt30,\r\n\t\t\tt31,\r\n\t\t\tt32,\r\n\t\t\tt33;\r\n\r\n\t\tt01 = s[0][ss] + s[31][ss];\r\n\t\tt02 = (s[0][ss] - s[31][ss]) * 0.500602998235;\r\n\t\tt03 = s[1][ss] + s[30][ss];\r\n\t\tt04 = (s[1][ss] - s[30][ss]) * 0.505470959898;\r\n\t\tt05 = s[2][ss] + s[29][ss];\r\n\t\tt06 = (s[2][ss] - s[29][ss]) * 0.515447309923;\r\n\t\tt07 = s[3][ss] + s[28][ss];\r\n\t\tt08 = (s[3][ss] - s[28][ss]) * 0.53104259109;\r\n\t\tt09 = s[4][ss] + s[27][ss];\r\n\t\tt10 = (s[4][ss] - s[27][ss]) * 0.553103896034;\r\n\t\tt11 = s[5][ss] + s[26][ss];\r\n\t\tt12 = (s[5][ss] - s[26][ss]) * 0.582934968206;\r\n\t\tt13 = s[6][ss] + s[25][ss];\r\n\t\tt14 = (s[6][ss] - s[25][ss]) * 0.622504123036;\r\n\t\tt15 = s[7][ss] + s[24][ss];\r\n\t\tt16 = (s[7][ss] - s[24][ss]) * 0.674808341455;\r\n\t\tt17 = s[8][ss] + s[23][ss];\r\n\t\tt18 = (s[8][ss] - s[23][ss]) * 0.744536271002;\r\n\t\tt19 = s[9][ss] + s[22][ss];\r\n\t\tt20 = (s[9][ss] - s[22][ss]) * 0.839349645416;\r\n\t\tt21 = s[10][ss] + s[21][ss];\r\n\t\tt22 = (s[10][ss] - s[21][ss]) * 0.972568237862;\r\n\t\tt23 = s[11][ss] + s[20][ss];\r\n\t\tt24 = (s[11][ss] - s[20][ss]) * 1.16943993343;\r\n\t\tt25 = s[12][ss] + s[19][ss];\r\n\t\tt26 = (s[12][ss] - s[19][ss]) * 1.48416461631;\r\n\t\tt27 = s[13][ss] + s[18][ss];\r\n\t\tt28 = (s[13][ss] - s[18][ss]) * 2.05778100995;\r\n\t\tt29 = s[14][ss] + s[17][ss];\r\n\t\tt30 = (s[14][ss] - s[17][ss]) * 3.40760841847;\r\n\t\tt31 = s[15][ss] + s[16][ss];\r\n\t\tt32 = (s[15][ss] - s[16][ss]) * 10.1900081235;\r\n\r\n\t\tt33 = t01 + t31;\r\n\t\tt31 = (t01 - t31) * 0.502419286188;\r\n\t\tt01 = t03 + t29;\r\n\t\tt29 = (t03 - t29) * 0.52249861494;\r\n\t\tt03 = t05 + t27;\r\n\t\tt27 = (t05 - t27) * 0.566944034816;\r\n\t\tt05 = t07 + t25;\r\n\t\tt25 = (t07 - t25) * 0.64682178336;\r\n\t\tt07 = t09 + t23;\r\n\t\tt23 = (t09 - t23) * 0.788154623451;\r\n\t\tt09 = t11 + t21;\r\n\t\tt21 = (t11 - t21) * 1.06067768599;\r\n\t\tt11 = t13 + t19;\r\n\t\tt19 = (t13 - t19) * 1.72244709824;\r\n\t\tt13 = t15 + t17;\r\n\t\tt17 = (t15 - t17) * 5.10114861869;\r\n\t\tt15 = t33 + t13;\r\n\t\tt13 = (t33 - t13) * 0.509795579104;\r\n\t\tt33 = t01 + t11;\r\n\t\tt01 = (t01 - t11) * 0.601344886935;\r\n\t\tt11 = t03 + t09;\r\n\t\tt09 = (t03 - t09) * 0.899976223136;\r\n\t\tt03 = t05 + t07;\r\n\t\tt07 = (t05 - t07) * 2.56291544774;\r\n\t\tt05 = t15 + t03;\r\n\t\tt15 = (t15 - t03) * 0.541196100146;\r\n\t\tt03 = t33 + t11;\r\n\t\tt11 = (t33 - t11) * 1.30656296488;\r\n\t\tt33 = t05 + t03;\r\n\t\tt05 = (t05 - t03) * 0.707106781187;\r\n\t\tt03 = t15 + t11;\r\n\t\tt15 = (t15 - t11) * 0.707106781187;\r\n\t\tt03 += t15;\r\n\t\tt11 = t13 + t07;\r\n\t\tt13 = (t13 - t07) * 0.541196100146;\r\n\t\tt07 = t01 + t09;\r\n\t\tt09 = (t01 - t09) * 1.30656296488;\r\n\t\tt01 = t11 + t07;\r\n\t\tt07 = (t11 - t07) * 0.707106781187;\r\n\t\tt11 = t13 + t09;\r\n\t\tt13 = (t13 - t09) * 0.707106781187;\r\n\t\tt11 += t13;\r\n\t\tt01 += t11;\r\n\t\tt11 += t07;\r\n\t\tt07 += t13;\r\n\t\tt09 = t31 + t17;\r\n\t\tt31 = (t31 - t17) * 0.509795579104;\r\n\t\tt17 = t29 + t19;\r\n\t\tt29 = (t29 - t19) * 0.601344886935;\r\n\t\tt19 = t27 + t21;\r\n\t\tt21 = (t27 - t21) * 0.899976223136;\r\n\t\tt27 = t25 + t23;\r\n\t\tt23 = (t25 - t23) * 2.56291544774;\r\n\t\tt25 = t09 + t27;\r\n\t\tt09 = (t09 - t27) * 0.541196100146;\r\n\t\tt27 = t17 + t19;\r\n\t\tt19 = (t17 - t19) * 1.30656296488;\r\n\t\tt17 = t25 + t27;\r\n\t\tt27 = (t25 - t27) * 0.707106781187;\r\n\t\tt25 = t09 + t19;\r\n\t\tt19 = (t09 - t19) * 0.707106781187;\r\n\t\tt25 += t19;\r\n\t\tt09 = t31 + t23;\r\n\t\tt31 = (t31 - t23) * 0.541196100146;\r\n\t\tt23 = t29 + t21;\r\n\t\tt21 = (t29 - t21) * 1.30656296488;\r\n\t\tt29 = t09 + t23;\r\n\t\tt23 = (t09 - t23) * 0.707106781187;\r\n\t\tt09 = t31 + t21;\r\n\t\tt31 = (t31 - t21) * 0.707106781187;\r\n\t\tt09 += t31;\r\n\t\tt29 += t09;\r\n\t\tt09 += t23;\r\n\t\tt23 += t31;\r\n\t\tt17 += t29;\r\n\t\tt29 += t25;\r\n\t\tt25 += t09;\r\n\t\tt09 += t27;\r\n\t\tt27 += t23;\r\n\t\tt23 += t19;\r\n\t\tt19 += t31;\r\n\t\tt21 = t02 + t32;\r\n\t\tt02 = (t02 - t32) * 0.502419286188;\r\n\t\tt32 = t04 + t30;\r\n\t\tt04 = (t04 - t30) * 0.52249861494;\r\n\t\tt30 = t06 + t28;\r\n\t\tt28 = (t06 - t28) * 0.566944034816;\r\n\t\tt06 = t08 + t26;\r\n\t\tt08 = (t08 - t26) * 0.64682178336;\r\n\t\tt26 = t10 + t24;\r\n\t\tt10 = (t10 - t24) * 0.788154623451;\r\n\t\tt24 = t12 + t22;\r\n\t\tt22 = (t12 - t22) * 1.06067768599;\r\n\t\tt12 = t14 + t20;\r\n\t\tt20 = (t14 - t20) * 1.72244709824;\r\n\t\tt14 = t16 + t18;\r\n\t\tt16 = (t16 - t18) * 5.10114861869;\r\n\t\tt18 = t21 + t14;\r\n\t\tt14 = (t21 - t14) * 0.509795579104;\r\n\t\tt21 = t32 + t12;\r\n\t\tt32 = (t32 - t12) * 0.601344886935;\r\n\t\tt12 = t30 + t24;\r\n\t\tt24 = (t30 - t24) * 0.899976223136;\r\n\t\tt30 = t06 + t26;\r\n\t\tt26 = (t06 - t26) * 2.56291544774;\r\n\t\tt06 = t18 + t30;\r\n\t\tt18 = (t18 - t30) * 0.541196100146;\r\n\t\tt30 = t21 + t12;\r\n\t\tt12 = (t21 - t12) * 1.30656296488;\r\n\t\tt21 = t06 + t30;\r\n\t\tt30 = (t06 - t30) * 0.707106781187;\r\n\t\tt06 = t18 + t12;\r\n\t\tt12 = (t18 - t12) * 0.707106781187;\r\n\t\tt06 += t12;\r\n\t\tt18 = t14 + t26;\r\n\t\tt26 = (t14 - t26) * 0.541196100146;\r\n\t\tt14 = t32 + t24;\r\n\t\tt24 = (t32 - t24) * 1.30656296488;\r\n\t\tt32 = t18 + t14;\r\n\t\tt14 = (t18 - t14) * 0.707106781187;\r\n\t\tt18 = t26 + t24;\r\n\t\tt24 = (t26 - t24) * 0.707106781187;\r\n\t\tt18 += t24;\r\n\t\tt32 += t18;\r\n\t\tt18 += t14;\r\n\t\tt26 = t14 + t24;\r\n\t\tt14 = t02 + t16;\r\n\t\tt02 = (t02 - t16) * 0.509795579104;\r\n\t\tt16 = t04 + t20;\r\n\t\tt04 = (t04 - t20) * 0.601344886935;\r\n\t\tt20 = t28 + t22;\r\n\t\tt22 = (t28 - t22) * 0.899976223136;\r\n\t\tt28 = t08 + t10;\r\n\t\tt10 = (t08 - t10) * 2.56291544774;\r\n\t\tt08 = t14 + t28;\r\n\t\tt14 = (t14 - t28) * 0.541196100146;\r\n\t\tt28 = t16 + t20;\r\n\t\tt20 = (t16 - t20) * 1.30656296488;\r\n\t\tt16 = t08 + t28;\r\n\t\tt28 = (t08 - t28) * 0.707106781187;\r\n\t\tt08 = t14 + t20;\r\n\t\tt20 = (t14 - t20) * 0.707106781187;\r\n\t\tt08 += t20;\r\n\t\tt14 = t02 + t10;\r\n\t\tt02 = (t02 - t10) * 0.541196100146;\r\n\t\tt10 = t04 + t22;\r\n\t\tt22 = (t04 - t22) * 1.30656296488;\r\n\t\tt04 = t14 + t10;\r\n\t\tt10 = (t14 - t10) * 0.707106781187;\r\n\t\tt14 = t02 + t22;\r\n\t\tt02 = (t02 - t22) * 0.707106781187;\r\n\t\tt14 += t02;\r\n\t\tt04 += t14;\r\n\t\tt14 += t10;\r\n\t\tt10 += t02;\r\n\t\tt16 += t04;\r\n\t\tt04 += t08;\r\n\t\tt08 += t14;\r\n\t\tt14 += t28;\r\n\t\tt28 += t10;\r\n\t\tt10 += t20;\r\n\t\tt20 += t02;\r\n\t\tt21 += t16;\r\n\t\tt16 += t32;\r\n\t\tt32 += t04;\r\n\t\tt04 += t06;\r\n\t\tt06 += t08;\r\n\t\tt08 += t18;\r\n\t\tt18 += t14;\r\n\t\tt14 += t30;\r\n\t\tt30 += t28;\r\n\t\tt28 += t26;\r\n\t\tt26 += t10;\r\n\t\tt10 += t12;\r\n\t\tt12 += t20;\r\n\t\tt20 += t24;\r\n\t\tt24 += t02;\r\n\r\n\t\td[dp + 48] = -t33;\r\n\t\td[dp + 49] = d[dp + 47] = -t21;\r\n\t\td[dp + 50] = d[dp + 46] = -t17;\r\n\t\td[dp + 51] = d[dp + 45] = -t16;\r\n\t\td[dp + 52] = d[dp + 44] = -t01;\r\n\t\td[dp + 53] = d[dp + 43] = -t32;\r\n\t\td[dp + 54] = d[dp + 42] = -t29;\r\n\t\td[dp + 55] = d[dp + 41] = -t04;\r\n\t\td[dp + 56] = d[dp + 40] = -t03;\r\n\t\td[dp + 57] = d[dp + 39] = -t06;\r\n\t\td[dp + 58] = d[dp + 38] = -t25;\r\n\t\td[dp + 59] = d[dp + 37] = -t08;\r\n\t\td[dp + 60] = d[dp + 36] = -t11;\r\n\t\td[dp + 61] = d[dp + 35] = -t18;\r\n\t\td[dp + 62] = d[dp + 34] = -t09;\r\n\t\td[dp + 63] = d[dp + 33] = -t14;\r\n\t\td[dp + 32] = -t05;\r\n\t\td[dp + 0] = t05;\r\n\t\td[dp + 31] = -t30;\r\n\t\td[dp + 1] = t30;\r\n\t\td[dp + 30] = -t27;\r\n\t\td[dp + 2] = t27;\r\n\t\td[dp + 29] = -t28;\r\n\t\td[dp + 3] = t28;\r\n\t\td[dp + 28] = -t07;\r\n\t\td[dp + 4] = t07;\r\n\t\td[dp + 27] = -t26;\r\n\t\td[dp + 5] = t26;\r\n\t\td[dp + 26] = -t23;\r\n\t\td[dp + 6] = t23;\r\n\t\td[dp + 25] = -t10;\r\n\t\td[dp + 7] = t10;\r\n\t\td[dp + 24] = -t15;\r\n\t\td[dp + 8] = t15;\r\n\t\td[dp + 23] = -t12;\r\n\t\td[dp + 9] = t12;\r\n\t\td[dp + 22] = -t19;\r\n\t\td[dp + 10] = t19;\r\n\t\td[dp + 21] = -t20;\r\n\t\td[dp + 11] = t20;\r\n\t\td[dp + 20] = -t13;\r\n\t\td[dp + 12] = t13;\r\n\t\td[dp + 19] = -t24;\r\n\t\td[dp + 13] = t24;\r\n\t\td[dp + 18] = -t31;\r\n\t\td[dp + 14] = t31;\r\n\t\td[dp + 17] = -t02;\r\n\t\td[dp + 15] = t02;\r\n\t\td[dp + 16] = 0.0;\r\n\t};\r\n\r\n\tstatic FRAME_SYNC = 0x7ff;\r\n\r\n\tstatic VERSION = {\r\n\t\tMPEG_2_5: 0x0,\r\n\t\tMPEG_2: 0x2,\r\n\t\tMPEG_1: 0x3,\r\n\t};\r\n\r\n\tstatic LAYER = {\r\n\t\tIII: 0x1,\r\n\t\tII: 0x2,\r\n\t\tI: 0x3,\r\n\t};\r\n\r\n\tstatic MODE = {\r\n\t\tSTEREO: 0x0,\r\n\t\tJOINT_STEREO: 0x1,\r\n\t\tDUAL_CHANNEL: 0x2,\r\n\t\tMONO: 0x3,\r\n\t};\r\n\r\n\tstatic SAMPLE_RATE = new Uint16Array([\r\n\t\t44100,\r\n\t\t48000,\r\n\t\t32000,\r\n\t\t0, // MPEG-1\r\n\t\t22050,\r\n\t\t24000,\r\n\t\t16000,\r\n\t\t0, // MPEG-2\r\n\t]);\r\n\r\n\tstatic BIT_RATE = new Uint16Array([\r\n\t\t32,\r\n\t\t48,\r\n\t\t56,\r\n\t\t64,\r\n\t\t80,\r\n\t\t96,\r\n\t\t112,\r\n\t\t128,\r\n\t\t160,\r\n\t\t192,\r\n\t\t224,\r\n\t\t256,\r\n\t\t320,\r\n\t\t384, // MPEG-1\r\n\t\t8,\r\n\t\t16,\r\n\t\t24,\r\n\t\t32,\r\n\t\t40,\r\n\t\t48,\r\n\t\t56,\r\n\t\t64,\r\n\t\t80,\r\n\t\t96,\r\n\t\t112,\r\n\t\t128,\r\n\t\t144,\r\n\t\t160, // MPEG-2\r\n\t]);\r\n\r\n\tstatic SCALEFACTOR_BASE = new Uint32Array([0x02000000, 0x01965fea, 0x01428a30]);\r\n\r\n\tstatic SYNTHESIS_WINDOW = new Float32Array([\r\n\t\t0.0,\r\n\t\t-0.5,\r\n\t\t-0.5,\r\n\t\t-0.5,\r\n\t\t-0.5,\r\n\t\t-0.5,\r\n\t\t-0.5,\r\n\t\t-1.0,\r\n\t\t-1.0,\r\n\t\t-1.0,\r\n\t\t-1.0,\r\n\t\t-1.5,\r\n\t\t-1.5,\r\n\t\t-2.0,\r\n\t\t-2.0,\r\n\t\t-2.5,\r\n\t\t-2.5,\r\n\t\t-3.0,\r\n\t\t-3.5,\r\n\t\t-3.5,\r\n\t\t-4.0,\r\n\t\t-4.5,\r\n\t\t-5.0,\r\n\t\t-5.5,\r\n\t\t-6.5,\r\n\t\t-7.0,\r\n\t\t-8.0,\r\n\t\t-8.5,\r\n\t\t-9.5,\r\n\t\t-10.5,\r\n\t\t-12.0,\r\n\t\t-13.0,\r\n\t\t-14.5,\r\n\t\t-15.5,\r\n\t\t-17.5,\r\n\t\t-19.0,\r\n\t\t-20.5,\r\n\t\t-22.5,\r\n\t\t-24.5,\r\n\t\t-26.5,\r\n\t\t-29.0,\r\n\t\t-31.5,\r\n\t\t-34.0,\r\n\t\t-36.5,\r\n\t\t-39.5,\r\n\t\t-42.5,\r\n\t\t-45.5,\r\n\t\t-48.5,\r\n\t\t-52.0,\r\n\t\t-55.5,\r\n\t\t-58.5,\r\n\t\t-62.5,\r\n\t\t-66.0,\r\n\t\t-69.5,\r\n\t\t-73.5,\r\n\t\t-77.0,\r\n\t\t-80.5,\r\n\t\t-84.5,\r\n\t\t-88.0,\r\n\t\t-91.5,\r\n\t\t-95.0,\r\n\t\t-98.0,\r\n\t\t-101.0,\r\n\t\t-104.0,\r\n\t\t106.5,\r\n\t\t109.0,\r\n\t\t111.0,\r\n\t\t112.5,\r\n\t\t113.5,\r\n\t\t114.0,\r\n\t\t114.0,\r\n\t\t113.5,\r\n\t\t112.0,\r\n\t\t110.5,\r\n\t\t107.5,\r\n\t\t104.0,\r\n\t\t100.0,\r\n\t\t94.5,\r\n\t\t88.5,\r\n\t\t81.5,\r\n\t\t73.0,\r\n\t\t63.5,\r\n\t\t53.0,\r\n\t\t41.5,\r\n\t\t28.5,\r\n\t\t14.5,\r\n\t\t-1.0,\r\n\t\t-18.0,\r\n\t\t-36.0,\r\n\t\t-55.5,\r\n\t\t-76.5,\r\n\t\t-98.5,\r\n\t\t-122.0,\r\n\t\t-147.0,\r\n\t\t-173.5,\r\n\t\t-200.5,\r\n\t\t-229.5,\r\n\t\t-259.5,\r\n\t\t-290.5,\r\n\t\t-322.5,\r\n\t\t-355.5,\r\n\t\t-389.5,\r\n\t\t-424.0,\r\n\t\t-459.5,\r\n\t\t-495.5,\r\n\t\t-532.0,\r\n\t\t-568.5,\r\n\t\t-605.0,\r\n\t\t-641.5,\r\n\t\t-678.0,\r\n\t\t-714.0,\r\n\t\t-749.0,\r\n\t\t-783.5,\r\n\t\t-817.0,\r\n\t\t-849.0,\r\n\t\t-879.5,\r\n\t\t-908.5,\r\n\t\t-935.0,\r\n\t\t-959.5,\r\n\t\t-981.0,\r\n\t\t-1000.5,\r\n\t\t-1016.0,\r\n\t\t-1028.5,\r\n\t\t-1037.5,\r\n\t\t-1042.5,\r\n\t\t-1043.5,\r\n\t\t-1040.0,\r\n\t\t-1031.5,\r\n\t\t1018.5,\r\n\t\t1000.0,\r\n\t\t976.0,\r\n\t\t946.5,\r\n\t\t911.0,\r\n\t\t869.5,\r\n\t\t822.0,\r\n\t\t767.5,\r\n\t\t707.0,\r\n\t\t640.0,\r\n\t\t565.5,\r\n\t\t485.0,\r\n\t\t397.0,\r\n\t\t302.5,\r\n\t\t201.0,\r\n\t\t92.5,\r\n\t\t-22.5,\r\n\t\t-144.0,\r\n\t\t-272.5,\r\n\t\t-407.0,\r\n\t\t-547.5,\r\n\t\t-694.0,\r\n\t\t-846.0,\r\n\t\t-1003.0,\r\n\t\t-1165.0,\r\n\t\t-1331.5,\r\n\t\t-1502.0,\r\n\t\t-1675.5,\r\n\t\t-1852.5,\r\n\t\t-2031.5,\r\n\t\t-2212.5,\r\n\t\t-2394.0,\r\n\t\t-2576.5,\r\n\t\t-2758.5,\r\n\t\t-2939.5,\r\n\t\t-3118.5,\r\n\t\t-3294.5,\r\n\t\t-3467.5,\r\n\t\t-3635.5,\r\n\t\t-3798.5,\r\n\t\t-3955.0,\r\n\t\t-4104.5,\r\n\t\t-4245.5,\r\n\t\t-4377.5,\r\n\t\t-4499.0,\r\n\t\t-4609.5,\r\n\t\t-4708.0,\r\n\t\t-4792.5,\r\n\t\t-4863.5,\r\n\t\t-4919.0,\r\n\t\t-4958.0,\r\n\t\t-4979.5,\r\n\t\t-4983.0,\r\n\t\t-4967.5,\r\n\t\t-4931.5,\r\n\t\t-4875.0,\r\n\t\t-4796.0,\r\n\t\t-4694.5,\r\n\t\t-4569.5,\r\n\t\t-4420.0,\r\n\t\t-4246.0,\r\n\t\t-4046.0,\r\n\t\t-3820.0,\r\n\t\t-3567.0,\r\n\t\t3287.0,\r\n\t\t2979.5,\r\n\t\t2644.0,\r\n\t\t2280.5,\r\n\t\t1888.0,\r\n\t\t1467.5,\r\n\t\t1018.5,\r\n\t\t541.0,\r\n\t\t35.0,\r\n\t\t-499.0,\r\n\t\t-1061.0,\r\n\t\t-1650.0,\r\n\t\t-2266.5,\r\n\t\t-2909.0,\r\n\t\t-3577.0,\r\n\t\t-4270.0,\r\n\t\t-4987.5,\r\n\t\t-5727.5,\r\n\t\t-6490.0,\r\n\t\t-7274.0,\r\n\t\t-8077.5,\r\n\t\t-8899.5,\r\n\t\t-9739.0,\r\n\t\t-10594.5,\r\n\t\t-11464.5,\r\n\t\t-12347.0,\r\n\t\t-13241.0,\r\n\t\t-14144.5,\r\n\t\t-15056.0,\r\n\t\t-15973.5,\r\n\t\t-16895.5,\r\n\t\t-17820.0,\r\n\t\t-18744.5,\r\n\t\t-19668.0,\r\n\t\t-20588.0,\r\n\t\t-21503.0,\r\n\t\t-22410.5,\r\n\t\t-23308.5,\r\n\t\t-24195.0,\r\n\t\t-25068.5,\r\n\t\t-25926.5,\r\n\t\t-26767.0,\r\n\t\t-27589.0,\r\n\t\t-28389.0,\r\n\t\t-29166.5,\r\n\t\t-29919.0,\r\n\t\t-30644.5,\r\n\t\t-31342.0,\r\n\t\t-32009.5,\r\n\t\t-32645.0,\r\n\t\t-33247.0,\r\n\t\t-33814.5,\r\n\t\t-34346.0,\r\n\t\t-34839.5,\r\n\t\t-35295.0,\r\n\t\t-35710.0,\r\n\t\t-36084.5,\r\n\t\t-36417.5,\r\n\t\t-36707.5,\r\n\t\t-36954.0,\r\n\t\t-37156.5,\r\n\t\t-37315.0,\r\n\t\t-37428.0,\r\n\t\t-37496.0,\r\n\t\t37519.0,\r\n\t\t37496.0,\r\n\t\t37428.0,\r\n\t\t37315.0,\r\n\t\t37156.5,\r\n\t\t36954.0,\r\n\t\t36707.5,\r\n\t\t36417.5,\r\n\t\t36084.5,\r\n\t\t35710.0,\r\n\t\t35295.0,\r\n\t\t34839.5,\r\n\t\t34346.0,\r\n\t\t33814.5,\r\n\t\t33247.0,\r\n\t\t32645.0,\r\n\t\t32009.5,\r\n\t\t31342.0,\r\n\t\t30644.5,\r\n\t\t29919.0,\r\n\t\t29166.5,\r\n\t\t28389.0,\r\n\t\t27589.0,\r\n\t\t26767.0,\r\n\t\t25926.5,\r\n\t\t25068.5,\r\n\t\t24195.0,\r\n\t\t23308.5,\r\n\t\t22410.5,\r\n\t\t21503.0,\r\n\t\t20588.0,\r\n\t\t19668.0,\r\n\t\t18744.5,\r\n\t\t17820.0,\r\n\t\t16895.5,\r\n\t\t15973.5,\r\n\t\t15056.0,\r\n\t\t14144.5,\r\n\t\t13241.0,\r\n\t\t12347.0,\r\n\t\t11464.5,\r\n\t\t10594.5,\r\n\t\t9739.0,\r\n\t\t8899.5,\r\n\t\t8077.5,\r\n\t\t7274.0,\r\n\t\t6490.0,\r\n\t\t5727.5,\r\n\t\t4987.5,\r\n\t\t4270.0,\r\n\t\t3577.0,\r\n\t\t2909.0,\r\n\t\t2266.5,\r\n\t\t1650.0,\r\n\t\t1061.0,\r\n\t\t499.0,\r\n\t\t-35.0,\r\n\t\t-541.0,\r\n\t\t-1018.5,\r\n\t\t-1467.5,\r\n\t\t-1888.0,\r\n\t\t-2280.5,\r\n\t\t-2644.0,\r\n\t\t-2979.5,\r\n\t\t3287.0,\r\n\t\t3567.0,\r\n\t\t3820.0,\r\n\t\t4046.0,\r\n\t\t4246.0,\r\n\t\t4420.0,\r\n\t\t4569.5,\r\n\t\t4694.5,\r\n\t\t4796.0,\r\n\t\t4875.0,\r\n\t\t4931.5,\r\n\t\t4967.5,\r\n\t\t4983.0,\r\n\t\t4979.5,\r\n\t\t4958.0,\r\n\t\t4919.0,\r\n\t\t4863.5,\r\n\t\t4792.5,\r\n\t\t4708.0,\r\n\t\t4609.5,\r\n\t\t4499.0,\r\n\t\t4377.5,\r\n\t\t4245.5,\r\n\t\t4104.5,\r\n\t\t3955.0,\r\n\t\t3798.5,\r\n\t\t3635.5,\r\n\t\t3467.5,\r\n\t\t3294.5,\r\n\t\t3118.5,\r\n\t\t2939.5,\r\n\t\t2758.5,\r\n\t\t2576.5,\r\n\t\t2394.0,\r\n\t\t2212.5,\r\n\t\t2031.5,\r\n\t\t1852.5,\r\n\t\t1675.5,\r\n\t\t1502.0,\r\n\t\t1331.5,\r\n\t\t1165.0,\r\n\t\t1003.0,\r\n\t\t846.0,\r\n\t\t694.0,\r\n\t\t547.5,\r\n\t\t407.0,\r\n\t\t272.5,\r\n\t\t144.0,\r\n\t\t22.5,\r\n\t\t-92.5,\r\n\t\t-201.0,\r\n\t\t-302.5,\r\n\t\t-397.0,\r\n\t\t-485.0,\r\n\t\t-565.5,\r\n\t\t-640.0,\r\n\t\t-707.0,\r\n\t\t-767.5,\r\n\t\t-822.0,\r\n\t\t-869.5,\r\n\t\t-911.0,\r\n\t\t-946.5,\r\n\t\t-976.0,\r\n\t\t-1000.0,\r\n\t\t1018.5,\r\n\t\t1031.5,\r\n\t\t1040.0,\r\n\t\t1043.5,\r\n\t\t1042.5,\r\n\t\t1037.5,\r\n\t\t1028.5,\r\n\t\t1016.0,\r\n\t\t1000.5,\r\n\t\t981.0,\r\n\t\t959.5,\r\n\t\t935.0,\r\n\t\t908.5,\r\n\t\t879.5,\r\n\t\t849.0,\r\n\t\t817.0,\r\n\t\t783.5,\r\n\t\t749.0,\r\n\t\t714.0,\r\n\t\t678.0,\r\n\t\t641.5,\r\n\t\t605.0,\r\n\t\t568.5,\r\n\t\t532.0,\r\n\t\t495.5,\r\n\t\t459.5,\r\n\t\t424.0,\r\n\t\t389.5,\r\n\t\t355.5,\r\n\t\t322.5,\r\n\t\t290.5,\r\n\t\t259.5,\r\n\t\t229.5,\r\n\t\t200.5,\r\n\t\t173.5,\r\n\t\t147.0,\r\n\t\t122.0,\r\n\t\t98.5,\r\n\t\t76.5,\r\n\t\t55.5,\r\n\t\t36.0,\r\n\t\t18.0,\r\n\t\t1.0,\r\n\t\t-14.5,\r\n\t\t-28.5,\r\n\t\t-41.5,\r\n\t\t-53.0,\r\n\t\t-63.5,\r\n\t\t-73.0,\r\n\t\t-81.5,\r\n\t\t-88.5,\r\n\t\t-94.5,\r\n\t\t-100.0,\r\n\t\t-104.0,\r\n\t\t-107.5,\r\n\t\t-110.5,\r\n\t\t-112.0,\r\n\t\t-113.5,\r\n\t\t-114.0,\r\n\t\t-114.0,\r\n\t\t-113.5,\r\n\t\t-112.5,\r\n\t\t-111.0,\r\n\t\t-109.0,\r\n\t\t106.5,\r\n\t\t104.0,\r\n\t\t101.0,\r\n\t\t98.0,\r\n\t\t95.0,\r\n\t\t91.5,\r\n\t\t88.0,\r\n\t\t84.5,\r\n\t\t80.5,\r\n\t\t77.0,\r\n\t\t73.5,\r\n\t\t69.5,\r\n\t\t66.0,\r\n\t\t62.5,\r\n\t\t58.5,\r\n\t\t55.5,\r\n\t\t52.0,\r\n\t\t48.5,\r\n\t\t45.5,\r\n\t\t42.5,\r\n\t\t39.5,\r\n\t\t36.5,\r\n\t\t34.0,\r\n\t\t31.5,\r\n\t\t29.0,\r\n\t\t26.5,\r\n\t\t24.5,\r\n\t\t22.5,\r\n\t\t20.5,\r\n\t\t19.0,\r\n\t\t17.5,\r\n\t\t15.5,\r\n\t\t14.5,\r\n\t\t13.0,\r\n\t\t12.0,\r\n\t\t10.5,\r\n\t\t9.5,\r\n\t\t8.5,\r\n\t\t8.0,\r\n\t\t7.0,\r\n\t\t6.5,\r\n\t\t5.5,\r\n\t\t5.0,\r\n\t\t4.5,\r\n\t\t4.0,\r\n\t\t3.5,\r\n\t\t3.5,\r\n\t\t3.0,\r\n\t\t2.5,\r\n\t\t2.5,\r\n\t\t2.0,\r\n\t\t2.0,\r\n\t\t1.5,\r\n\t\t1.5,\r\n\t\t1.0,\r\n\t\t1.0,\r\n\t\t1.0,\r\n\t\t1.0,\r\n\t\t0.5,\r\n\t\t0.5,\r\n\t\t0.5,\r\n\t\t0.5,\r\n\t\t0.5,\r\n\t\t0.5,\r\n\t]);\r\n\r\n\t// Quantizer lookup, step 1: bitrate classes\r\n\tstatic QUANT_LUT_STEP_1 = [\r\n\t\t// 32, 48, 56, 64, 80, 96,112,128,160,192,224,256,320,384 <- bitrate\r\n\t\t[0, 0, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2], // mono\r\n\t\t// 16, 24, 28, 32, 40, 48, 56, 64, 80, 96,112,128,160,192 <- bitrate / chan\r\n\t\t[0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2, 2], // stereo\r\n\t];\r\n\r\n\t// Quantizer lookup, step 2: bitrate class, sample rate -> B2 table idx, sblimit\r\n\tstatic QUANT_TAB = {\r\n\t\tA: 27 | 64, // Table 3-B.2a: high-rate, sblimit = 27\r\n\t\tB: 30 | 64, // Table 3-B.2b: high-rate, sblimit = 30\r\n\t\tC: 8, // Table 3-B.2c:  low-rate, sblimit =  8\r\n\t\tD: 12, // Table 3-B.2d:  low-rate, sblimit = 12\r\n\t};\r\n\r\n\tstatic QUANT_LUT_STEP_2 = [\r\n\t\t//   44.1 kHz,        48 kHz,          32 kHz\r\n\t\t[MP2.QUANT_TAB.C, MP2.QUANT_TAB.C, MP2.QUANT_TAB.D], // 32 - 48 kbit/sec/ch\r\n\t\t[MP2.QUANT_TAB.A, MP2.QUANT_TAB.A, MP2.QUANT_TAB.A], // 56 - 80 kbit/sec/ch\r\n\t\t[MP2.QUANT_TAB.B, MP2.QUANT_TAB.A, MP2.QUANT_TAB.B], // 96+\t kbit/sec/ch\r\n\t];\r\n\r\n\t// Quantizer lookup, step 3: B2 table, subband -> nbal, row index\r\n\t// (upper 4 bits: nbal, lower 4 bits: row index)\r\n\tstatic QUANT_LUT_STEP_3 = [\r\n\t\t// Low-rate table (3-B.2c and 3-B.2d)\r\n\t\t[0x44, 0x44, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34, 0x34],\r\n\t\t// High-rate table (3-B.2a and 3-B.2b)\r\n\t\t[\r\n\t\t\t0x43,\r\n\t\t\t0x43,\r\n\t\t\t0x43,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x42,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x31,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t\t0x20,\r\n\t\t],\r\n\t\t// MPEG-2 LSR table (B.2 in ISO 13818-3)\r\n\t\t[\r\n\t\t\t0x45,\r\n\t\t\t0x45,\r\n\t\t\t0x45,\r\n\t\t\t0x45,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x34,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t\t0x24,\r\n\t\t],\r\n\t];\r\n\r\n\t// Quantizer lookup, step 4: table row, allocation[] value -> quant table index\r\n\tstatic QUANT_LUT_STEP4 = [\r\n\t\t[0, 1, 2, 17],\r\n\t\t[0, 1, 2, 3, 4, 5, 6, 17],\r\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 17],\r\n\t\t[0, 1, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\r\n\t\t[0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 17],\r\n\t\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\r\n\t];\r\n\r\n\tstatic QUANT_TAB = [\r\n\t\t{ levels: 3, group: 1, bits: 5 }, //  1\r\n\t\t{ levels: 5, group: 1, bits: 7 }, //  2\r\n\t\t{ levels: 7, group: 0, bits: 3 }, //  3\r\n\t\t{ levels: 9, group: 1, bits: 10 }, //  4\r\n\t\t{ levels: 15, group: 0, bits: 4 }, //  5\r\n\t\t{ levels: 31, group: 0, bits: 5 }, //  6\r\n\t\t{ levels: 63, group: 0, bits: 6 }, //  7\r\n\t\t{ levels: 127, group: 0, bits: 7 }, //  8\r\n\t\t{ levels: 255, group: 0, bits: 8 }, //  9\r\n\t\t{ levels: 511, group: 0, bits: 9 }, // 10\r\n\t\t{ levels: 1023, group: 0, bits: 10 }, // 11\r\n\t\t{ levels: 2047, group: 0, bits: 11 }, // 12\r\n\t\t{ levels: 4095, group: 0, bits: 12 }, // 13\r\n\t\t{ levels: 8191, group: 0, bits: 13 }, // 14\r\n\t\t{ levels: 16383, group: 0, bits: 14 }, // 15\r\n\t\t{ levels: 32767, group: 0, bits: 15 }, // 16\r\n\t\t{ levels: 65535, group: 0, bits: 16 }, // 17\r\n\t];\r\n}\r\n","import { BitBuffer } from \"./buffer.js\";\r\nimport { BaseDecoder } from \"./decoder.js\";\r\nimport { Now } from \"./utils.js\";\r\n\r\nexport class MPEG1WASM extends BaseDecoder {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\r\n\t\tthis.onDecodeCallback = options.onVideoDecode;\r\n\t\tthis.module = options.wasmModule;\r\n\r\n\t\tthis.bufferSize = options.videoBufferSize || 512 * 1024;\r\n\t\tthis.bufferMode = options.streaming ? BitBuffer.MODE.EVICT : BitBuffer.MODE.EXPAND;\r\n\r\n\t\tthis.decodeFirstFrame = options.decodeFirstFrame !== false;\r\n\t\tthis.hasSequenceHeader = false;\r\n\t}\r\n\r\n\t// MPEG1WASM.prototype = Object.create(JSMpeg.Decoder.Base.prototype);\r\n\t// MPEG1WASM.prototype.constructor = MPEG1WASM;\r\n\r\n\tinitializeWasmDecoder = () => {\r\n\t\tthis.instance = this.module.instance;\r\n\t\tthis.functions = this.module.instance.exports;\r\n\t\tthis.decoder = this.functions.mpeg1_decoder_create(this.bufferSize, this.bufferMode);\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.functions.mpeg1_decoder_destroy(this.decoder);\r\n\t};\r\n\r\n\tbufferGetIndex = () => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn this.functions.mpeg1_decoder_get_index(this.decoder);\r\n\t};\r\n\r\n\tbufferSetIndex = (index) => {\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.functions.mpeg1_decoder_set_index(this.decoder, index);\r\n\t};\r\n\r\n\tbufferWrite = (buffers) => {\r\n\t\t// 1/28/20\r\n\t\t// https://github.com/SuperAwesomeLTD/jsmpeg/pull/1/commits/e2728ba23086fec6aea62f4f2810c5c755199a40\r\n\t\tif (!this.module.instance) {\r\n\t\t\tconsole.warn(\"JSMpeg: WASM module not compiled yet\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.decoder) {\r\n\t\t\tthis.initializeWasmDecoder();\r\n\t\t}\r\n\r\n\t\tlet totalLength = 0;\r\n\t\tfor (let i = 0; i < buffers.length; i++) {\r\n\t\t\ttotalLength += buffers[i].length;\r\n\t\t}\r\n\r\n\t\tlet ptr = this.functions.mpeg1_decoder_get_write_ptr(this.decoder, totalLength);\r\n\t\tfor (let i = 0; i < buffers.length; i++) {\r\n\t\t\tthis.instance.heapU8.set(buffers[i], ptr);\r\n\t\t\tptr += buffers[i].length;\r\n\t\t}\r\n\r\n\t\tthis.functions.mpeg1_decoder_did_write(this.decoder, totalLength);\r\n\t\treturn totalLength;\r\n\t};\r\n\r\n\twrite = (pts, buffers) => {\r\n\t\tthis.baseWrite(pts, buffers);\r\n\r\n\t\t// 1/28/20\r\n\t\tif (\r\n\t\t\t!this.hasSequenceHeader &&\r\n\t\t\tthis.functions &&\r\n\t\t\tthis.functions.mpeg1_decoder_has_sequence_header(this.decoder)\r\n\t\t) {\r\n\t\t\tthis.loadSequnceHeader();\r\n\t\t}\r\n\t};\r\n\r\n\tloadSequnceHeader = () => {\r\n\t\tthis.hasSequenceHeader = true;\r\n\t\tthis.frameRate = this.functions.mpeg1_decoder_get_frame_rate(this.decoder);\r\n\t\tthis.codedSize = this.functions.mpeg1_decoder_get_coded_size(this.decoder);\r\n\r\n\t\tif (this.destination) {\r\n\t\t\tvar w = this.functions.mpeg1_decoder_get_width(this.decoder);\r\n\t\t\tvar h = this.functions.mpeg1_decoder_get_height(this.decoder);\r\n\t\t\tthis.destination.resize(w, h);\r\n\t\t}\r\n\r\n\t\tif (this.decodeFirstFrame) {\r\n\t\t\tthis.decode();\r\n\t\t}\r\n\t};\r\n\r\n\tdecode = () => {\r\n\t\tlet startTime = Now();\r\n\r\n\t\tif (!this.decoder) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet didDecode = this.functions.mpeg1_decoder_decode(this.decoder);\r\n\t\tif (!didDecode) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// Invoke decode callbacks\r\n\t\tif (this.destination) {\r\n\t\t\tlet ptrY = this.functions.mpeg1_decoder_get_y_ptr(this.decoder),\r\n\t\t\t\tptrCr = this.functions.mpeg1_decoder_get_cr_ptr(this.decoder),\r\n\t\t\t\tptrCb = this.functions.mpeg1_decoder_get_cb_ptr(this.decoder);\r\n\r\n\t\t\tlet dy = this.instance.heapU8.subarray(ptrY, ptrY + this.codedSize);\r\n\t\t\tlet dcr = this.instance.heapU8.subarray(ptrCr, ptrCr + (this.codedSize >> 2));\r\n\t\t\tlet dcb = this.instance.heapU8.subarray(ptrCb, ptrCb + (this.codedSize >> 2));\r\n\r\n\t\t\tthis.destination.render(dy, dcr, dcb, false);\r\n\t\t}\r\n\r\n\t\tthis.advanceDecodedTime(1 / this.frameRate);\r\n\r\n\t\tlet elapsedTime = Now() - startTime;\r\n\t\tif (this.onDecodeCallback) {\r\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n}\r\n","// Inspired by Java MPEG-1 Video Decoder and Player by Zoltan Korandi \r\n// https://sourceforge.net/projects/javampeg1video/\r\n\r\nimport { BitBuffer } from \"./buffer.js\";\r\nimport { BaseDecoder } from \"./decoder.js\";\r\nimport { Now, Fill } from \"./utils.js\";\r\n\r\n\r\n// window.doneDecoding = false;\r\n\r\n// function skipCount(b) {\r\n// \tb.skipCount = 1;\r\n// \tsetTimeout(skipCount, window.interval, b);\r\n// }\r\n\r\nexport class MPEG1 extends BaseDecoder {\r\n\tconstructor(options) {\r\n\t\t\r\n\t\tsuper(options);\r\n\r\n\t\tthis.onDecodeCallback = options.onVideoDecode;\r\n\r\n\t\tlet bufferSize = options.videoBufferSize || 512 * 1024;\r\n\t\tlet bufferMode = options.streaming\r\n\t\t\t? BitBuffer.MODE.EVICT\r\n\t\t\t: BitBuffer.MODE.EXPAND;\r\n\r\n\t\tthis.bits = new BitBuffer(bufferSize, bufferMode);\r\n\r\n\t\tthis.customIntraQuantMatrix = new Uint8Array(64);\r\n\t\tthis.customNonIntraQuantMatrix = new Uint8Array(64);\r\n\t\tthis.blockData = new Int32Array(64);\r\n\r\n\t\tthis.currentFrame = 0;\r\n\t\tthis.decodeFirstFrame = options.decodeFirstFrame !== false;\r\n\r\n\t\tthis.frameRate = 30;\r\n\r\n\t\t// skip rendering x times:\r\n\t\t// 1/28/20\r\n\t\t// this.skipCount = 0;\r\n\r\n\t\t// Picture Layer\r\n\r\n\t\tthis.currentY = null;\r\n\t\tthis.currentCr = null;\r\n\t\tthis.currentCb = null;\r\n\r\n\t\tthis.pictureType = 0;\r\n\r\n\t\t// Buffers for motion compensation\r\n\t\tthis.forwardY = null;\r\n\t\tthis.forwardCr = null;\r\n\t\tthis.forwardCb = null;\r\n\r\n\t\tthis.fullPelForward = false;\r\n\t\tthis.forwardFCode = 0;\r\n\t\tthis.forwardRSize = 0;\r\n\t\tthis.forwardF = 0;\r\n\r\n\t\t// Slice Layer\r\n\r\n\t\tthis.quantizerScale = 0;\r\n\t\tthis.sliceBegin = false;\r\n\r\n\t\t// Macroblock Layer\r\n\r\n\t\tthis.macroblockAddress = 0;\r\n\t\tthis.mbRow = 0;\r\n\t\tthis.mbCol = 0;\r\n\r\n\t\tthis.macroblockType = 0;\r\n\t\tthis.macroblockIntra = false;\r\n\t\tthis.macroblockMotFw = false;\r\n\r\n\t\tthis.motionFwH = 0;\r\n\t\tthis.motionFwV = 0;\r\n\t\tthis.motionFwHPrev = 0;\r\n\t\tthis.motionFwVPrev = 0;\r\n\r\n\r\n\t\t// Block layer\r\n\r\n\t\tthis.dcPredictorY = 0;\r\n\t\tthis.dcPredictorCr = 0;\r\n\t\tthis.dcPredictorCb = 0;\r\n\r\n\t\t// this.blockData = null;\r\n\r\n\t}\r\n\r\n\twrite = (pts, buffers) => {\r\n\r\n\t\tthis.baseWrite(pts, buffers);\r\n\r\n\t\tif (!this.hasSequenceHeader) {\r\n\t\t\tif (this.bits.findStartCode(MPEG1.START.SEQUENCE) === -1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.decodeSequenceHeader();\r\n\r\n\t\t\tif (this.decodeFirstFrame) {\r\n\t\t\t\tthis.decode();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// this.currentPictureDecoded = false;\r\n\t\t// if (!window.doneDecoding) {\r\n\t\t// \tthis.decode();\r\n\t\t// \tconsole.log(\"not finished decoding!\");\r\n\t\t// \tthis.currentPictureDecoded = true;\r\n\t\t// } else {\r\n\t\t// \tsetTimeout(() => {\r\n\t\t// \t\tthis.decode();\r\n\t\t// \t\tthis.currentPictureDecoded = true;\r\n\t\t// \t}, 0);\r\n\t\t// }\r\n\t};\r\n\r\n\tdecode = () => {\r\n\r\n\t\tlet startTime = Now();\r\n\t\t\r\n\t\tif (!this.hasSequenceHeader) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.bits.findStartCode(MPEG1.START.PICTURE) === -1) {\r\n\t\t\t// let bufferedBytes = this.bits.byteLength - (this.bits.index >> 3);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.decodePicture();\r\n\t\tthis.advanceDecodedTime(1 / this.frameRate);\r\n\r\n\t\tlet elapsedTime = Now() - startTime;\r\n\t\tif (this.onDecodeCallback) {\r\n\t\t\tthis.onDecodeCallback(this, elapsedTime);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\treadHuffman = (codeTable) => {\r\n\t\tlet state = 0;\r\n\t\tdo {\r\n\t\t\tstate = codeTable[state + this.bits.read(1)];\r\n\t\t} while (state >= 0 && codeTable[state] !== 0);\r\n\t\treturn codeTable[state+2];\r\n\t};\r\n\r\n\r\n\t// Sequence Layer\r\n\r\n\r\n\tdecodeSequenceHeader = function() {\r\n\t\tvar newWidth = this.bits.read(12),\r\n\t\t\tnewHeight = this.bits.read(12);\r\n\r\n\t\t// skip pixel aspect ratio\r\n\t\tthis.bits.skip(4);\r\n\r\n\t\tthis.frameRate = MPEG1.PICTURE_RATE[this.bits.read(4)];\r\n\r\n\t\t// skip bitRate, marker, bufferSize and constrained bit\r\n\t\tthis.bits.skip(18 + 1 + 10 + 1);\r\n\r\n\t\tif (newWidth !== this.width || newHeight !== this.height) {\r\n\t\t\tthis.width = newWidth;\r\n\t\t\tthis.height = newHeight;\r\n\r\n\t\t\tthis.initBuffers();\r\n\r\n\t\t\tif (this.destination) {\r\n\t\t\t\tthis.destination.resize(newWidth, newHeight);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.bits.read(1)) { // load custom intra quant matrix?\r\n\t\t\tfor (let i = 0; i < 64; i++) {\r\n\t\t\t\tthis.customIntraQuantMatrix[MPEG1.ZIG_ZAG[i]] = this.bits.read(8);\r\n\t\t\t}\r\n\t\t\tthis.intraQuantMatrix = this.customIntraQuantMatrix;\r\n\t\t}\r\n\r\n\t\tif (this.bits.read(1)) { // load custom non intra quant matrix?\r\n\t\t\tfor (let i = 0; i < 64; i++) {\r\n\t\t\t\tlet idx = MPEG1.ZIG_ZAG[i];\r\n\t\t\t\tthis.customNonIntraQuantMatrix[idx] = this.bits.read(8);\r\n\t\t\t}\r\n\t\t\tthis.nonIntraQuantMatrix = this.customNonIntraQuantMatrix;\r\n\t\t}\r\n\r\n\t\tthis.hasSequenceHeader = true;\r\n\t};\r\n\r\n\tinitBuffers = () => {\r\n\t\tthis.intraQuantMatrix = MPEG1.DEFAULT_INTRA_QUANT_MATRIX;\r\n\t\tthis.nonIntraQuantMatrix = MPEG1.DEFAULT_NON_INTRA_QUANT_MATRIX;\r\n\r\n\t\tthis.mbWidth = (this.width + 15) >> 4;\r\n\t\tthis.mbHeight = (this.height + 15) >> 4;\r\n\t\tthis.mbSize = this.mbWidth * this.mbHeight;\r\n\r\n\t\tthis.codedWidth = this.mbWidth << 4;\r\n\t\tthis.codedHeight = this.mbHeight << 4;\r\n\t\tthis.codedSize = this.codedWidth * this.codedHeight;\r\n\r\n\t\tthis.halfWidth = this.mbWidth << 3;\r\n\t\tthis.halfHeight = this.mbHeight << 3;\r\n\r\n\t\t// Allocated buffers and resize the canvas\r\n\t\tthis.currentY = new Uint8ClampedArray(this.codedSize);\r\n\t\tthis.currentY32 = new Uint32Array(this.currentY.buffer);\r\n\r\n\t\tthis.currentCr = new Uint8ClampedArray(this.codedSize >> 2);\r\n\t\tthis.currentCr32 = new Uint32Array(this.currentCr.buffer);\r\n\r\n\t\tthis.currentCb = new Uint8ClampedArray(this.codedSize >> 2);\r\n\t\tthis.currentCb32 = new Uint32Array(this.currentCb.buffer);\r\n\r\n\r\n\t\tthis.forwardY = new Uint8ClampedArray(this.codedSize);\r\n\t\tthis.forwardY32 = new Uint32Array(this.forwardY.buffer);\r\n\r\n\t\tthis.forwardCr = new Uint8ClampedArray(this.codedSize >> 2);\r\n\t\tthis.forwardCr32 = new Uint32Array(this.forwardCr.buffer);\r\n\r\n\t\tthis.forwardCb = new Uint8ClampedArray(this.codedSize >> 2);\r\n\t\tthis.forwardCb32 = new Uint32Array(this.forwardCb.buffer);\r\n\t};\r\n\r\n\r\n\t// Picture Layer\r\n\r\n\tdecodePicture = (skipOutput) => {\r\n\t\tthis.currentFrame++;\r\n\r\n\t\tthis.bits.skip(10); // skip temporalReference\r\n\t\tthis.pictureType = this.bits.read(3);\r\n\t\tthis.bits.skip(16); // skip vbv_delay\r\n\r\n\t\t// Skip B and D frames or unknown coding type\r\n\t\tif (this.pictureType <= 0 || this.pictureType >= MPEG1.PICTURE_TYPE.B) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// full_pel_forward, forward_f_code\r\n\t\tif (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\r\n\t\t\tthis.fullPelForward = this.bits.read(1);\r\n\t\t\tthis.forwardFCode = this.bits.read(3);\r\n\t\t\tif (this.forwardFCode === 0) {\r\n\t\t\t\t// Ignore picture with zero forward_f_code\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.forwardRSize = this.forwardFCode - 1;\r\n\t\t\tthis.forwardF = 1 << this.forwardRSize;\r\n\t\t}\r\n\r\n\t\tlet code = 0;\r\n\t\tdo {\r\n\t\t\tcode = this.bits.findNextStartCode();\r\n\t\t} while (code === MPEG1.START.EXTENSION || code === MPEG1.START.USER_DATA );\r\n\r\n\r\n\t\twhile (code >= MPEG1.START.SLICE_FIRST && code <= MPEG1.START.SLICE_LAST) {\r\n\t\t\tthis.decodeSlice(code & 0x000000FF);\r\n\t\t\tcode = this.bits.findNextStartCode();\r\n\t\t}\r\n\r\n\t\tif (code !== -1) {\r\n\t\t\t// We found the next start code; rewind 32bits and let the main loop\r\n\t\t\t// handle it.\r\n\t\t\tthis.bits.rewind(32);\r\n\t\t}\r\n\r\n\t\t// Invoke decode callbacks\r\n\t\tif (this.destination/* && this.skipCount === 0*/) {\r\n\t\t\tthis.destination.render(this.currentY, this.currentCr, this.currentCb, true);\r\n\t\t}\r\n\t\t// if (this.skipCount > 0) {\r\n\t\t// \tthis.skipCount -= 1;\r\n\t\t// }\r\n\r\n\t\t// If this is a reference picture then rotate the prediction pointers\r\n\t\tif (\r\n\t\t\tthis.pictureType === MPEG1.PICTURE_TYPE.INTRA ||\r\n\t\t\tthis.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE\r\n\t\t) {\r\n\t\t\tlet\r\n\t\t\t\ttmpY = this.forwardY,\r\n\t\t\t\ttmpY32 = this.forwardY32,\r\n\t\t\t\ttmpCr = this.forwardCr,\r\n\t\t\t\ttmpCr32 = this.forwardCr32,\r\n\t\t\t\ttmpCb = this.forwardCb,\r\n\t\t\t\ttmpCb32 = this.forwardCb32;\r\n\r\n\t\t\tthis.forwardY = this.currentY;\r\n\t\t\tthis.forwardY32 = this.currentY32;\r\n\t\t\tthis.forwardCr = this.currentCr;\r\n\t\t\tthis.forwardCr32 = this.currentCr32;\r\n\t\t\tthis.forwardCb = this.currentCb;\r\n\t\t\tthis.forwardCb32 = this.currentCb32;\r\n\r\n\t\t\tthis.currentY = tmpY;\r\n\t\t\tthis.currentY32 = tmpY32;\r\n\t\t\tthis.currentCr = tmpCr;\r\n\t\t\tthis.currentCr32 = tmpCr32;\r\n\t\t\tthis.currentCb = tmpCb;\r\n\t\t\tthis.currentCb32 = tmpCb32;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// Slice Layer\r\n\r\n\tdecodeSlice = (slice) => {\r\n\t\tthis.sliceBegin = true;\r\n\t\tthis.macroblockAddress = (slice - 1) * this.mbWidth - 1;\r\n\r\n\t\t// Reset motion vectors and DC predictors\r\n\t\tthis.motionFwH = this.motionFwHPrev = 0;\r\n\t\tthis.motionFwV = this.motionFwVPrev = 0;\r\n\t\tthis.dcPredictorY  = 128;\r\n\t\tthis.dcPredictorCr = 128;\r\n\t\tthis.dcPredictorCb = 128;\r\n\r\n\t\tthis.quantizerScale = this.bits.read(5);\r\n\r\n\t\t// skip extra bits\r\n\t\twhile (this.bits.read(1)) {\r\n\t\t\tthis.bits.skip(8);\r\n\t\t}\r\n\r\n\t\tdo {\r\n\t\t\tthis.decodeMacroblock();\r\n\t\t} while (!this.bits.nextBytesAreStartCode());\r\n\t};\r\n\r\n\r\n\t// Macroblock Layer\r\n\r\n\tdecodeMacroblock = () => {\r\n\t\t// Decode macroblock_address_increment\r\n\t\tlet\r\n\t\t\tincrement = 0,\r\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\r\n\r\n\t\twhile (t === 34) {\r\n\t\t\t// macroblock_stuffing\r\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\r\n\t\t}\r\n\t\twhile (t === 35) {\r\n\t\t\t// macroblock_escape\r\n\t\t\tincrement += 33;\r\n\t\t\tt = this.readHuffman(MPEG1.MACROBLOCK_ADDRESS_INCREMENT);\r\n\t\t}\r\n\t\tincrement += t;\r\n\r\n\t\t// Process any skipped macroblocks\r\n\t\tif (this.sliceBegin) {\r\n\t\t\t// The first macroblock_address_increment of each slice is relative\r\n\t\t\t// to beginning of the preverious row, not the preverious macroblock\r\n\t\t\tthis.sliceBegin = false;\r\n\t\t\tthis.macroblockAddress += increment;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.macroblockAddress + increment >= this.mbSize) {\r\n\t\t\t\t// Illegal (too large) macroblock_address_increment\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (increment > 1) {\r\n\t\t\t\t// Skipped macroblocks reset DC predictors\r\n\t\t\t\tthis.dcPredictorY  = 128;\r\n\t\t\t\tthis.dcPredictorCr = 128;\r\n\t\t\t\tthis.dcPredictorCb = 128;\r\n\r\n\t\t\t\t// Skipped macroblocks in P-pictures reset motion vectors\r\n\t\t\t\tif (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\r\n\t\t\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\r\n\t\t\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Predict skipped macroblocks\r\n\t\t\twhile (increment > 1) {\r\n\t\t\t\tthis.macroblockAddress++;\r\n\t\t\t\tthis.mbRow = (this.macroblockAddress / this.mbWidth)|0;\r\n\t\t\t\tthis.mbCol = this.macroblockAddress % this.mbWidth;\r\n\t\t\t\tthis.copyMacroblock(\r\n\t\t\t\t\tthis.motionFwH, this.motionFwV,\r\n\t\t\t\t\tthis.forwardY, this.forwardCr, this.forwardCb\r\n\t\t\t\t);\r\n\t\t\t\tincrement--;\r\n\t\t\t}\r\n\t\t\tthis.macroblockAddress++;\r\n\t\t}\r\n\t\tthis.mbRow = (this.macroblockAddress / this.mbWidth)|0;\r\n\t\tthis.mbCol = this.macroblockAddress % this.mbWidth;\r\n\r\n\t\t// Process the current macroblock\r\n\t\tvar mbTable = MPEG1.MACROBLOCK_TYPE[this.pictureType];\r\n\t\tthis.macroblockType = this.readHuffman(mbTable);\r\n\t\tthis.macroblockIntra = (this.macroblockType & 0x01);\r\n\t\tthis.macroblockMotFw = (this.macroblockType & 0x08);\r\n\r\n\t\t// Quantizer scale\r\n\t\tif ((this.macroblockType & 0x10) !== 0) {\r\n\t\t\tthis.quantizerScale = this.bits.read(5);\r\n\t\t}\r\n\r\n\t\tif (this.macroblockIntra) {\r\n\t\t\t// Intra-coded macroblocks reset motion vectors\r\n\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\r\n\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Non-intra macroblocks reset DC predictors\r\n\t\t\tthis.dcPredictorY = 128;\r\n\t\t\tthis.dcPredictorCr = 128;\r\n\t\t\tthis.dcPredictorCb = 128;\r\n\r\n\t\t\tthis.decodeMotionVectors();\r\n\t\t\tthis.copyMacroblock(\r\n\t\t\t\tthis.motionFwH, this.motionFwV,\r\n\t\t\t\tthis.forwardY, this.forwardCr, this.forwardCb\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Decode blocks\r\n\t\tlet cbp = ((this.macroblockType & 0x02) !== 0)\r\n\t\t\t? this.readHuffman(MPEG1.CODE_BLOCK_PATTERN)\r\n\t\t\t: (this.macroblockIntra ? 0x3f : 0);\r\n\r\n\t\tfor (let block = 0, mask = 0x20; block < 6; block++) {\r\n\t\t\tif ((cbp & mask) !== 0) {\r\n\t\t\t\tthis.decodeBlock(block);\r\n\t\t\t}\r\n\t\t\tmask >>= 1;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tdecodeMotionVectors = function() {\r\n\t\tvar code, d, r = 0;\r\n\r\n\t\t// Forward\r\n\t\tif (this.macroblockMotFw) {\r\n\t\t\t// Horizontal forward\r\n\t\t\tcode = this.readHuffman(MPEG1.MOTION);\r\n\t\t\tif ((code !== 0) && (this.forwardF !== 1)) {\r\n\t\t\t\tr = this.bits.read(this.forwardRSize);\r\n\t\t\t\td = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\r\n\t\t\t\tif (code < 0) {\r\n\t\t\t\t\td = -d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\td = code;\r\n\t\t\t}\r\n\r\n\t\t\tthis.motionFwHPrev += d;\r\n\t\t\tif (this.motionFwHPrev > (this.forwardF << 4) - 1) {\r\n\t\t\t\tthis.motionFwHPrev -= this.forwardF << 5;\r\n\t\t\t}\r\n\t\t\telse if (this.motionFwHPrev < ((-this.forwardF) << 4)) {\r\n\t\t\t\tthis.motionFwHPrev += this.forwardF << 5;\r\n\t\t\t}\r\n\r\n\t\t\tthis.motionFwH = this.motionFwHPrev;\r\n\t\t\tif (this.fullPelForward) {\r\n\t\t\t\tthis.motionFwH <<= 1;\r\n\t\t\t}\r\n\r\n\t\t\t// Vertical forward\r\n\t\t\tcode = this.readHuffman(MPEG1.MOTION);\r\n\t\t\tif ((code !== 0) && (this.forwardF !== 1)) {\r\n\t\t\t\tr = this.bits.read(this.forwardRSize);\r\n\t\t\t\td = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\r\n\t\t\t\tif (code < 0) {\r\n\t\t\t\t\td = -d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\td = code;\r\n\t\t\t}\r\n\r\n\t\t\tthis.motionFwVPrev += d;\r\n\t\t\tif (this.motionFwVPrev > (this.forwardF << 4) - 1) {\r\n\t\t\t\tthis.motionFwVPrev -= this.forwardF << 5;\r\n\t\t\t}\r\n\t\t\telse if (this.motionFwVPrev < ((-this.forwardF) << 4)) {\r\n\t\t\t\tthis.motionFwVPrev += this.forwardF << 5;\r\n\t\t\t}\r\n\r\n\t\t\tthis.motionFwV = this.motionFwVPrev;\r\n\t\t\tif (this.fullPelForward) {\r\n\t\t\t\tthis.motionFwV <<= 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (this.pictureType === MPEG1.PICTURE_TYPE.PREDICTIVE) {\r\n\t\t\t// No motion information in P-picture, reset vectors\r\n\t\t\tthis.motionFwH = this.motionFwHPrev = 0;\r\n\t\t\tthis.motionFwV = this.motionFwVPrev = 0;\r\n\t\t}\r\n\t};\r\n\r\n\tcopyMacroblock = function(motionH, motionV, sY, sCr, sCb) {\r\n\t\tvar\r\n\t\t\twidth, scan,\r\n\t\t\tH, V, oddH, oddV,\r\n\t\t\tsrc, dest, last;\r\n\r\n\t\t// We use 32bit writes here\r\n\t\tvar dY = this.currentY32,\r\n\t\t\tdCb = this.currentCb32,\r\n\t\t\tdCr = this.currentCr32;\r\n\r\n\t\t// Luminance\r\n\t\twidth = this.codedWidth;\r\n\t\tscan = width - 16;\r\n\r\n\t\tH = motionH >> 1;\r\n\t\tV = motionV >> 1;\r\n\t\toddH = (motionH & 1) === 1;\r\n\t\toddV = (motionV & 1) === 1;\r\n\r\n\t\tsrc = ((this.mbRow << 4) + V) * width + (this.mbCol << 4) + H;\r\n\t\tdest = (this.mbRow * width + this.mbCol) << 2;\r\n\t\tlast = dest + (width << 2);\r\n\r\n\t\tvar x, y1, y2, y;\r\n\t\tif (oddH) {\r\n\t\t\tif (oddV) {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\r\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\r\n\t\t\t\t\t\ty2 = sY[src] + sY[src+width]; src++;\r\n\t\t\t\t\t\ty = (((y1 + y2 + 2) >> 2) & 0xff);\r\n\r\n\t\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 6) & 0xff00);\r\n\r\n\t\t\t\t\t\ty2 = sY[src] + sY[src+width]; src++;\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 14) & 0xff0000);\r\n\r\n\t\t\t\t\t\ty1 = sY[src] + sY[src+width]; src++;\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 2) << 22) & 0xff000000);\r\n\r\n\t\t\t\t\t\tdY[dest++] = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\ty1 = sY[src++];\r\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\r\n\t\t\t\t\t\ty2 = sY[src++];\r\n\t\t\t\t\t\ty = (((y1 + y2 + 1) >> 1) & 0xff);\r\n\r\n\t\t\t\t\t\ty1 = sY[src++];\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 7) & 0xff00);\r\n\r\n\t\t\t\t\t\ty2 = sY[src++];\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 15) & 0xff0000);\r\n\r\n\t\t\t\t\t\ty1 = sY[src++];\r\n\t\t\t\t\t\ty |= (((y1 + y2 + 1) << 23) & 0xff000000);\r\n\r\n\t\t\t\t\t\tdY[dest++] = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (oddV) {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\r\n\t\t\t\t\t\ty = (((sY[src] + sY[src+width] + 1) >> 1) & 0xff); src++;\r\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 7) & 0xff00); src++;\r\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 15) & 0xff0000); src++;\r\n\t\t\t\t\t\ty |= (((sY[src] + sY[src+width] + 1) << 23) & 0xff000000); src++;\r\n\r\n\t\t\t\t\t\tdY[dest++] = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tfor (x = 0; x < 4; x++) {\r\n\t\t\t\t\t\ty = sY[src]; src++;\r\n\t\t\t\t\t\ty |= sY[src] << 8; src++;\r\n\t\t\t\t\t\ty |= sY[src] << 16; src++;\r\n\t\t\t\t\t\ty |= sY[src] << 24; src++;\r\n\r\n\t\t\t\t\t\tdY[dest++] = y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Chrominance\r\n\r\n\t\twidth = this.halfWidth;\r\n\t\tscan = width - 8;\r\n\r\n\t\tH = (motionH/2) >> 1;\r\n\t\tV = (motionV/2) >> 1;\r\n\t\toddH = ((motionH/2) & 1) === 1;\r\n\t\toddV = ((motionV/2) & 1) === 1;\r\n\r\n\t\tsrc = ((this.mbRow << 3) + V) * width + (this.mbCol << 3) + H;\r\n\t\tdest = (this.mbRow * width + this.mbCol) << 1;\r\n\t\tlast = dest + (width << 1);\r\n\r\n\t\tvar cr1, cr2, cr,\r\n\t\t\tcb1, cb2, cb;\r\n\t\tif (oddH) {\r\n\t\t\tif (oddV) {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\r\n\t\t\t\t\tcb1 = sCb[src] + sCb[src+width];\r\n\t\t\t\t\tsrc++;\r\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\r\n\t\t\t\t\t\tcr2 = sCr[src] + sCr[src+width];\r\n\t\t\t\t\t\tcb2 = sCb[src] + sCb[src+width]; src++;\r\n\t\t\t\t\t\tcr = (((cr1 + cr2 + 2) >> 2) & 0xff);\r\n\t\t\t\t\t\tcb = (((cb1 + cb2 + 2) >> 2) & 0xff);\r\n\r\n\t\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\r\n\t\t\t\t\t\tcb1 = sCb[src] + sCb[src+width]; src++;\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 6) & 0xff00);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 6) & 0xff00);\r\n\r\n\t\t\t\t\t\tcr2 = sCr[src] + sCr[src+width];\r\n\t\t\t\t\t\tcb2 = sCb[src] + sCb[src+width]; src++;\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 14) & 0xff0000);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 14) & 0xff0000);\r\n\r\n\t\t\t\t\t\tcr1 = sCr[src] + sCr[src+width];\r\n\t\t\t\t\t\tcb1 = sCb[src] + sCb[src+width]; src++;\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 2) << 22) & 0xff000000);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 2) << 22) & 0xff000000);\r\n\r\n\t\t\t\t\t\tdCr[dest] = cr;\r\n\t\t\t\t\t\tdCb[dest] = cb;\r\n\t\t\t\t\t\tdest++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tcr1 = sCr[src];\r\n\t\t\t\t\tcb1 = sCb[src];\r\n\t\t\t\t\tsrc++;\r\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\r\n\t\t\t\t\t\tcr2 = sCr[src];\r\n\t\t\t\t\t\tcb2 = sCb[src++];\r\n\t\t\t\t\t\tcr = (((cr1 + cr2 + 1) >> 1) & 0xff);\r\n\t\t\t\t\t\tcb = (((cb1 + cb2 + 1) >> 1) & 0xff);\r\n\r\n\t\t\t\t\t\tcr1 = sCr[src];\r\n\t\t\t\t\t\tcb1 = sCb[src++];\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 7) & 0xff00);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 7) & 0xff00);\r\n\r\n\t\t\t\t\t\tcr2 = sCr[src];\r\n\t\t\t\t\t\tcb2 = sCb[src++];\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 15) & 0xff0000);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 15) & 0xff0000);\r\n\r\n\t\t\t\t\t\tcr1 = sCr[src];\r\n\t\t\t\t\t\tcb1 = sCb[src++];\r\n\t\t\t\t\t\tcr |= (((cr1 + cr2 + 1) << 23) & 0xff000000);\r\n\t\t\t\t\t\tcb |= (((cb1 + cb2 + 1) << 23) & 0xff000000);\r\n\r\n\t\t\t\t\t\tdCr[dest] = cr;\r\n\t\t\t\t\t\tdCb[dest] = cb;\r\n\t\t\t\t\t\tdest++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (oddV) {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\r\n\t\t\t\t\t\tcr = (((sCr[src] + sCr[src+width] + 1) >> 1) & 0xff);\r\n\t\t\t\t\t\tcb = (((sCb[src] + sCb[src+width] + 1) >> 1) & 0xff); src++;\r\n\r\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 7) & 0xff00);\r\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 7) & 0xff00); src++;\r\n\r\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 15) & 0xff0000);\r\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 15) & 0xff0000); src++;\r\n\r\n\t\t\t\t\t\tcr |= (((sCr[src] + sCr[src+width] + 1) << 23) & 0xff000000);\r\n\t\t\t\t\t\tcb |= (((sCb[src] + sCb[src+width] + 1) << 23) & 0xff000000); src++;\r\n\r\n\t\t\t\t\t\tdCr[dest] = cr;\r\n\t\t\t\t\t\tdCb[dest] = cb;\r\n\t\t\t\t\t\tdest++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twhile (dest < last) {\r\n\t\t\t\t\tfor (x = 0; x < 2; x++) {\r\n\t\t\t\t\t\tcr = sCr[src];\r\n\t\t\t\t\t\tcb = sCb[src]; src++;\r\n\r\n\t\t\t\t\t\tcr |= sCr[src] << 8;\r\n\t\t\t\t\t\tcb |= sCb[src] << 8; src++;\r\n\r\n\t\t\t\t\t\tcr |= sCr[src] << 16;\r\n\t\t\t\t\t\tcb |= sCb[src] << 16; src++;\r\n\r\n\t\t\t\t\t\tcr |= sCr[src] << 24;\r\n\t\t\t\t\t\tcb |= sCb[src] << 24; src++;\r\n\r\n\t\t\t\t\t\tdCr[dest] = cr;\r\n\t\t\t\t\t\tdCb[dest] = cb;\r\n\t\t\t\t\t\tdest++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdest += scan >> 2; src += scan;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// Block layer\r\n\r\n\tdecodeBlock = function(block) {\r\n\r\n\t\tvar\r\n\t\t\tn = 0,\r\n\t\t\tquantMatrix;\r\n\r\n\t\t// Decode DC coefficient of intra-coded blocks\r\n\t\tif (this.macroblockIntra) {\r\n\t\t\tvar\r\n\t\t\t\tpredictor,\r\n\t\t\t\tdctSize;\r\n\r\n\t\t\t// DC prediction\r\n\r\n\t\t\tif (block < 4) {\r\n\t\t\t\tpredictor = this.dcPredictorY;\r\n\t\t\t\tdctSize = this.readHuffman(MPEG1.DCT_DC_SIZE_LUMINANCE);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpredictor = (block === 4 ? this.dcPredictorCr : this.dcPredictorCb);\r\n\t\t\t\tdctSize = this.readHuffman(MPEG1.DCT_DC_SIZE_CHROMINANCE);\r\n\t\t\t}\r\n\r\n\t\t\t// Read DC coeff\r\n\t\t\tif (dctSize > 0) {\r\n\t\t\t\tvar differential = this.bits.read(dctSize);\r\n\t\t\t\tif ((differential & (1 << (dctSize - 1))) !== 0) {\r\n\t\t\t\t\tthis.blockData[0] = predictor + differential;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.blockData[0] = predictor + ((-1 << dctSize)|(differential+1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.blockData[0] = predictor;\r\n\t\t\t}\r\n\r\n\t\t\t// Save predictor value\r\n\t\t\tif (block < 4) {\r\n\t\t\t\tthis.dcPredictorY = this.blockData[0];\r\n\t\t\t}\r\n\t\t\telse if (block === 4) {\r\n\t\t\t\tthis.dcPredictorCr = this.blockData[0];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.dcPredictorCb = this.blockData[0];\r\n\t\t\t}\r\n\r\n\t\t\t// Dequantize + premultiply\r\n\t\t\tthis.blockData[0] <<= (3 + 5);\r\n\r\n\t\t\tquantMatrix = this.intraQuantMatrix;\r\n\t\t\tn = 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tquantMatrix = this.nonIntraQuantMatrix;\r\n\t\t}\r\n\r\n\t\t// Decode AC coefficients (+DC for non-intra)\r\n\t\tvar level = 0;\r\n\t\twhile (true) {\r\n\t\t\tvar\r\n\t\t\t\trun = 0,\r\n\t\t\t\tcoeff = this.readHuffman(MPEG1.DCT_COEFF);\r\n\r\n\t\t\tif ((coeff === 0x0001) && (n > 0) && (this.bits.read(1) === 0)) {\r\n\t\t\t\t// end_of_block\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (coeff === 0xffff) {\r\n\t\t\t\t// escape\r\n\t\t\t\trun = this.bits.read(6);\r\n\t\t\t\tlevel = this.bits.read(8);\r\n\t\t\t\tif (level === 0) {\r\n\t\t\t\t\tlevel = this.bits.read(8);\r\n\t\t\t\t}\r\n\t\t\t\telse if (level === 128) {\r\n\t\t\t\t\tlevel = this.bits.read(8) - 256;\r\n\t\t\t\t}\r\n\t\t\t\telse if (level > 128) {\r\n\t\t\t\t\tlevel = level - 256;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trun = coeff >> 8;\r\n\t\t\t\tlevel = coeff & 0xff;\r\n\t\t\t\tif (this.bits.read(1)) {\r\n\t\t\t\t\tlevel = -level;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tn += run;\r\n\t\t\tif (n < 0 || n >= MPEG1.ZIG_ZAG.length) break;\r\n\t\t\tvar dezigZagged = MPEG1.ZIG_ZAG[n];\r\n\t\t\tn++;\r\n\r\n\t\t\t// Dequantize, oddify, clip\r\n\t\t\tlevel <<= 1;\r\n\t\t\tif (!this.macroblockIntra) {\r\n\t\t\t\tlevel += (level < 0 ? -1 : 1);\r\n\t\t\t}\r\n\t\t\tlevel = (level * this.quantizerScale * quantMatrix[dezigZagged]) >> 4;\r\n\t\t\tif ((level & 1) === 0) {\r\n\t\t\t\tlevel -= level > 0 ? 1 : -1;\r\n\t\t\t}\r\n\t\t\tif (level > 2047) {\r\n\t\t\t\tlevel = 2047;\r\n\t\t\t}\r\n\t\t\telse if (level < -2048) {\r\n\t\t\t\tlevel = -2048;\r\n\t\t\t}\r\n\r\n\t\t\t// Save premultiplied coefficient\r\n\t\t\tthis.blockData[dezigZagged] = level * MPEG1.PREMULTIPLIER_MATRIX[dezigZagged];\r\n\t\t}\r\n\r\n\t\t// Move block to its place\r\n\t\tvar\r\n\t\t\tdestArray,\r\n\t\t\tdestIndex,\r\n\t\t\tscan;\r\n\r\n\t\tif (block < 4) {\r\n\t\t\tdestArray = this.currentY;\r\n\t\t\tscan = this.codedWidth - 8;\r\n\t\t\tdestIndex = (this.mbRow * this.codedWidth + this.mbCol) << 4;\r\n\t\t\tif ((block & 1) !== 0) {\r\n\t\t\t\tdestIndex += 8;\r\n\t\t\t}\r\n\t\t\tif ((block & 2) !== 0) {\r\n\t\t\t\tdestIndex += this.codedWidth << 3;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdestArray = (block === 4) ? this.currentCb : this.currentCr;\r\n\t\t\tscan = (this.codedWidth >> 1) - 8;\r\n\t\t\tdestIndex = ((this.mbRow * this.codedWidth) << 2) + (this.mbCol << 3);\r\n\t\t}\r\n\r\n\t\tif (this.macroblockIntra) {\r\n\t\t\t// Overwrite (no prediction)\r\n\t\t\tif (n === 1) {\r\n\t\t\t\tthis.CopyValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\r\n\t\t\t\tthis.blockData[0] = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.IDCT(this.blockData);\r\n\t\t\t\tthis.CopyBlockToDestination(this.blockData, destArray, destIndex, scan);\r\n\t\t\t\tFill(this.blockData, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// Add data to the predicted macroblock\r\n\t\t\tif (n === 1) {\r\n\t\t\t\tthis.AddValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\r\n\t\t\t\tthis.blockData[0] = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.IDCT(this.blockData);\r\n\t\t\t\tthis.AddBlockToDestination(this.blockData, destArray, destIndex, scan);\r\n\t\t\t\tFill(this.blockData, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tn = 0;\r\n\t};\r\n\r\n\tCopyBlockToDestination = function(block, dest, index, scan) {\r\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\r\n\t\t\tdest[index+0] = block[n+0];\r\n\t\t\tdest[index+1] = block[n+1];\r\n\t\t\tdest[index+2] = block[n+2];\r\n\t\t\tdest[index+3] = block[n+3];\r\n\t\t\tdest[index+4] = block[n+4];\r\n\t\t\tdest[index+5] = block[n+5];\r\n\t\t\tdest[index+6] = block[n+6];\r\n\t\t\tdest[index+7] = block[n+7];\r\n\t\t}\r\n\t};\r\n\r\n\tAddBlockToDestination = function(block, dest, index, scan) {\r\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\r\n\t\t\tdest[index+0] += block[n+0];\r\n\t\t\tdest[index+1] += block[n+1];\r\n\t\t\tdest[index+2] += block[n+2];\r\n\t\t\tdest[index+3] += block[n+3];\r\n\t\t\tdest[index+4] += block[n+4];\r\n\t\t\tdest[index+5] += block[n+5];\r\n\t\t\tdest[index+6] += block[n+6];\r\n\t\t\tdest[index+7] += block[n+7];\r\n\t\t}\r\n\t};\r\n\r\n\tCopyValueToDestination = function(value, dest, index, scan) {\r\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\r\n\t\t\tdest[index+0] = value;\r\n\t\t\tdest[index+1] = value;\r\n\t\t\tdest[index+2] = value;\r\n\t\t\tdest[index+3] = value;\r\n\t\t\tdest[index+4] = value;\r\n\t\t\tdest[index+5] = value;\r\n\t\t\tdest[index+6] = value;\r\n\t\t\tdest[index+7] = value;\r\n\t\t}\r\n\t};\r\n\r\n\tAddValueToDestination = function(value, dest, index, scan) {\r\n\t\tfor (var n = 0; n < 64; n += 8, index += scan+8) {\r\n\t\t\tdest[index+0] += value;\r\n\t\t\tdest[index+1] += value;\r\n\t\t\tdest[index+2] += value;\r\n\t\t\tdest[index+3] += value;\r\n\t\t\tdest[index+4] += value;\r\n\t\t\tdest[index+5] += value;\r\n\t\t\tdest[index+6] += value;\r\n\t\t\tdest[index+7] += value;\r\n\t\t}\r\n\t};\r\n\r\n\tIDCT = function(block) {\r\n\t\t// See http://vsr.informatik.tu-chemnitz.de/~jan/MPEG/HTML/IDCT.html\r\n\t\t// for more info.\r\n\r\n\t\tvar\r\n\t\t\tb1, b3, b4, b6, b7, tmp1, tmp2, m0,\r\n\t\t\tx0, x1, x2, x3, x4, y3, y4, y5, y6, y7;\r\n\r\n\t\t// Transform columns\r\n\t\tfor (var i = 0; i < 8; ++i) {\r\n\t\t\tb1 = block[4*8+i];\r\n\t\t\tb3 = block[2*8+i] + block[6*8+i];\r\n\t\t\tb4 = block[5*8+i] - block[3*8+i];\r\n\t\t\ttmp1 = block[1*8+i] + block[7*8+i];\r\n\t\t\ttmp2 = block[3*8+i] + block[5*8+i];\r\n\t\t\tb6 = block[1*8+i] - block[7*8+i];\r\n\t\t\tb7 = tmp1 + tmp2;\r\n\t\t\tm0 = block[0*8+i];\r\n\t\t\tx4 = ((b6*473 - b4*196 + 128) >> 8) - b7;\r\n\t\t\tx0 = x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\r\n\t\t\tx1 = m0 - b1;\r\n\t\t\tx2 = (((block[2*8+i] - block[6*8+i])*362 + 128) >> 8) - b3;\r\n\t\t\tx3 = m0 + b1;\r\n\t\t\ty3 = x1 + x2;\r\n\t\t\ty4 = x3 + b3;\r\n\t\t\ty5 = x1 - x2;\r\n\t\t\ty6 = x3 - b3;\r\n\t\t\ty7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\r\n\t\t\tblock[0*8+i] = b7 + y4;\r\n\t\t\tblock[1*8+i] = x4 + y3;\r\n\t\t\tblock[2*8+i] = y5 - x0;\r\n\t\t\tblock[3*8+i] = y6 - y7;\r\n\t\t\tblock[4*8+i] = y6 + y7;\r\n\t\t\tblock[5*8+i] = x0 + y5;\r\n\t\t\tblock[6*8+i] = y3 - x4;\r\n\t\t\tblock[7*8+i] = y4 - b7;\r\n\t\t}\r\n\r\n\t\t// Transform rows\r\n\t\tfor (var i = 0; i < 64; i += 8) {\r\n\t\t\tb1 = block[4+i];\r\n\t\t\tb3 = block[2+i] + block[6+i];\r\n\t\t\tb4 = block[5+i] - block[3+i];\r\n\t\t\ttmp1 = block[1+i] + block[7+i];\r\n\t\t\ttmp2 = block[3+i] + block[5+i];\r\n\t\t\tb6 = block[1+i] - block[7+i];\r\n\t\t\tb7 = tmp1 + tmp2;\r\n\t\t\tm0 = block[0+i];\r\n\t\t\tx4 = ((b6*473 - b4*196 + 128) >> 8) - b7;\r\n\t\t\tx0 = x4 - (((tmp1 - tmp2)*362 + 128) >> 8);\r\n\t\t\tx1 = m0 - b1;\r\n\t\t\tx2 = (((block[2+i] - block[6+i])*362 + 128) >> 8) - b3;\r\n\t\t\tx3 = m0 + b1;\r\n\t\t\ty3 = x1 + x2;\r\n\t\t\ty4 = x3 + b3;\r\n\t\t\ty5 = x1 - x2;\r\n\t\t\ty6 = x3 - b3;\r\n\t\t\ty7 = -x0 - ((b4*473 + b6*196 + 128) >> 8);\r\n\t\t\tblock[0+i] = (b7 + y4 + 128) >> 8;\r\n\t\t\tblock[1+i] = (x4 + y3 + 128) >> 8;\r\n\t\t\tblock[2+i] = (y5 - x0 + 128) >> 8;\r\n\t\t\tblock[3+i] = (y6 - y7 + 128) >> 8;\r\n\t\t\tblock[4+i] = (y6 + y7 + 128) >> 8;\r\n\t\t\tblock[5+i] = (x0 + y5 + 128) >> 8;\r\n\t\t\tblock[6+i] = (y3 - x4 + 128) >> 8;\r\n\t\t\tblock[7+i] = (y4 - b7 + 128) >> 8;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\t// VLC Tables and Constants\r\n\r\n\tstatic PICTURE_RATE = [\r\n\t\t0.000, 23.976, 24.000, 25.000, 29.970, 30.000, 50.000, 59.940,\r\n\t\t60.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000\r\n\t];\r\n\r\n\tstatic ZIG_ZAG = new Uint8Array([\r\n\t\t0,  1,  8, 16,  9,  2,  3, 10,\r\n\t\t17, 24, 32, 25, 18, 11,  4,  5,\r\n\t\t12, 19, 26, 33, 40, 48, 41, 34,\r\n\t\t27, 20, 13,  6,  7, 14, 21, 28,\r\n\t\t35, 42, 49, 56, 57, 50, 43, 36,\r\n\t\t29, 22, 15, 23, 30, 37, 44, 51,\r\n\t\t58, 59, 52, 45, 38, 31, 39, 46,\r\n\t\t53, 60, 61, 54, 47, 55, 62, 63\r\n\t]);\r\n\r\n\tstatic DEFAULT_INTRA_QUANT_MATRIX = new Uint8Array([\r\n\t\t8, 16, 19, 22, 26, 27, 29, 34,\r\n\t\t16, 16, 22, 24, 27, 29, 34, 37,\r\n\t\t19, 22, 26, 27, 29, 34, 34, 38,\r\n\t\t22, 22, 26, 27, 29, 34, 37, 40,\r\n\t\t22, 26, 27, 29, 32, 35, 40, 48,\r\n\t\t26, 27, 29, 32, 35, 40, 48, 58,\r\n\t\t26, 27, 29, 34, 38, 46, 56, 69,\r\n\t\t27, 29, 35, 38, 46, 56, 69, 83\r\n\t]);\r\n\r\n\tstatic DEFAULT_NON_INTRA_QUANT_MATRIX = new Uint8Array([\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16,\r\n\t\t16, 16, 16, 16, 16, 16, 16, 16\r\n\t]);\r\n\r\n\tstatic PREMULTIPLIER_MATRIX = new Uint8Array([\r\n\t\t32, 44, 42, 38, 32, 25, 17,  9,\r\n\t\t44, 62, 58, 52, 44, 35, 24, 12,\r\n\t\t42, 58, 55, 49, 42, 33, 23, 12,\r\n\t\t38, 52, 49, 44, 38, 30, 20, 10,\r\n\t\t32, 44, 42, 38, 32, 25, 17,  9,\r\n\t\t25, 35, 33, 30, 25, 20, 14,  7,\r\n\t\t17, 24, 23, 20, 17, 14,  9,  5,\r\n\t\t9, 12, 12, 10,  9,  7,  5,  2\r\n\t]);\r\n\r\n\t// MPEG-1 VLC\r\n\r\n\t//  macroblock_stuffing decodes as 34.\r\n\t//  macroblock_escape decodes as 35.\r\n\r\n\tstatic MACROBLOCK_ADDRESS_INCREMENT = new Int16Array([\r\n\t\t1*3,  2*3,  0, //   0\r\n\t\t3*3,  4*3,  0, //   1  0\r\n\t\t0,    0,  1, //   2  1.\r\n\t\t5*3,  6*3,  0, //   3  00\r\n\t\t7*3,  8*3,  0, //   4  01\r\n\t\t9*3, 10*3,  0, //   5  000\r\n\t\t11*3, 12*3,  0, //   6  001\r\n\t\t0,    0,  3, //   7  010.\r\n\t\t0,    0,  2, //   8  011.\r\n\t\t13*3, 14*3,  0, //   9  0000\r\n\t\t15*3, 16*3,  0, //  10  0001\r\n\t\t0,    0,  5, //  11  0010.\r\n\t\t0,    0,  4, //  12  0011.\r\n\t\t17*3, 18*3,  0, //  13  0000 0\r\n\t\t19*3, 20*3,  0, //  14  0000 1\r\n\t\t0,    0,  7, //  15  0001 0.\r\n\t\t0,    0,  6, //  16  0001 1.\r\n\t\t21*3, 22*3,  0, //  17  0000 00\r\n\t\t23*3, 24*3,  0, //  18  0000 01\r\n\t\t25*3, 26*3,  0, //  19  0000 10\r\n\t\t27*3, 28*3,  0, //  20  0000 11\r\n\t\t-1, 29*3,  0, //  21  0000 000\r\n\t\t-1, 30*3,  0, //  22  0000 001\r\n\t\t31*3, 32*3,  0, //  23  0000 010\r\n\t\t33*3, 34*3,  0, //  24  0000 011\r\n\t\t35*3, 36*3,  0, //  25  0000 100\r\n\t\t37*3, 38*3,  0, //  26  0000 101\r\n\t\t0,    0,  9, //  27  0000 110.\r\n\t\t0,    0,  8, //  28  0000 111.\r\n\t\t39*3, 40*3,  0, //  29  0000 0001\r\n\t\t41*3, 42*3,  0, //  30  0000 0011\r\n\t\t43*3, 44*3,  0, //  31  0000 0100\r\n\t\t45*3, 46*3,  0, //  32  0000 0101\r\n\t\t0,    0, 15, //  33  0000 0110.\r\n\t\t0,    0, 14, //  34  0000 0111.\r\n\t\t0,    0, 13, //  35  0000 1000.\r\n\t\t0,    0, 12, //  36  0000 1001.\r\n\t\t0,    0, 11, //  37  0000 1010.\r\n\t\t0,    0, 10, //  38  0000 1011.\r\n\t\t47*3,   -1,  0, //  39  0000 0001 0\r\n\t\t-1, 48*3,  0, //  40  0000 0001 1\r\n\t\t49*3, 50*3,  0, //  41  0000 0011 0\r\n\t\t51*3, 52*3,  0, //  42  0000 0011 1\r\n\t\t53*3, 54*3,  0, //  43  0000 0100 0\r\n\t\t55*3, 56*3,  0, //  44  0000 0100 1\r\n\t\t57*3, 58*3,  0, //  45  0000 0101 0\r\n\t\t59*3, 60*3,  0, //  46  0000 0101 1\r\n\t\t61*3,   -1,  0, //  47  0000 0001 00\r\n\t\t-1, 62*3,  0, //  48  0000 0001 11\r\n\t\t63*3, 64*3,  0, //  49  0000 0011 00\r\n\t\t65*3, 66*3,  0, //  50  0000 0011 01\r\n\t\t67*3, 68*3,  0, //  51  0000 0011 10\r\n\t\t69*3, 70*3,  0, //  52  0000 0011 11\r\n\t\t71*3, 72*3,  0, //  53  0000 0100 00\r\n\t\t73*3, 74*3,  0, //  54  0000 0100 01\r\n\t\t0,    0, 21, //  55  0000 0100 10.\r\n\t\t0,    0, 20, //  56  0000 0100 11.\r\n\t\t0,    0, 19, //  57  0000 0101 00.\r\n\t\t0,    0, 18, //  58  0000 0101 01.\r\n\t\t0,    0, 17, //  59  0000 0101 10.\r\n\t\t0,    0, 16, //  60  0000 0101 11.\r\n\t\t0,    0, 35, //  61  0000 0001 000. -- macroblock_escape\r\n\t\t0,    0, 34, //  62  0000 0001 111. -- macroblock_stuffing\r\n\t\t0,    0, 33, //  63  0000 0011 000.\r\n\t\t0,    0, 32, //  64  0000 0011 001.\r\n\t\t0,    0, 31, //  65  0000 0011 010.\r\n\t\t0,    0, 30, //  66  0000 0011 011.\r\n\t\t0,    0, 29, //  67  0000 0011 100.\r\n\t\t0,    0, 28, //  68  0000 0011 101.\r\n\t\t0,    0, 27, //  69  0000 0011 110.\r\n\t\t0,    0, 26, //  70  0000 0011 111.\r\n\t\t0,    0, 25, //  71  0000 0100 000.\r\n\t\t0,    0, 24, //  72  0000 0100 001.\r\n\t\t0,    0, 23, //  73  0000 0100 010.\r\n\t\t0,    0, 22  //  74  0000 0100 011.\r\n\t]);\r\n\r\n\t//  macroblock_type bitmap:\r\n\t//    0x10  macroblock_quant\r\n\t//    0x08  macroblock_motion_forward\r\n\t//    0x04  macroblock_motion_backward\r\n\t//    0x02  macrobkock_pattern\r\n\t//    0x01  macroblock_intra\r\n\t//\r\n\r\n\tstatic MACROBLOCK_TYPE_INTRA = new Int8Array([\r\n\t\t1*3,  2*3,     0, //   0\r\n\t\t-1,  3*3,     0, //   1  0\r\n\t\t0,    0,  0x01, //   2  1.\r\n\t\t0,    0,  0x11  //   3  01.\r\n\t]);\r\n\r\n\tstatic MACROBLOCK_TYPE_PREDICTIVE = new Int8Array([\r\n\t\t1*3,  2*3,     0, //  0\r\n\t\t3*3,  4*3,     0, //  1  0\r\n\t\t0,    0,  0x0a, //  2  1.\r\n\t\t5*3,  6*3,     0, //  3  00\r\n\t\t0,    0,  0x02, //  4  01.\r\n\t\t7*3,  8*3,     0, //  5  000\r\n\t\t0,    0,  0x08, //  6  001.\r\n\t\t9*3, 10*3,     0, //  7  0000\r\n\t\t11*3, 12*3,     0, //  8  0001\r\n\t\t-1, 13*3,     0, //  9  00000\r\n\t\t0,    0,  0x12, // 10  00001.\r\n\t\t0,    0,  0x1a, // 11  00010.\r\n\t\t0,    0,  0x01, // 12  00011.\r\n\t\t0,    0,  0x11  // 13  000001.\r\n\t]);\r\n\r\n\tstatic MACROBLOCK_TYPE_B = new Int8Array([\r\n\t\t1*3,  2*3,     0,  //  0\r\n\t\t3*3,  5*3,     0,  //  1  0\r\n\t\t4*3,  6*3,     0,  //  2  1\r\n\t\t8*3,  7*3,     0,  //  3  00\r\n\t\t0,    0,  0x0c,  //  4  10.\r\n\t\t9*3, 10*3,     0,  //  5  01\r\n\t\t0,    0,  0x0e,  //  6  11.\r\n\t\t13*3, 14*3,     0,  //  7  001\r\n\t\t12*3, 11*3,     0,  //  8  000\r\n\t\t0,    0,  0x04,  //  9  010.\r\n\t\t0,    0,  0x06,  // 10  011.\r\n\t\t18*3, 16*3,     0,  // 11  0001\r\n\t\t15*3, 17*3,     0,  // 12  0000\r\n\t\t0,    0,  0x08,  // 13  0010.\r\n\t\t0,    0,  0x0a,  // 14  0011.\r\n\t\t-1, 19*3,     0,  // 15  00000\r\n\t\t0,    0,  0x01,  // 16  00011.\r\n\t\t20*3, 21*3,     0,  // 17  00001\r\n\t\t0,    0,  0x1e,  // 18  00010.\r\n\t\t0,    0,  0x11,  // 19  000001.\r\n\t\t0,    0,  0x16,  // 20  000010.\r\n\t\t0,    0,  0x1a   // 21  000011.\r\n\t]);\r\n\r\n\tstatic MACROBLOCK_TYPE = [\r\n\t\tnull,\r\n\t\tMPEG1.MACROBLOCK_TYPE_INTRA,\r\n\t\tMPEG1.MACROBLOCK_TYPE_PREDICTIVE,\r\n\t\tMPEG1.MACROBLOCK_TYPE_B\r\n\t];\r\n\r\n\tstatic CODE_BLOCK_PATTERN = new Int16Array([\r\n\t\t2*3,   1*3,   0,  //   0\r\n\t\t3*3,   6*3,   0,  //   1  1\r\n\t\t4*3,   5*3,   0,  //   2  0\r\n\t\t8*3,  11*3,   0,  //   3  10\r\n\t\t12*3,  13*3,   0,  //   4  00\r\n\t\t9*3,   7*3,   0,  //   5  01\r\n\t\t10*3,  14*3,   0,  //   6  11\r\n\t\t20*3,  19*3,   0,  //   7  011\r\n\t\t18*3,  16*3,   0,  //   8  100\r\n\t\t23*3,  17*3,   0,  //   9  010\r\n\t\t27*3,  25*3,   0,  //  10  110\r\n\t\t21*3,  28*3,   0,  //  11  101\r\n\t\t15*3,  22*3,   0,  //  12  000\r\n\t\t24*3,  26*3,   0,  //  13  001\r\n\t\t\t0,     0,  60,  //  14  111.\r\n\t\t35*3,  40*3,   0,  //  15  0000\r\n\t\t44*3,  48*3,   0,  //  16  1001\r\n\t\t38*3,  36*3,   0,  //  17  0101\r\n\t\t42*3,  47*3,   0,  //  18  1000\r\n\t\t29*3,  31*3,   0,  //  19  0111\r\n\t\t39*3,  32*3,   0,  //  20  0110\r\n\t\t\t0,     0,  32,  //  21  1010.\r\n\t\t45*3,  46*3,   0,  //  22  0001\r\n\t\t33*3,  41*3,   0,  //  23  0100\r\n\t\t43*3,  34*3,   0,  //  24  0010\r\n\t\t\t0,     0,   4,  //  25  1101.\r\n\t\t30*3,  37*3,   0,  //  26  0011\r\n\t\t\t0,     0,   8,  //  27  1100.\r\n\t\t\t0,     0,  16,  //  28  1011.\r\n\t\t\t0,     0,  44,  //  29  0111 0.\r\n\t\t50*3,  56*3,   0,  //  30  0011 0\r\n\t\t\t0,     0,  28,  //  31  0111 1.\r\n\t\t\t0,     0,  52,  //  32  0110 1.\r\n\t\t\t0,     0,  62,  //  33  0100 0.\r\n\t\t61*3,  59*3,   0,  //  34  0010 1\r\n\t\t52*3,  60*3,   0,  //  35  0000 0\r\n\t\t\t0,     0,   1,  //  36  0101 1.\r\n\t\t55*3,  54*3,   0,  //  37  0011 1\r\n\t\t\t0,     0,  61,  //  38  0101 0.\r\n\t\t\t0,     0,  56,  //  39  0110 0.\r\n\t\t57*3,  58*3,   0,  //  40  0000 1\r\n\t\t\t0,     0,   2,  //  41  0100 1.\r\n\t\t\t0,     0,  40,  //  42  1000 0.\r\n\t\t51*3,  62*3,   0,  //  43  0010 0\r\n\t\t\t0,     0,  48,  //  44  1001 0.\r\n\t\t64*3,  63*3,   0,  //  45  0001 0\r\n\t\t49*3,  53*3,   0,  //  46  0001 1\r\n\t\t\t0,     0,  20,  //  47  1000 1.\r\n\t\t\t0,     0,  12,  //  48  1001 1.\r\n\t\t80*3,  83*3,   0,  //  49  0001 10\r\n\t\t\t0,     0,  63,  //  50  0011 00.\r\n\t\t77*3,  75*3,   0,  //  51  0010 00\r\n\t\t65*3,  73*3,   0,  //  52  0000 00\r\n\t\t84*3,  66*3,   0,  //  53  0001 11\r\n\t\t\t0,     0,  24,  //  54  0011 11.\r\n\t\t\t0,     0,  36,  //  55  0011 10.\r\n\t\t\t0,     0,   3,  //  56  0011 01.\r\n\t\t69*3,  87*3,   0,  //  57  0000 10\r\n\t\t81*3,  79*3,   0,  //  58  0000 11\r\n\t\t68*3,  71*3,   0,  //  59  0010 11\r\n\t\t70*3,  78*3,   0,  //  60  0000 01\r\n\t\t67*3,  76*3,   0,  //  61  0010 10\r\n\t\t72*3,  74*3,   0,  //  62  0010 01\r\n\t\t86*3,  85*3,   0,  //  63  0001 01\r\n\t\t88*3,  82*3,   0,  //  64  0001 00\r\n\t\t-1,  94*3,   0,  //  65  0000 000\r\n\t\t95*3,  97*3,   0,  //  66  0001 111\r\n\t\t\t0,     0,  33,  //  67  0010 100.\r\n\t\t\t0,     0,   9,  //  68  0010 110.\r\n\t\t106*3, 110*3,   0,  //  69  0000 100\r\n\t\t102*3, 116*3,   0,  //  70  0000 010\r\n\t\t\t0,     0,   5,  //  71  0010 111.\r\n\t\t\t0,     0,  10,  //  72  0010 010.\r\n\t\t93*3,  89*3,   0,  //  73  0000 001\r\n\t\t\t0,     0,   6,  //  74  0010 011.\r\n\t\t\t0,     0,  18,  //  75  0010 001.\r\n\t\t\t0,     0,  17,  //  76  0010 101.\r\n\t\t\t0,     0,  34,  //  77  0010 000.\r\n\t\t113*3, 119*3,   0,  //  78  0000 011\r\n\t\t103*3, 104*3,   0,  //  79  0000 111\r\n\t\t90*3,  92*3,   0,  //  80  0001 100\r\n\t\t109*3, 107*3,   0,  //  81  0000 110\r\n\t\t117*3, 118*3,   0,  //  82  0001 001\r\n\t\t101*3,  99*3,   0,  //  83  0001 101\r\n\t\t98*3,  96*3,   0,  //  84  0001 110\r\n\t\t100*3,  91*3,   0,  //  85  0001 011\r\n\t\t114*3, 115*3,   0,  //  86  0001 010\r\n\t\t105*3, 108*3,   0,  //  87  0000 101\r\n\t\t112*3, 111*3,   0,  //  88  0001 000\r\n\t\t121*3, 125*3,   0,  //  89  0000 0011\r\n\t\t\t0,     0,  41,  //  90  0001 1000.\r\n\t\t\t0,     0,  14,  //  91  0001 0111.\r\n\t\t\t0,     0,  21,  //  92  0001 1001.\r\n\t\t124*3, 122*3,   0,  //  93  0000 0010\r\n\t\t120*3, 123*3,   0,  //  94  0000 0001\r\n\t\t\t0,     0,  11,  //  95  0001 1110.\r\n\t\t\t0,     0,  19,  //  96  0001 1101.\r\n\t\t\t0,     0,   7,  //  97  0001 1111.\r\n\t\t\t0,     0,  35,  //  98  0001 1100.\r\n\t\t\t0,     0,  13,  //  99  0001 1011.\r\n\t\t\t0,     0,  50,  // 100  0001 0110.\r\n\t\t\t0,     0,  49,  // 101  0001 1010.\r\n\t\t\t0,     0,  58,  // 102  0000 0100.\r\n\t\t\t0,     0,  37,  // 103  0000 1110.\r\n\t\t\t0,     0,  25,  // 104  0000 1111.\r\n\t\t\t0,     0,  45,  // 105  0000 1010.\r\n\t\t\t0,     0,  57,  // 106  0000 1000.\r\n\t\t\t0,     0,  26,  // 107  0000 1101.\r\n\t\t\t0,     0,  29,  // 108  0000 1011.\r\n\t\t\t0,     0,  38,  // 109  0000 1100.\r\n\t\t\t0,     0,  53,  // 110  0000 1001.\r\n\t\t\t0,     0,  23,  // 111  0001 0001.\r\n\t\t\t0,     0,  43,  // 112  0001 0000.\r\n\t\t\t0,     0,  46,  // 113  0000 0110.\r\n\t\t\t0,     0,  42,  // 114  0001 0100.\r\n\t\t\t0,     0,  22,  // 115  0001 0101.\r\n\t\t\t0,     0,  54,  // 116  0000 0101.\r\n\t\t\t0,     0,  51,  // 117  0001 0010.\r\n\t\t\t0,     0,  15,  // 118  0001 0011.\r\n\t\t\t0,     0,  30,  // 119  0000 0111.\r\n\t\t\t0,     0,  39,  // 120  0000 0001 0.\r\n\t\t\t0,     0,  47,  // 121  0000 0011 0.\r\n\t\t\t0,     0,  55,  // 122  0000 0010 1.\r\n\t\t\t0,     0,  27,  // 123  0000 0001 1.\r\n\t\t\t0,     0,  59,  // 124  0000 0010 0.\r\n\t\t\t0,     0,  31   // 125  0000 0011 1.\r\n\t]);\r\n\r\n\tstatic MOTION = new Int16Array([\r\n\t\t1*3,   2*3,   0,  //   0\r\n\t\t4*3,   3*3,   0,  //   1  0\r\n\t\t\t0,     0,   0,  //   2  1.\r\n\t\t6*3,   5*3,   0,  //   3  01\r\n\t\t8*3,   7*3,   0,  //   4  00\r\n\t\t\t0,     0,  -1,  //   5  011.\r\n\t\t\t0,     0,   1,  //   6  010.\r\n\t\t9*3,  10*3,   0,  //   7  001\r\n\t\t12*3,  11*3,   0,  //   8  000\r\n\t\t\t0,     0,   2,  //   9  0010.\r\n\t\t\t0,     0,  -2,  //  10  0011.\r\n\t\t14*3,  15*3,   0,  //  11  0001\r\n\t\t16*3,  13*3,   0,  //  12  0000\r\n\t\t20*3,  18*3,   0,  //  13  0000 1\r\n\t\t\t0,     0,   3,  //  14  0001 0.\r\n\t\t\t0,     0,  -3,  //  15  0001 1.\r\n\t\t17*3,  19*3,   0,  //  16  0000 0\r\n\t\t-1,  23*3,   0,  //  17  0000 00\r\n\t\t27*3,  25*3,   0,  //  18  0000 11\r\n\t\t26*3,  21*3,   0,  //  19  0000 01\r\n\t\t24*3,  22*3,   0,  //  20  0000 10\r\n\t\t32*3,  28*3,   0,  //  21  0000 011\r\n\t\t29*3,  31*3,   0,  //  22  0000 101\r\n\t\t-1,  33*3,   0,  //  23  0000 001\r\n\t\t36*3,  35*3,   0,  //  24  0000 100\r\n\t\t\t0,     0,  -4,  //  25  0000 111.\r\n\t\t30*3,  34*3,   0,  //  26  0000 010\r\n\t\t\t0,     0,   4,  //  27  0000 110.\r\n\t\t\t0,     0,  -7,  //  28  0000 0111.\r\n\t\t\t0,     0,   5,  //  29  0000 1010.\r\n\t\t37*3,  41*3,   0,  //  30  0000 0100\r\n\t\t\t0,     0,  -5,  //  31  0000 1011.\r\n\t\t\t0,     0,   7,  //  32  0000 0110.\r\n\t\t38*3,  40*3,   0,  //  33  0000 0011\r\n\t\t42*3,  39*3,   0,  //  34  0000 0101\r\n\t\t\t0,     0,  -6,  //  35  0000 1001.\r\n\t\t\t0,     0,   6,  //  36  0000 1000.\r\n\t\t51*3,  54*3,   0,  //  37  0000 0100 0\r\n\t\t50*3,  49*3,   0,  //  38  0000 0011 0\r\n\t\t45*3,  46*3,   0,  //  39  0000 0101 1\r\n\t\t52*3,  47*3,   0,  //  40  0000 0011 1\r\n\t\t43*3,  53*3,   0,  //  41  0000 0100 1\r\n\t\t44*3,  48*3,   0,  //  42  0000 0101 0\r\n\t\t\t0,     0,  10,  //  43  0000 0100 10.\r\n\t\t\t0,     0,   9,  //  44  0000 0101 00.\r\n\t\t\t0,     0,   8,  //  45  0000 0101 10.\r\n\t\t\t0,     0,  -8,  //  46  0000 0101 11.\r\n\t\t57*3,  66*3,   0,  //  47  0000 0011 11\r\n\t\t\t0,     0,  -9,  //  48  0000 0101 01.\r\n\t\t60*3,  64*3,   0,  //  49  0000 0011 01\r\n\t\t56*3,  61*3,   0,  //  50  0000 0011 00\r\n\t\t55*3,  62*3,   0,  //  51  0000 0100 00\r\n\t\t58*3,  63*3,   0,  //  52  0000 0011 10\r\n\t\t\t0,     0, -10,  //  53  0000 0100 11.\r\n\t\t59*3,  65*3,   0,  //  54  0000 0100 01\r\n\t\t\t0,     0,  12,  //  55  0000 0100 000.\r\n\t\t\t0,     0,  16,  //  56  0000 0011 000.\r\n\t\t\t0,     0,  13,  //  57  0000 0011 110.\r\n\t\t\t0,     0,  14,  //  58  0000 0011 100.\r\n\t\t\t0,     0,  11,  //  59  0000 0100 010.\r\n\t\t\t0,     0,  15,  //  60  0000 0011 010.\r\n\t\t\t0,     0, -16,  //  61  0000 0011 001.\r\n\t\t\t0,     0, -12,  //  62  0000 0100 001.\r\n\t\t\t0,     0, -14,  //  63  0000 0011 101.\r\n\t\t\t0,     0, -15,  //  64  0000 0011 011.\r\n\t\t\t0,     0, -11,  //  65  0000 0100 011.\r\n\t\t\t0,     0, -13   //  66  0000 0011 111.\r\n\t]);\r\n\r\n\tstatic DCT_DC_SIZE_LUMINANCE = new Int8Array([\r\n\t\t2*3,   1*3, 0,  //   0\r\n\t\t6*3,   5*3, 0,  //   1  1\r\n\t\t3*3,   4*3, 0,  //   2  0\r\n\t\t\t0,     0, 1,  //   3  00.\r\n\t\t\t0,     0, 2,  //   4  01.\r\n\t\t9*3,   8*3, 0,  //   5  11\r\n\t\t7*3,  10*3, 0,  //   6  10\r\n\t\t\t0,     0, 0,  //   7  100.\r\n\t\t12*3,  11*3, 0,  //   8  111\r\n\t\t\t0,     0, 4,  //   9  110.\r\n\t\t\t0,     0, 3,  //  10  101.\r\n\t\t13*3,  14*3, 0,  //  11  1111\r\n\t\t\t0,     0, 5,  //  12  1110.\r\n\t\t\t0,     0, 6,  //  13  1111 0.\r\n\t\t16*3,  15*3, 0,  //  14  1111 1\r\n\t\t17*3,    -1, 0,  //  15  1111 11\r\n\t\t\t0,     0, 7,  //  16  1111 10.\r\n\t\t\t0,     0, 8   //  17  1111 110.\r\n\t]);\r\n\r\n\tstatic DCT_DC_SIZE_CHROMINANCE = new Int8Array([\r\n\t\t2*3,   1*3, 0,  //   0\r\n\t\t4*3,   3*3, 0,  //   1  1\r\n\t\t6*3,   5*3, 0,  //   2  0\r\n\t\t8*3,   7*3, 0,  //   3  11\r\n\t\t\t0,     0, 2,  //   4  10.\r\n\t\t\t0,     0, 1,  //   5  01.\r\n\t\t\t0,     0, 0,  //   6  00.\r\n\t\t10*3,   9*3, 0,  //   7  111\r\n\t\t\t0,     0, 3,  //   8  110.\r\n\t\t12*3,  11*3, 0,  //   9  1111\r\n\t\t\t0,     0, 4,  //  10  1110.\r\n\t\t14*3,  13*3, 0,  //  11  1111 1\r\n\t\t\t0,     0, 5,  //  12  1111 0.\r\n\t\t16*3,  15*3, 0,  //  13  1111 11\r\n\t\t\t0,     0, 6,  //  14  1111 10.\r\n\t\t17*3,    -1, 0,  //  15  1111 111\r\n\t\t\t0,     0, 7,  //  16  1111 110.\r\n\t\t\t0,     0, 8   //  17  1111 1110.\r\n\t]);\r\n\r\n\t//  dct_coeff bitmap:\r\n\t//    0xff00  run\r\n\t//    0x00ff  level\r\n\r\n\t//  Decoded values are unsigned. Sign bit follows in the stream.\r\n\r\n\t//  Interpretation of the value 0x0001\r\n\t//    for dc_coeff_first:  run=0, level=1\r\n\t//    for dc_coeff_next:   If the next bit is 1: run=0, level=1\r\n\t//                         If the next bit is 0: end_of_block\r\n\r\n\t//  escape decodes as 0xffff.\r\n\r\n\tstatic DCT_COEFF = new Int32Array([\r\n\t\t1*3,   2*3,      0,  //   0\r\n\t\t4*3,   3*3,      0,  //   1  0\r\n\t\t\t0,     0, 0x0001,  //   2  1.\r\n\t\t7*3,   8*3,      0,  //   3  01\r\n\t\t6*3,   5*3,      0,  //   4  00\r\n\t\t13*3,   9*3,      0,  //   5  001\r\n\t\t11*3,  10*3,      0,  //   6  000\r\n\t\t14*3,  12*3,      0,  //   7  010\r\n\t\t\t0,     0, 0x0101,  //   8  011.\r\n\t\t20*3,  22*3,      0,  //   9  0011\r\n\t\t18*3,  21*3,      0,  //  10  0001\r\n\t\t16*3,  19*3,      0,  //  11  0000\r\n\t\t\t0,     0, 0x0201,  //  12  0101.\r\n\t\t17*3,  15*3,      0,  //  13  0010\r\n\t\t\t0,     0, 0x0002,  //  14  0100.\r\n\t\t\t0,     0, 0x0003,  //  15  0010 1.\r\n\t\t27*3,  25*3,      0,  //  16  0000 0\r\n\t\t29*3,  31*3,      0,  //  17  0010 0\r\n\t\t24*3,  26*3,      0,  //  18  0001 0\r\n\t\t32*3,  30*3,      0,  //  19  0000 1\r\n\t\t\t0,     0, 0x0401,  //  20  0011 0.\r\n\t\t23*3,  28*3,      0,  //  21  0001 1\r\n\t\t\t0,     0, 0x0301,  //  22  0011 1.\r\n\t\t\t0,     0, 0x0102,  //  23  0001 10.\r\n\t\t\t0,     0, 0x0701,  //  24  0001 00.\r\n\t\t\t0,     0, 0xffff,  //  25  0000 01. -- escape\r\n\t\t\t0,     0, 0x0601,  //  26  0001 01.\r\n\t\t37*3,  36*3,      0,  //  27  0000 00\r\n\t\t\t0,     0, 0x0501,  //  28  0001 11.\r\n\t\t35*3,  34*3,      0,  //  29  0010 00\r\n\t\t39*3,  38*3,      0,  //  30  0000 11\r\n\t\t33*3,  42*3,      0,  //  31  0010 01\r\n\t\t40*3,  41*3,      0,  //  32  0000 10\r\n\t\t52*3,  50*3,      0,  //  33  0010 010\r\n\t\t54*3,  53*3,      0,  //  34  0010 001\r\n\t\t48*3,  49*3,      0,  //  35  0010 000\r\n\t\t43*3,  45*3,      0,  //  36  0000 001\r\n\t\t46*3,  44*3,      0,  //  37  0000 000\r\n\t\t\t0,     0, 0x0801,  //  38  0000 111.\r\n\t\t\t0,     0, 0x0004,  //  39  0000 110.\r\n\t\t\t0,     0, 0x0202,  //  40  0000 100.\r\n\t\t\t0,     0, 0x0901,  //  41  0000 101.\r\n\t\t51*3,  47*3,      0,  //  42  0010 011\r\n\t\t55*3,  57*3,      0,  //  43  0000 0010\r\n\t\t60*3,  56*3,      0,  //  44  0000 0001\r\n\t\t59*3,  58*3,      0,  //  45  0000 0011\r\n\t\t61*3,  62*3,      0,  //  46  0000 0000\r\n\t\t\t0,     0, 0x0a01,  //  47  0010 0111.\r\n\t\t\t0,     0, 0x0d01,  //  48  0010 0000.\r\n\t\t\t0,     0, 0x0006,  //  49  0010 0001.\r\n\t\t\t0,     0, 0x0103,  //  50  0010 0101.\r\n\t\t\t0,     0, 0x0005,  //  51  0010 0110.\r\n\t\t\t0,     0, 0x0302,  //  52  0010 0100.\r\n\t\t\t0,     0, 0x0b01,  //  53  0010 0011.\r\n\t\t\t0,     0, 0x0c01,  //  54  0010 0010.\r\n\t\t76*3,  75*3,      0,  //  55  0000 0010 0\r\n\t\t67*3,  70*3,      0,  //  56  0000 0001 1\r\n\t\t73*3,  71*3,      0,  //  57  0000 0010 1\r\n\t\t78*3,  74*3,      0,  //  58  0000 0011 1\r\n\t\t72*3,  77*3,      0,  //  59  0000 0011 0\r\n\t\t69*3,  64*3,      0,  //  60  0000 0001 0\r\n\t\t68*3,  63*3,      0,  //  61  0000 0000 0\r\n\t\t66*3,  65*3,      0,  //  62  0000 0000 1\r\n\t\t81*3,  87*3,      0,  //  63  0000 0000 01\r\n\t\t91*3,  80*3,      0,  //  64  0000 0001 01\r\n\t\t82*3,  79*3,      0,  //  65  0000 0000 11\r\n\t\t83*3,  86*3,      0,  //  66  0000 0000 10\r\n\t\t93*3,  92*3,      0,  //  67  0000 0001 10\r\n\t\t84*3,  85*3,      0,  //  68  0000 0000 00\r\n\t\t90*3,  94*3,      0,  //  69  0000 0001 00\r\n\t\t88*3,  89*3,      0,  //  70  0000 0001 11\r\n\t\t\t0,     0, 0x0203,  //  71  0000 0010 11.\r\n\t\t\t0,     0, 0x0104,  //  72  0000 0011 00.\r\n\t\t\t0,     0, 0x0007,  //  73  0000 0010 10.\r\n\t\t\t0,     0, 0x0402,  //  74  0000 0011 11.\r\n\t\t\t0,     0, 0x0502,  //  75  0000 0010 01.\r\n\t\t\t0,     0, 0x1001,  //  76  0000 0010 00.\r\n\t\t\t0,     0, 0x0f01,  //  77  0000 0011 01.\r\n\t\t\t0,     0, 0x0e01,  //  78  0000 0011 10.\r\n\t\t105*3, 107*3,      0,  //  79  0000 0000 111\r\n\t\t111*3, 114*3,      0,  //  80  0000 0001 011\r\n\t\t104*3,  97*3,      0,  //  81  0000 0000 010\r\n\t\t125*3, 119*3,      0,  //  82  0000 0000 110\r\n\t\t96*3,  98*3,      0,  //  83  0000 0000 100\r\n\t\t-1, 123*3,      0,  //  84  0000 0000 000\r\n\t\t95*3, 101*3,      0,  //  85  0000 0000 001\r\n\t\t106*3, 121*3,      0,  //  86  0000 0000 101\r\n\t\t99*3, 102*3,      0,  //  87  0000 0000 011\r\n\t\t113*3, 103*3,      0,  //  88  0000 0001 110\r\n\t\t112*3, 116*3,      0,  //  89  0000 0001 111\r\n\t\t110*3, 100*3,      0,  //  90  0000 0001 000\r\n\t\t124*3, 115*3,      0,  //  91  0000 0001 010\r\n\t\t117*3, 122*3,      0,  //  92  0000 0001 101\r\n\t\t109*3, 118*3,      0,  //  93  0000 0001 100\r\n\t\t120*3, 108*3,      0,  //  94  0000 0001 001\r\n\t\t127*3, 136*3,      0,  //  95  0000 0000 0010\r\n\t\t139*3, 140*3,      0,  //  96  0000 0000 1000\r\n\t\t130*3, 126*3,      0,  //  97  0000 0000 0101\r\n\t\t145*3, 146*3,      0,  //  98  0000 0000 1001\r\n\t\t128*3, 129*3,      0,  //  99  0000 0000 0110\r\n\t\t\t0,     0, 0x0802,  // 100  0000 0001 0001.\r\n\t\t132*3, 134*3,      0,  // 101  0000 0000 0011\r\n\t\t155*3, 154*3,      0,  // 102  0000 0000 0111\r\n\t\t\t0,     0, 0x0008,  // 103  0000 0001 1101.\r\n\t\t137*3, 133*3,      0,  // 104  0000 0000 0100\r\n\t\t143*3, 144*3,      0,  // 105  0000 0000 1110\r\n\t\t151*3, 138*3,      0,  // 106  0000 0000 1010\r\n\t\t142*3, 141*3,      0,  // 107  0000 0000 1111\r\n\t\t\t0,     0, 0x000a,  // 108  0000 0001 0011.\r\n\t\t\t0,     0, 0x0009,  // 109  0000 0001 1000.\r\n\t\t\t0,     0, 0x000b,  // 110  0000 0001 0000.\r\n\t\t\t0,     0, 0x1501,  // 111  0000 0001 0110.\r\n\t\t\t0,     0, 0x0602,  // 112  0000 0001 1110.\r\n\t\t\t0,     0, 0x0303,  // 113  0000 0001 1100.\r\n\t\t\t0,     0, 0x1401,  // 114  0000 0001 0111.\r\n\t\t\t0,     0, 0x0702,  // 115  0000 0001 0101.\r\n\t\t\t0,     0, 0x1101,  // 116  0000 0001 1111.\r\n\t\t\t0,     0, 0x1201,  // 117  0000 0001 1010.\r\n\t\t\t0,     0, 0x1301,  // 118  0000 0001 1001.\r\n\t\t148*3, 152*3,      0,  // 119  0000 0000 1101\r\n\t\t\t0,     0, 0x0403,  // 120  0000 0001 0010.\r\n\t\t153*3, 150*3,      0,  // 121  0000 0000 1011\r\n\t\t\t0,     0, 0x0105,  // 122  0000 0001 1011.\r\n\t\t131*3, 135*3,      0,  // 123  0000 0000 0001\r\n\t\t\t0,     0, 0x0204,  // 124  0000 0001 0100.\r\n\t\t149*3, 147*3,      0,  // 125  0000 0000 1100\r\n\t\t172*3, 173*3,      0,  // 126  0000 0000 0101 1\r\n\t\t162*3, 158*3,      0,  // 127  0000 0000 0010 0\r\n\t\t170*3, 161*3,      0,  // 128  0000 0000 0110 0\r\n\t\t168*3, 166*3,      0,  // 129  0000 0000 0110 1\r\n\t\t157*3, 179*3,      0,  // 130  0000 0000 0101 0\r\n\t\t169*3, 167*3,      0,  // 131  0000 0000 0001 0\r\n\t\t174*3, 171*3,      0,  // 132  0000 0000 0011 0\r\n\t\t178*3, 177*3,      0,  // 133  0000 0000 0100 1\r\n\t\t156*3, 159*3,      0,  // 134  0000 0000 0011 1\r\n\t\t164*3, 165*3,      0,  // 135  0000 0000 0001 1\r\n\t\t183*3, 182*3,      0,  // 136  0000 0000 0010 1\r\n\t\t175*3, 176*3,      0,  // 137  0000 0000 0100 0\r\n\t\t\t0,     0, 0x0107,  // 138  0000 0000 1010 1.\r\n\t\t\t0,     0, 0x0a02,  // 139  0000 0000 1000 0.\r\n\t\t\t0,     0, 0x0902,  // 140  0000 0000 1000 1.\r\n\t\t\t0,     0, 0x1601,  // 141  0000 0000 1111 1.\r\n\t\t\t0,     0, 0x1701,  // 142  0000 0000 1111 0.\r\n\t\t\t0,     0, 0x1901,  // 143  0000 0000 1110 0.\r\n\t\t\t0,     0, 0x1801,  // 144  0000 0000 1110 1.\r\n\t\t\t0,     0, 0x0503,  // 145  0000 0000 1001 0.\r\n\t\t\t0,     0, 0x0304,  // 146  0000 0000 1001 1.\r\n\t\t\t0,     0, 0x000d,  // 147  0000 0000 1100 1.\r\n\t\t\t0,     0, 0x000c,  // 148  0000 0000 1101 0.\r\n\t\t\t0,     0, 0x000e,  // 149  0000 0000 1100 0.\r\n\t\t\t0,     0, 0x000f,  // 150  0000 0000 1011 1.\r\n\t\t\t0,     0, 0x0205,  // 151  0000 0000 1010 0.\r\n\t\t\t0,     0, 0x1a01,  // 152  0000 0000 1101 1.\r\n\t\t\t0,     0, 0x0106,  // 153  0000 0000 1011 0.\r\n\t\t180*3, 181*3,      0,  // 154  0000 0000 0111 1\r\n\t\t160*3, 163*3,      0,  // 155  0000 0000 0111 0\r\n\t\t196*3, 199*3,      0,  // 156  0000 0000 0011 10\r\n\t\t\t0,     0, 0x001b,  // 157  0000 0000 0101 00.\r\n\t\t203*3, 185*3,      0,  // 158  0000 0000 0010 01\r\n\t\t202*3, 201*3,      0,  // 159  0000 0000 0011 11\r\n\t\t\t0,     0, 0x0013,  // 160  0000 0000 0111 00.\r\n\t\t\t0,     0, 0x0016,  // 161  0000 0000 0110 01.\r\n\t\t197*3, 207*3,      0,  // 162  0000 0000 0010 00\r\n\t\t\t0,     0, 0x0012,  // 163  0000 0000 0111 01.\r\n\t\t191*3, 192*3,      0,  // 164  0000 0000 0001 10\r\n\t\t188*3, 190*3,      0,  // 165  0000 0000 0001 11\r\n\t\t\t0,     0, 0x0014,  // 166  0000 0000 0110 11.\r\n\t\t184*3, 194*3,      0,  // 167  0000 0000 0001 01\r\n\t\t\t0,     0, 0x0015,  // 168  0000 0000 0110 10.\r\n\t\t186*3, 193*3,      0,  // 169  0000 0000 0001 00\r\n\t\t\t0,     0, 0x0017,  // 170  0000 0000 0110 00.\r\n\t\t204*3, 198*3,      0,  // 171  0000 0000 0011 01\r\n\t\t\t0,     0, 0x0019,  // 172  0000 0000 0101 10.\r\n\t\t\t0,     0, 0x0018,  // 173  0000 0000 0101 11.\r\n\t\t200*3, 205*3,      0,  // 174  0000 0000 0011 00\r\n\t\t\t0,     0, 0x001f,  // 175  0000 0000 0100 00.\r\n\t\t\t0,     0, 0x001e,  // 176  0000 0000 0100 01.\r\n\t\t\t0,     0, 0x001c,  // 177  0000 0000 0100 11.\r\n\t\t\t0,     0, 0x001d,  // 178  0000 0000 0100 10.\r\n\t\t\t0,     0, 0x001a,  // 179  0000 0000 0101 01.\r\n\t\t\t0,     0, 0x0011,  // 180  0000 0000 0111 10.\r\n\t\t\t0,     0, 0x0010,  // 181  0000 0000 0111 11.\r\n\t\t189*3, 206*3,      0,  // 182  0000 0000 0010 11\r\n\t\t187*3, 195*3,      0,  // 183  0000 0000 0010 10\r\n\t\t218*3, 211*3,      0,  // 184  0000 0000 0001 010\r\n\t\t\t0,     0, 0x0025,  // 185  0000 0000 0010 011.\r\n\t\t215*3, 216*3,      0,  // 186  0000 0000 0001 000\r\n\t\t\t0,     0, 0x0024,  // 187  0000 0000 0010 100.\r\n\t\t210*3, 212*3,      0,  // 188  0000 0000 0001 110\r\n\t\t\t0,     0, 0x0022,  // 189  0000 0000 0010 110.\r\n\t\t213*3, 209*3,      0,  // 190  0000 0000 0001 111\r\n\t\t221*3, 222*3,      0,  // 191  0000 0000 0001 100\r\n\t\t219*3, 208*3,      0,  // 192  0000 0000 0001 101\r\n\t\t217*3, 214*3,      0,  // 193  0000 0000 0001 001\r\n\t\t223*3, 220*3,      0,  // 194  0000 0000 0001 011\r\n\t\t\t0,     0, 0x0023,  // 195  0000 0000 0010 101.\r\n\t\t\t0,     0, 0x010b,  // 196  0000 0000 0011 100.\r\n\t\t\t0,     0, 0x0028,  // 197  0000 0000 0010 000.\r\n\t\t\t0,     0, 0x010c,  // 198  0000 0000 0011 011.\r\n\t\t\t0,     0, 0x010a,  // 199  0000 0000 0011 101.\r\n\t\t\t0,     0, 0x0020,  // 200  0000 0000 0011 000.\r\n\t\t\t0,     0, 0x0108,  // 201  0000 0000 0011 111.\r\n\t\t\t0,     0, 0x0109,  // 202  0000 0000 0011 110.\r\n\t\t\t0,     0, 0x0026,  // 203  0000 0000 0010 010.\r\n\t\t\t0,     0, 0x010d,  // 204  0000 0000 0011 010.\r\n\t\t\t0,     0, 0x010e,  // 205  0000 0000 0011 001.\r\n\t\t\t0,     0, 0x0021,  // 206  0000 0000 0010 111.\r\n\t\t\t0,     0, 0x0027,  // 207  0000 0000 0010 001.\r\n\t\t\t0,     0, 0x1f01,  // 208  0000 0000 0001 1011.\r\n\t\t\t0,     0, 0x1b01,  // 209  0000 0000 0001 1111.\r\n\t\t\t0,     0, 0x1e01,  // 210  0000 0000 0001 1100.\r\n\t\t\t0,     0, 0x1002,  // 211  0000 0000 0001 0101.\r\n\t\t\t0,     0, 0x1d01,  // 212  0000 0000 0001 1101.\r\n\t\t\t0,     0, 0x1c01,  // 213  0000 0000 0001 1110.\r\n\t\t\t0,     0, 0x010f,  // 214  0000 0000 0001 0011.\r\n\t\t\t0,     0, 0x0112,  // 215  0000 0000 0001 0000.\r\n\t\t\t0,     0, 0x0111,  // 216  0000 0000 0001 0001.\r\n\t\t\t0,     0, 0x0110,  // 217  0000 0000 0001 0010.\r\n\t\t\t0,     0, 0x0603,  // 218  0000 0000 0001 0100.\r\n\t\t\t0,     0, 0x0b02,  // 219  0000 0000 0001 1010.\r\n\t\t\t0,     0, 0x0e02,  // 220  0000 0000 0001 0111.\r\n\t\t\t0,     0, 0x0d02,  // 221  0000 0000 0001 1000.\r\n\t\t\t0,     0, 0x0c02,  // 222  0000 0000 0001 1001.\r\n\t\t\t0,     0, 0x0f02   // 223  0000 0000 0001 0110.\r\n\t]);\r\n\r\n\tstatic PICTURE_TYPE = {\r\n\t\tINTRA: 1,\r\n\t\tPREDICTIVE: 2,\r\n\t\tB: 3\r\n\t};\r\n\r\n\tstatic START = {\r\n\t\tSEQUENCE: 0xB3,\r\n\t\tSLICE_FIRST: 0x01,\r\n\t\tSLICE_LAST: 0xAF,\r\n\t\tPICTURE: 0x00,\r\n\t\tEXTENSION: 0xB5,\r\n\t\tUSER_DATA: 0xB2\r\n\t};\r\n\r\n\r\n}","// import { AjaxSource } from \"./ajax.js\";\r\n// import { AjaxProgressiveSource } from \"./ajax-progressive.js\";\r\n// import { FetchSource } from \"./fetch.js\";\r\nimport { SIOSource /*, WSSource*/ } from \"./websocket.js\";\r\n\r\nimport { MPEG1 } from \"./mpeg1.js\";\r\nimport { MPEG1WASM } from \"./mpeg1-wasm.js\";\r\n\r\nimport { MP2 } from \"./mp2.js\";\r\nimport { MP2WASM } from \"./mp2-wasm.js\";\r\n\r\n// import { MPEG2 } from \"./mpeg2.js\";\r\n\r\nimport { WebGLRenderer } from \"./webgl.js\";\r\nimport { CanvasRenderer } from \"./canvas2d.js\";\r\n\r\nimport { WebAudioOut } from \"./webaudio.js\";\r\n\r\nimport { TS } from \"./ts.js\";\r\n// import { TS2 } from \"./ts2.js\";\r\n\r\nimport { WASM } from \"./wasm-module.js\";\r\n\r\nimport { WASM_BINARY_INLINED } from \"../jsmpeg.wasm.js\";\r\n\r\nimport { Now, Base64ToArrayBuffer } from \"./utils.js\";\r\n\r\nexport class Player {\r\n\tconstructor(url, options) {\r\n\t\tthis.options = options || {};\r\n\r\n\t\tif (options.source) {\r\n\t\t\tthis.source = new options.source(url, options);\r\n\t\t\toptions.streaming = !!this.source.streaming;\r\n\t\t} else if (url.match(/^wss?:\\/\\//)) {\r\n\t\t\t// this.source = new WSSource(url, options);\r\n\t\t\t// options.streaming = true;\r\n\t\t} else if (url.match(/^https?:\\/\\//)) {\r\n\t\t\tthis.source = new SIOSource(url, options);\r\n\t\t\toptions.streaming = true;\r\n\t\t} else if (options.progressive !== false) {\r\n\t\t\t// this.source = new AjaxProgressiveSource(url, options);\r\n\t\t\t// options.streaming = false;\r\n\t\t} else {\r\n\t\t\t// this.source = new AjaxSource(url, options);\r\n\t\t\t// options.streaming = false;\r\n\t\t}\r\n\r\n\t\tthis.maxAudioLag = options.maxAudioLag || 0.25;\r\n\t\tthis.loop = options.loop !== false;\r\n\t\tthis.autoplay = !!options.autoplay || options.streaming;\r\n\r\n\t\tthis.demuxer = new TS(options);\r\n\t\t// this.demuxer = new TS2(options);\r\n\t\tthis.source.connect(this.demuxer);\r\n\r\n\t\tif (!options.disableWebAssembly && WASM.IsSupported()) {\r\n\t\t\tthis.wasmModule = WASM.GetModule();\r\n\t\t\toptions.wasmModule = this.wasmModule;\r\n\t\t}\r\n\r\n\t\tif (options.video !== false) {\r\n\t\t\tthis.video = options.wasmModule ? new MPEG1WASM(options) : new MPEG1(options);\r\n\r\n\t\t\tthis.renderer =\r\n\t\t\t\t!options.disableGl && WebGLRenderer.IsSupported()\r\n\t\t\t\t\t? new WebGLRenderer(options)\r\n\t\t\t\t\t: new CanvasRenderer(options);\r\n\r\n\t\t\tthis.demuxer.connect(TS.STREAM.VIDEO_1, this.video);\r\n\t\t\tthis.video.connect(this.renderer);\r\n\t\t}\r\n\r\n\t\tif (options.audio !== false && WebAudioOut.IsSupported()) {\r\n\t\t\tthis.audio = options.wasmModule ? new MP2WASM(options) : new MP2(options);\r\n\t\t\tthis.audioOut = new WebAudioOut(options);\r\n\t\t\tthis.demuxer.connect(TS.STREAM.AUDIO_1, this.audio);\r\n\t\t\tthis.audio.connect(this.audioOut);\r\n\t\t}\r\n\r\n\t\tObject.defineProperty(this, \"currentTime\", {\r\n\t\t\tget: this.getCurrentTime,\r\n\t\t\tset: this.setCurrentTime,\r\n\t\t});\r\n\t\tObject.defineProperty(this, \"volume\", {\r\n\t\t\tget: this.getVolume,\r\n\t\t\tset: this.setVolume,\r\n\t\t});\r\n\r\n\t\tthis.unpauseOnShow = false;\r\n\t\tif (options.pauseWhenHidden !== false) {\r\n\t\t\tdocument.addEventListener(\"visibilitychange\", this.showHide.bind(this));\r\n\t\t}\r\n\r\n\t\t// If we have WebAssembly support, wait until the module is compiled before\r\n\t\t// loading the source. Otherwise the decoders won't know what to do with\r\n\t\t// the source data.\r\n\t\tif (this.wasmModule) {\r\n\t\t\tif (this.wasmModule.ready) {\r\n\t\t\t\tthis.startLoading();\r\n\r\n\t\t\t\t// todo:\r\n\t\t\t} else if (/*JSMpeg.WASM_BINARY_INLINED*/ true) {\r\n\t\t\t\tlet wasm = Base64ToArrayBuffer(WASM_BINARY_INLINED);\r\n\t\t\t\tthis.wasmModule.loadFromBuffer(wasm, this.startLoading.bind(this));\r\n\t\t\t} else {\r\n\t\t\t\tthis.wasmModule.loadFromFile(\"jsmpeg.wasm\", this.startLoading.bind(this));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.startLoading();\r\n\t\t}\r\n\t}\r\n\r\n\tstartLoading = () => {\r\n\t\tthis.source.start();\r\n\t\tif (this.autoplay) {\r\n\t\t\tthis.play();\r\n\t\t}\r\n\t};\r\n\r\n\tshowHide = () => {\r\n\t\tif (document.visibilityState === \"hidden\") {\r\n\t\t\tthis.unpauseOnShow = this.wantsToPlay;\r\n\t\t\tthis.pause();\r\n\t\t} else if (this.unpauseOnShow) {\r\n\t\t\tthis.play();\r\n\t\t}\r\n\t};\r\n\r\n\tplay = () => {\r\n\t\tif (this.animationId) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.animationId = requestAnimationFrame(this.update.bind(this));\r\n\t\tthis.wantsToPlay = true;\r\n\t\tthis.paused = false;\r\n\t};\r\n\r\n\tpause = () => {\r\n\t\tif (this.paused) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcancelAnimationFrame(this.animationId);\r\n\t\tthis.animationId = null;\r\n\t\tthis.wantsToPlay = false;\r\n\t\tthis.isPlaying = false;\r\n\t\tthis.paused = true;\r\n\r\n\t\tif (this.audio && this.audio.canPlay) {\r\n\t\t\t// Seek to the currentTime again - audio may already be enqueued a bit\r\n\t\t\t// further, so we have to rewind it.\r\n\t\t\tthis.audioOut.stop();\r\n\t\t\tthis.seek(this.currentTime);\r\n\t\t}\r\n\r\n\t\tif (this.options.onPause) {\r\n\t\t\tthis.options.onPause(this);\r\n\t\t}\r\n\t};\r\n\r\n\tgetVolume = () => {\r\n\t\treturn this.audioOut ? this.audioOut.volume : 0;\r\n\t};\r\n\r\n\tsetVolume = function(volume) {\r\n\t\tif (this.audioOut) {\r\n\t\t\tthis.audioOut.volume = volume;\r\n\t\t}\r\n\t};\r\n\r\n\tstop = () => {\r\n\t\tthis.pause();\r\n\t\tthis.seek(0);\r\n\t\tif (this.video && this.options.decodeFirstFrame !== false) {\r\n\t\t\tthis.video.decode();\r\n\t\t}\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tthis.pause();\r\n\t\tthis.source.destroy();\r\n\t\tthis.video && this.video.destroy();\r\n\t\tthis.renderer && this.renderer.destroy();\r\n\t\tthis.audio && this.audio.destroy();\r\n\t\tthis.audioOut && this.audioOut.destroy();\r\n\t};\r\n\r\n\tseek = (time) => {\r\n\t\tlet startOffset =\r\n\t\t\tthis.audio && this.audio.canPlay ? this.audio.startTime : this.video.startTime;\r\n\r\n\t\tif (this.video) {\r\n\t\t\tthis.video.seek(time + startOffset);\r\n\t\t}\r\n\t\tif (this.audio) {\r\n\t\t\tthis.audio.seek(time + startOffset);\r\n\t\t}\r\n\r\n\t\tthis.startTime = Now() - time;\r\n\t};\r\n\r\n\tgetCurrentTime = () => {\r\n\t\treturn this.audio && this.audio.canPlay\r\n\t\t\t? this.audio.currentTime - this.audio.startTime\r\n\t\t\t: this.video\r\n\t\t\t? this.video.currentTime - this.video.startTime\r\n\t\t\t: null;\r\n\t};\r\n\r\n\tsetCurrentTime = function(time) {\r\n\t\tthis.seek(time);\r\n\t};\r\n\r\n\tupdate = () => {\r\n\t\tthis.animationId = requestAnimationFrame(this.update.bind(this));\r\n\r\n\t\tif (!this.source.established) {\r\n\t\t\tif (this.renderer) {\r\n\t\t\t\tthis.renderer.renderProgress(this.source.progress);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!this.isPlaying) {\r\n\t\t\tthis.isPlaying = true;\r\n\t\t\tthis.startTime = Now() - this.currentTime;\r\n\r\n\t\t\tif (this.options.onPlay) {\r\n\t\t\t\tthis.options.onPlay(this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.streaming) {\r\n\t\t\tthis.updateForStreaming();\r\n\t\t} else {\r\n\t\t\tthis.updateForStaticFile();\r\n\t\t}\r\n\t};\r\n\r\n\tupdateForStreaming = () => {\r\n\t\t// When streaming, immediately decode everything we have buffered up until\r\n\t\t// now to minimize playback latency.\r\n\t\tif (this.video) {\r\n\t\t\tthis.video.decode();\r\n\t\t}\r\n\r\n\t\tif (this.audio) {\r\n\t\t\tlet decoded = false;\r\n\t\t\tdo {\r\n\t\t\t\t// If there's a lot of audio enqueued already, disable output and\r\n\t\t\t\t// catch up with the encoding.\r\n\t\t\t\tif (this.audioOut.enqueuedTime > this.maxAudioLag) {\r\n\t\t\t\t\tthis.audioOut.resetEnqueuedTime();\r\n\t\t\t\t\tthis.audioOut.enabled = false;\r\n\t\t\t\t}\r\n\t\t\t\tdecoded = this.audio.decode();\r\n\t\t\t} while (decoded);\r\n\t\t\tthis.audioOut.enabled = true;\r\n\t\t}\r\n\t};\r\n\r\n\tnextFrame = () => {\r\n\t\tif (this.source.established && this.video) {\r\n\t\t\treturn this.video.decode();\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tupdateForStaticFile = () => {\r\n\t\tlet notEnoughData = false;\r\n\t\tlet headroom = 0;\r\n\r\n\t\t// If we have an audio track, we always try to sync the video to the audio.\r\n\t\t// Gaps and discontinuities are far more percetable in audio than in video.\r\n\r\n\t\tif (this.audio && this.audio.canPlay) {\r\n\t\t\t// Do we have to decode and enqueue some more audio data?\r\n\t\t\twhile (!notEnoughData && this.audio.decodedTime - this.audio.currentTime < 0.25) {\r\n\t\t\t\tnotEnoughData = !this.audio.decode();\r\n\t\t\t}\r\n\r\n\t\t\t// Sync video to audio\r\n\t\t\tif (this.video && this.video.currentTime < this.audio.currentTime) {\r\n\t\t\t\tnotEnoughData = !this.video.decode();\r\n\t\t\t}\r\n\r\n\t\t\theadroom = this.demuxer.currentTime - this.audio.currentTime;\r\n\t\t} else if (this.video) {\r\n\t\t\t// Video only - sync it to player's wallclock\r\n\t\t\tvar targetTime = Now() - this.startTime + this.video.startTime,\r\n\t\t\t\tlateTime = targetTime - this.video.currentTime,\r\n\t\t\t\tframeTime = 1 / this.video.frameRate;\r\n\r\n\t\t\tif (this.video && lateTime > 0) {\r\n\t\t\t\t// If the video is too far behind (>2 frames), simply reset the\r\n\t\t\t\t// target time to the next frame instead of trying to catch up.\r\n\t\t\t\tif (lateTime > frameTime * 2) {\r\n\t\t\t\t\tthis.startTime += lateTime;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnotEnoughData = !this.video.decode();\r\n\t\t\t}\r\n\r\n\t\t\theadroom = this.demuxer.currentTime - targetTime;\r\n\t\t}\r\n\r\n\t\t// Notify the source of the playhead headroom, so it can decide whether to\r\n\t\t// continue loading further data.\r\n\t\tthis.source.resume(headroom);\r\n\r\n\t\t// If we failed to decode and the source is complete, it means we reached\r\n\t\t// the end of our data. We may want to loop.\r\n\t\tif (notEnoughData && this.source.completed) {\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tthis.seek(0);\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t\tif (this.options.onEnded) {\r\n\t\t\t\t\tthis.options.onEnded(this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If there's not enough data and the source is not completed, we have\r\n\t\t// just stalled.\r\n\t\telse if (notEnoughData && this.options.onStalled) {\r\n\t\t\tthis.options.onStalled(this);\r\n\t\t}\r\n\t};\r\n}\r\n","import { BitBuffer } from \"./buffer.js\";\r\n\r\nexport class TS {\r\n\tconstructor(options) {\r\n\t\tthis.bits = null;\r\n\t\tthis.leftoverBytes = null;\r\n\r\n\t\tthis.guessVideoFrameEnd = true;\r\n\t\tthis.pidsToStreamIds = {};\r\n\r\n\t\tthis.pesPacketInfo = {};\r\n\t\tthis.startTime = 0;\r\n\t\tthis.currentTime = 0;\r\n\t}\r\n\r\n\tstatic STREAM = {\r\n\t\tPACK_HEADER: 0xba,\r\n\t\tSYSTEM_HEADER: 0xbb,\r\n\t\tPROGRAM_MAP: 0xbc,\r\n\t\tPRIVATE_1: 0xbd,\r\n\t\tPADDING: 0xbe,\r\n\t\tPRIVATE_2: 0xbf,\r\n\t\tAUDIO_1: 0xc0,\r\n\t\tVIDEO_1: 0xe0,\r\n\t\tDIRECTORY: 0xff,\r\n\t};\r\n\r\n\tconnect = function(streamId, destination) {\r\n\t\tthis.pesPacketInfo[streamId] = {\r\n\t\t\tdestination: destination,\r\n\t\t\tcurrentLength: 0,\r\n\t\t\ttotalLength: 0,\r\n\t\t\tpts: 0,\r\n\t\t\tbuffers: [],\r\n\t\t};\r\n\t};\r\n\r\n\twrite = function(buffer) {\r\n\t\tif (this.leftoverBytes) {\r\n\t\t\tvar totalLength = buffer.byteLength + this.leftoverBytes.byteLength;\r\n\t\t\tthis.bits = new BitBuffer(totalLength);\r\n\t\t\tthis.bits.write([this.leftoverBytes, buffer]);\r\n\t\t} else {\r\n\t\t\tthis.bits = new BitBuffer(buffer);\r\n\t\t}\r\n\r\n\t\twhile (this.bits.has(188 << 3) && this.parsePacket()) {}\r\n\r\n\t\tvar leftoverCount = this.bits.byteLength - (this.bits.index >> 3);\r\n\t\tthis.leftoverBytes =\r\n\t\t\tleftoverCount > 0 ? this.bits.bytes.subarray(this.bits.index >> 3) : null;\r\n\t};\r\n\r\n\tparsePacket = function() {\r\n\t\t// Check if we're in sync with packet boundaries; attempt to resync if not.\r\n\t\tif (this.bits.read(8) !== 0x47) {\r\n\t\t\tif (!this.resync()) {\r\n\t\t\t\t// Couldn't resync; maybe next time...\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar end = (this.bits.index >> 3) + 187;\r\n\t\tvar transportError = this.bits.read(1),\r\n\t\t\tpayloadStart = this.bits.read(1),\r\n\t\t\ttransportPriority = this.bits.read(1),\r\n\t\t\tpid = this.bits.read(13),\r\n\t\t\ttransportScrambling = this.bits.read(2),\r\n\t\t\tadaptationField = this.bits.read(2),\r\n\t\t\tcontinuityCounter = this.bits.read(4);\r\n\r\n\t\t// If this is the start of a new payload; signal the end of the previous\r\n\t\t// frame, if we didn't do so already.\r\n\t\tvar streamId = this.pidsToStreamIds[pid];\r\n\t\tif (payloadStart && streamId) {\r\n\t\t\tvar pi = this.pesPacketInfo[streamId];\r\n\t\t\tif (pi && pi.currentLength) {\r\n\t\t\t\tthis.packetComplete(pi);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Extract current payload\r\n\t\tif (adaptationField & 0x1) {\r\n\t\t\tif (adaptationField & 0x2) {\r\n\t\t\t\tvar adaptationFieldLength = this.bits.read(8);\r\n\t\t\t\tthis.bits.skip(adaptationFieldLength << 3);\r\n\t\t\t}\r\n\r\n\t\t\tif (payloadStart && this.bits.nextBytesAreStartCode()) {\r\n\t\t\t\tthis.bits.skip(24);\r\n\t\t\t\tstreamId = this.bits.read(8);\r\n\t\t\t\tthis.pidsToStreamIds[pid] = streamId;\r\n\r\n\t\t\t\tvar packetLength = this.bits.read(16);\r\n\t\t\t\tthis.bits.skip(8);\r\n\t\t\t\tvar ptsDtsFlag = this.bits.read(2);\r\n\t\t\t\tthis.bits.skip(6);\r\n\t\t\t\tvar headerLength = this.bits.read(8);\r\n\t\t\t\tvar payloadBeginIndex = this.bits.index + (headerLength << 3);\r\n\r\n\t\t\t\tvar pi = this.pesPacketInfo[streamId];\r\n\t\t\t\tif (pi) {\r\n\t\t\t\t\tvar pts = 0;\r\n\t\t\t\t\tif (ptsDtsFlag & 0x2) {\r\n\t\t\t\t\t\t// The Presentation Timestamp is encoded as 33(!) bit\r\n\t\t\t\t\t\t// integer, but has a \"marker bit\" inserted at weird places\r\n\t\t\t\t\t\t// in between, making the whole thing 5 bytes in size.\r\n\t\t\t\t\t\t// You can't make this shit up...\r\n\t\t\t\t\t\tthis.bits.skip(4);\r\n\t\t\t\t\t\tvar p32_30 = this.bits.read(3);\r\n\t\t\t\t\t\tthis.bits.skip(1);\r\n\t\t\t\t\t\tvar p29_15 = this.bits.read(15);\r\n\t\t\t\t\t\tthis.bits.skip(1);\r\n\t\t\t\t\t\tvar p14_0 = this.bits.read(15);\r\n\t\t\t\t\t\tthis.bits.skip(1);\r\n\r\n\t\t\t\t\t\t// Can't use bit shifts here; we need 33 bits of precision,\r\n\t\t\t\t\t\t// so we're using JavaScript's double number type. Also\r\n\t\t\t\t\t\t// divide by the 90khz clock to get the pts in seconds.\r\n\t\t\t\t\t\tpts = (p32_30 * 1073741824 + p29_15 * 32768 + p14_0) / 90000;\r\n\r\n\t\t\t\t\t\tthis.currentTime = pts;\r\n\t\t\t\t\t\tif (this.startTime === -1) {\r\n\t\t\t\t\t\t\tthis.startTime = pts;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar payloadLength = packetLength ? packetLength - headerLength - 3 : 0;\r\n\t\t\t\t\tthis.packetStart(pi, pts, payloadLength);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Skip the rest of the header without parsing it\r\n\t\t\t\tthis.bits.index = payloadBeginIndex;\r\n\t\t\t}\r\n\r\n\t\t\tif (streamId) {\r\n\t\t\t\t// Attempt to detect if the PES packet is complete. For Audio (and\r\n\t\t\t\t// other) packets, we received a total packet length with the PES\r\n\t\t\t\t// header, so we can check the current length.\r\n\r\n\t\t\t\t// For Video packets, we have to guess the end by detecting if this\r\n\t\t\t\t// TS packet was padded - there's no good reason to pad a TS packet\r\n\t\t\t\t// in between, but it might just fit exactly. If this fails, we can\r\n\t\t\t\t// only wait for the next PES header for that stream.\r\n\r\n\t\t\t\tvar pi = this.pesPacketInfo[streamId];\r\n\t\t\t\tif (pi) {\r\n\t\t\t\t\tvar start = this.bits.index >> 3;\r\n\t\t\t\t\tvar complete = this.packetAddData(pi, start, end);\r\n\r\n\t\t\t\t\tvar hasPadding = !payloadStart && adaptationField & 0x2;\r\n\t\t\t\t\tif (complete || (this.guessVideoFrameEnd && hasPadding)) {\r\n\t\t\t\t\t\tthis.packetComplete(pi);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.bits.index = end << 3;\r\n\t\treturn true;\r\n\t};\r\n\r\n\tresync = () => {\r\n\t\t// Check if we have enough data to attempt a resync. We need 5 full packets.\r\n\t\tif (!this.bits.has((188 * 6) << 3)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet byteIndex = this.bits.index >> 3;\r\n\r\n\t\t// Look for the first sync token in the first 187 bytes\r\n\t\tfor (let i = 0; i < 187; i++) {\r\n\t\t\tif (this.bits.bytes[byteIndex + i] === 0x47) {\r\n\t\t\t\t// Look for 4 more sync tokens, each 188 bytes appart\r\n\t\t\t\tlet foundSync = true;\r\n\t\t\t\tfor (let j = 1; j < 5; j++) {\r\n\t\t\t\t\tif (this.bits.bytes[byteIndex + i + 188 * j] !== 0x47) {\r\n\t\t\t\t\t\tfoundSync = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (foundSync) {\r\n\t\t\t\t\tthis.bits.index = (byteIndex + i + 1) << 3;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// In theory, we shouldn't arrive here. If we do, we had enough data but\r\n\t\t// still didn't find sync - this can only happen if we were fed garbage\r\n\t\t// data. Check your source!\r\n\t\tconsole.warn(\"JSMpeg: Possible garbage data. Skipping.\");\r\n\t\tthis.bits.skip(187 << 3);\r\n\t\treturn false;\r\n\t};\r\n\r\n\tpacketStart = function(pi, pts, payloadLength) {\r\n\t\tpi.totalLength = payloadLength;\r\n\t\tpi.currentLength = 0;\r\n\t\tpi.pts = pts;\r\n\t};\r\n\r\n\tpacketAddData = function(pi, start, end) {\r\n\t\tpi.buffers.push(this.bits.bytes.subarray(start, end));\r\n\t\tpi.currentLength += end - start;\r\n\r\n\t\tlet complete = pi.totalLength !== 0 && pi.currentLength >= pi.totalLength;\r\n\t\treturn complete;\r\n\t};\r\n\r\n\tpacketComplete = (pi) => {\r\n\t\tpi.destination.write(pi.pts, pi.buffers);\r\n\t\tpi.totalLength = 0;\r\n\t\tpi.currentLength = 0;\r\n\t\tpi.buffers = [];\r\n\t};\r\n}\r\n","export function Now() {\r\n\treturn window.performance ? window.performance.now() / 1000 : Date.now() / 1000;\r\n}\r\n\r\nexport function CreateVideoElements() {\r\n\tvar elements = document.querySelectorAll(\".jsmpeg\");\r\n\tfor (var i = 0; i < elements.length; i++) {\r\n\t\tnew this.VideoElement(elements[i]);\r\n\t}\r\n}\r\n\r\nexport function Fill(array, value) {\r\n\tif (array.fill) {\r\n\t\tarray.fill(value);\r\n\t} else {\r\n\t\tfor (var i = 0; i < array.length; i++) {\r\n\t\t\tarray[i] = value;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function Base64ToArrayBuffer(base64) {\r\n\tvar binary = window.atob(base64);\r\n\tvar length = binary.length;\r\n\tvar bytes = new Uint8Array(length);\r\n\tfor (var i = 0; i < length; i++) {\r\n\t\tbytes[i] = binary.charCodeAt(i);\r\n\t}\r\n\treturn bytes.buffer;\r\n}\r\n","import { AjaxSource } from \"./ajax.js\";\r\n\r\nexport class WASM {\r\n\tconstructor() {\r\n\t\tthis.stackSize = 5 * 1024 * 1024; // emscripten default\r\n\t\tthis.pageSize = 64 * 1024; // wasm page size\r\n\t\tthis.onInitCallback = null;\r\n\t\tthis.ready = false;\r\n\t}\r\n\r\n\twrite = function(buffer) {\r\n\t\tthis.loadFromBuffer(buffer, this.onInitCallback);\r\n\t};\r\n\r\n\tloadFromFile = function(url, callback) {\r\n\t\tthis.onInitCallback = callback;\r\n\t\tvar ajax = new AjaxSource(url, {});\r\n\t\tajax.connect(this);\r\n\t\tajax.start();\r\n\t};\r\n\r\n\tloadFromBuffer = function(buffer, callback) {\r\n\t\tthis.moduleInfo = this.readDylinkSection(buffer);\r\n\t\tif (!this.moduleInfo) {\r\n\t\t\tthis.callback && this.callback(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.memory = new WebAssembly.Memory({ initial: 256 });\r\n\t\tvar env = {\r\n\t\t\tmemory: this.memory,\r\n\t\t\t__memory_base: 0,\r\n\t\t\ttable: new WebAssembly.Table({\r\n\t\t\t\tinitial: this.moduleInfo.tableSize,\r\n\t\t\t\telement: \"anyfunc\",\r\n\t\t\t}),\r\n\t\t\t__table_base: 0,\r\n\t\t\tabort: this.c_abort.bind(this),\r\n\t\t\t// ___assert_fail: this.c_assertFail.bind(this),\r\n\t\t\t// _sbrk: this.c_sbrk.bind(this),\r\n\t\t\t__assert_fail: this.c_assertFail.bind(this),\r\n\t\t\tsbrk: this.c_sbrk.bind(this),\r\n\t\t\tstackSave: () => {},\r\n\t\t\tstackRestore: () => {},\r\n\t\t};\r\n\r\n\t\tthis.brk = this.align(this.moduleInfo.memorySize + this.stackSize);\r\n\t\tWebAssembly.instantiate(buffer, { env: env }).then(\r\n\t\t\tfunction(results) {\r\n\t\t\t\tthis.instance = results.instance;\r\n\t\t\t\tif (this.instance.exports.__post_instantiate) {\r\n\t\t\t\t\tthis.instance.exports.__post_instantiate();\r\n\t\t\t\t}\r\n\t\t\t\tthis.createHeapViews();\r\n\t\t\t\tthis.ready = true;\r\n\t\t\t\tcallback && callback(this);\r\n\t\t\t}.bind(this),\r\n\t\t);\r\n\t};\r\n\r\n\tcreateHeapViews = function() {\r\n\t\tthis.instance.heapU8 = new Uint8Array(this.memory.buffer);\r\n\t\tthis.instance.heapU32 = new Uint32Array(this.memory.buffer);\r\n\t\tthis.instance.heapF32 = new Float32Array(this.memory.buffer);\r\n\t};\r\n\r\n\talign = function(addr) {\r\n\t\tvar a = Math.pow(2, this.moduleInfo.memoryAlignment);\r\n\t\treturn Math.ceil(addr / a) * a;\r\n\t};\r\n\r\n\tc_sbrk = function(size) {\r\n\t\tvar previousBrk = this.brk;\r\n\t\tthis.brk += size;\r\n\r\n\t\tif (this.brk > this.memory.buffer.byteLength) {\r\n\t\t\tvar bytesNeeded = this.brk - this.memory.buffer.byteLength;\r\n\t\t\tvar pagesNeeded = Math.ceil(bytesNeeded / this.pageSize);\r\n\t\t\tthis.memory.grow(pagesNeeded);\r\n\t\t\tthis.createHeapViews();\r\n\t\t}\r\n\t\treturn previousBrk;\r\n\t};\r\n\r\n\tc_abort = function(size) {\r\n\t\tconsole.warn(\"JSMPeg: WASM abort\", arguments);\r\n\t};\r\n\r\n\tc_assertFail = function(size) {\r\n\t\tconsole.warn(\"JSMPeg: WASM ___assert_fail\", arguments);\r\n\t};\r\n\r\n\treadDylinkSection = function(buffer) {\r\n\t\t// Read the WASM header and dylink section of the .wasm binary data\r\n\t\t// to get the needed table size and static data size.\r\n\r\n\t\t// https://github.com/WebAssembly/tool-conventions/blob/master/DynamicLinking.md\r\n\t\t// https://github.com/kripken/emscripten/blob/20602efb955a7c6c20865a495932427e205651d2/src/support.js\r\n\r\n\t\tvar bytes = new Uint8Array(buffer);\r\n\t\tvar next = 0;\r\n\r\n\t\tvar readVarUint = function() {\r\n\t\t\tvar ret = 0;\r\n\t\t\tvar mul = 1;\r\n\t\t\twhile (1) {\r\n\t\t\t\tvar byte = bytes[next++];\r\n\t\t\t\tret += (byte & 0x7f) * mul;\r\n\t\t\t\tmul *= 0x80;\r\n\t\t\t\tif (!(byte & 0x80)) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar matchNextBytes = function(expected) {\r\n\t\t\tfor (var i = 0; i < expected.length; i++) {\r\n\t\t\t\tvar b = typeof expected[i] === \"string\" ? expected[i].charCodeAt(0) : expected[i];\r\n\t\t\t\tif (bytes[next++] !== b) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\t// Make sure we have a wasm header\r\n\t\tif (!matchNextBytes([0, \"a\", \"s\", \"m\"])) {\r\n\t\t\tconsole.warn(\"JSMpeg: WASM header not found\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t// Make sure we have a dylink section\r\n\t\tvar next = 9;\r\n\t\tvar sectionSize = readVarUint();\r\n\t\tif (!matchNextBytes([6, \"d\", \"y\", \"l\", \"i\", \"n\", \"k\"])) {\r\n\t\t\tconsole.warn(\"JSMpeg: No dylink section found in WASM\");\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmemorySize: readVarUint(),\r\n\t\t\tmemoryAlignment: readVarUint(),\r\n\t\t\ttableSize: readVarUint(),\r\n\t\t\ttableAlignment: readVarUint(),\r\n\t\t};\r\n\t};\r\n\r\n\tstatic IsSupported = function() {\r\n\t\treturn !!window.WebAssembly;\r\n\t};\r\n\r\n\tstatic GetModule = function() {\r\n\t\tWASM.CACHED_MODULE = WASM.CACHED_MODULE || new WASM();\r\n\t\treturn WASM.CACHED_MODULE;\r\n\t};\r\n}\r\n","import { Now } from \"./utils.js\";\r\n\r\nexport class WebAudioOut {\r\n\tconstructor(options) {\r\n\t\tthis.context = WebAudioOut.CachedContext =\r\n\t\t\tWebAudioOut.CachedContext ||\r\n\t\t\tnew (window.AudioContext || window.webkitAudioContext)();\r\n\r\n\t\tthis.gain = this.context.createGain();\r\n\t\tthis.destination = this.gain;\r\n\r\n\t\t// Keep track of the number of connections to this AudioContext, so we\r\n\t\t// can safely close() it when we're the only one connected to it.\r\n\t\tthis.gain.connect(this.context.destination);\r\n\t\tthis.context._connections = (this.context._connections || 0) + 1;\r\n\r\n\t\tthis.startTime = 0;\r\n\t\tthis.buffer = null;\r\n\t\tthis.wallclockStartTime = 0;\r\n\t\tthis.volume = 1;\r\n\t\tthis.enabled = true;\r\n\r\n\t\t// maybe needs to be global to class:\r\n\t\t// todo:\r\n\t\tthis.CachedContext = null;\r\n\r\n\t\tthis.unlocked = !WebAudioOut.NeedsUnlocking();\r\n\r\n\t\tObject.defineProperty(this, \"enqueuedTime\", { get: this.getEnqueuedTime });\r\n\t}\r\n\r\n\tdestroy = function() {\r\n\t\tthis.gain.disconnect();\r\n\t\tthis.context._connections--;\r\n\r\n\t\tif (this.context._connections === 0) {\r\n\t\t\tthis.context.close();\r\n\t\t\tWebAudioOut.CachedContext = null;\r\n\t\t}\r\n\t};\r\n\r\n\tplay = function(sampleRate, left, right) {\r\n\t\tif (!this.enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If the context is not unlocked yet, we simply advance the start time\r\n\t\t// to \"fake\" actually playing audio. This will keep the video in sync.\r\n\t\tif (!this.unlocked) {\r\n\t\t\tvar ts = Now();\r\n\t\t\tif (this.wallclockStartTime < ts) {\r\n\t\t\t\tthis.wallclockStartTime = ts;\r\n\t\t\t}\r\n\t\t\tthis.wallclockStartTime += left.length / sampleRate;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.gain.gain.value = this.volume;\r\n\r\n\t\tvar buffer = this.context.createBuffer(2, left.length, sampleRate);\r\n\t\tbuffer.getChannelData(0).set(left);\r\n\t\tbuffer.getChannelData(1).set(right);\r\n\r\n\t\tvar source = this.context.createBufferSource();\r\n\t\tsource.buffer = buffer;\r\n\t\tsource.connect(this.destination);\r\n\r\n\t\tvar now = this.context.currentTime;\r\n\t\tvar duration = buffer.duration;\r\n\t\tif (this.startTime < now) {\r\n\t\t\tthis.startTime = now;\r\n\t\t\tthis.wallclockStartTime = Now();\r\n\t\t}\r\n\r\n\t\tsource.start(this.startTime);\r\n\t\tthis.startTime += duration;\r\n\t\tthis.wallclockStartTime += duration;\r\n\t};\r\n\r\n\tstop = function() {\r\n\t\t// Meh; there seems to be no simple way to get a list of currently\r\n\t\t// active source nodes from the Audio Context, and maintaining this\r\n\t\t// list ourselfs would be a pain, so we just set the gain to 0\r\n\t\t// to cut off all enqueued audio instantly.\r\n\t\tthis.gain.gain.value = 0;\r\n\t};\r\n\r\n\tgetEnqueuedTime = function() {\r\n\t\t// The AudioContext.currentTime is only updated every so often, so if we\r\n\t\t// want to get exact timing, we need to rely on the system time.\r\n\t\treturn Math.max(this.wallclockStartTime - Now(), 0);\r\n\t};\r\n\r\n\tresetEnqueuedTime = function() {\r\n\t\tthis.startTime = this.context.currentTime;\r\n\t\tthis.wallclockStartTime = Now();\r\n\t};\r\n\r\n\tunlock = function(callback) {\r\n\t\tif (this.unlocked) {\r\n\t\t\tif (callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.unlockCallback = callback;\r\n\r\n\t\t// Create empty buffer and play it\r\n\t\tvar buffer = this.context.createBuffer(1, 1, 22050);\r\n\t\tvar source = this.context.createBufferSource();\r\n\t\tsource.buffer = buffer;\r\n\t\tsource.connect(this.destination);\r\n\t\tsource.start(0);\r\n\r\n\t\tsetTimeout(this.checkIfUnlocked.bind(this, source, 0), 0);\r\n\t};\r\n\r\n\tcheckIfUnlocked = function(source, attempt) {\r\n\t\tif (\r\n\t\t\tsource.playbackState === source.PLAYING_STATE ||\r\n\t\t\tsource.playbackState === source.FINISHED_STATE\r\n\t\t) {\r\n\t\t\tthis.unlocked = true;\r\n\t\t\tif (this.unlockCallback) {\r\n\t\t\t\tthis.unlockCallback();\r\n\t\t\t\tthis.unlockCallback = null;\r\n\t\t\t}\r\n\t\t} else if (attempt < 10) {\r\n\t\t\t// Jeez, what a shit show. Thanks iOS!\r\n\t\t\tsetTimeout(this.checkIfUnlocked.bind(this, source, attempt + 1), 100);\r\n\t\t}\r\n\t};\r\n\r\n\tstatic NeedsUnlocking = function() {\r\n\t\treturn /iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n\t};\r\n\r\n\tstatic IsSupported = function() {\r\n\t\treturn window.AudioContext || window.webkitAudioContext;\r\n\t};\r\n}\r\n","export class WebGLRenderer {\r\n\tconstructor(options) {\r\n\t\tthis.canvas = options.canvas || document.createElement(\"canvas\");\r\n\t\tthis.width = this.canvas.width;\r\n\t\tthis.height = this.canvas.height;\r\n\t\tthis.enabled = true;\r\n\r\n\t\tthis.hasTextureData = {};\r\n\r\n\t\tthis.contextCreateOptions = {\r\n\t\t\tpreserveDrawingBuffer: !!options.preserveDrawingBuffer,\r\n\t\t\talpha: false,\r\n\t\t\tdepth: false,\r\n\t\t\tstencil: false,\r\n\t\t\tantialias: false,\r\n\t\t\tpremultipliedAlpha: false,\r\n\t\t};\r\n\r\n\t\tthis.gl =\r\n\t\t\tthis.canvas.getContext(\"webgl\", this.contextCreateOptions) ||\r\n\t\t\tthis.canvas.getContext(\"experimental-webgl\", this.contextCreateOptions);\r\n\r\n\t\tif (!this.gl) {\r\n\t\t\tthrow new Error(\"Failed to get WebGL Context\");\r\n\t\t}\r\n\r\n\t\tif (this.gl.isContextLost()) {\r\n\t\t\tthrow new Error(\"WebGL Context is lost!\");\r\n\t\t}\r\n\r\n\t\tthis.SHADER = {\r\n\t\t\tFRAGMENT_YCRCB_TO_RGBA: [\r\n\t\t\t\t\"precision mediump float;\",\r\n\t\t\t\t\"uniform sampler2D textureY;\",\r\n\t\t\t\t\"uniform sampler2D textureCb;\",\r\n\t\t\t\t\"uniform sampler2D textureCr;\",\r\n\t\t\t\t\"varying vec2 texCoord;\",\r\n\r\n\t\t\t\t\"mat4 rec601 = mat4(\",\r\n\t\t\t\t\"1.16438,  0.00000,  1.59603, -0.87079,\",\r\n\t\t\t\t\"1.16438, -0.39176, -0.81297,  0.52959,\",\r\n\t\t\t\t\"1.16438,  2.01723,  0.00000, -1.08139,\",\r\n\t\t\t\t\"0, 0, 0, 1\",\r\n\t\t\t\t\");\",\r\n\r\n\t\t\t\t\"void main() {\",\r\n\t\t\t\t\"float y = texture2D(textureY, texCoord).r;\",\r\n\t\t\t\t\"float cb = texture2D(textureCb, texCoord).r;\",\r\n\t\t\t\t\"float cr = texture2D(textureCr, texCoord).r;\",\r\n\r\n\t\t\t\t\"gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;\",\r\n\t\t\t\t\"}\",\r\n\t\t\t].join(\"\\n\"),\r\n\r\n\t\t\tFRAGMENT_LOADING: [\r\n\t\t\t\t\"precision mediump float;\",\r\n\t\t\t\t\"uniform float progress;\",\r\n\t\t\t\t\"varying vec2 texCoord;\",\r\n\r\n\t\t\t\t\"void main() {\",\r\n\t\t\t\t\"float c = ceil(progress-(1.0-texCoord.y));\",\r\n\t\t\t\t\"gl_FragColor = vec4(c,c,c,1);\",\r\n\t\t\t\t\"}\",\r\n\t\t\t].join(\"\\n\"),\r\n\r\n\t\t\tVERTEX_IDENTITY: [\r\n\t\t\t\t\"attribute vec2 vertex;\",\r\n\t\t\t\t\"varying vec2 texCoord;\",\r\n\r\n\t\t\t\t\"void main() {\",\r\n\t\t\t\t\"texCoord = vertex;\",\r\n\t\t\t\t\"gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);\",\r\n\t\t\t\t\"}\",\r\n\t\t\t].join(\"\\n\"),\r\n\t\t};\r\n\r\n\t\tlet gl = this.gl;\r\n\t\tlet vertexAttr = null;\r\n\r\n\t\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n\r\n\t\t// Init buffers\r\n\t\tthis.vertexBuffer = gl.createBuffer();\r\n\t\tlet vertexCoords = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]);\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\r\n\t\tgl.bufferData(gl.ARRAY_BUFFER, vertexCoords, gl.STATIC_DRAW);\r\n\r\n\t\t// Setup the main YCrCbToRGBA shader\r\n\t\tthis.program = this.createProgram(\r\n\t\t\tthis.SHADER.VERTEX_IDENTITY,\r\n\t\t\tthis.SHADER.FRAGMENT_YCRCB_TO_RGBA,\r\n\t\t);\r\n\t\tvertexAttr = gl.getAttribLocation(this.program, \"vertex\");\r\n\t\tgl.enableVertexAttribArray(vertexAttr);\r\n\t\tgl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\r\n\r\n\t\tthis.textureY = this.createTexture(0, \"textureY\");\r\n\t\tthis.textureCb = this.createTexture(1, \"textureCb\");\r\n\t\tthis.textureCr = this.createTexture(2, \"textureCr\");\r\n\r\n\t\t// Setup the loading animation shader\r\n\t\tthis.loadingProgram = this.createProgram(\r\n\t\t\tthis.SHADER.VERTEX_IDENTITY,\r\n\t\t\tthis.SHADER.FRAGMENT_LOADING,\r\n\t\t);\r\n\t\tvertexAttr = gl.getAttribLocation(this.loadingProgram, \"vertex\");\r\n\t\tgl.enableVertexAttribArray(vertexAttr);\r\n\t\tgl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\r\n\r\n\t\tthis.shouldCreateUnclampedViews = !this.allowsClampedTextureData();\r\n\t}\r\n\r\n\tdestroy = () => {\r\n\t\tlet gl = this.gl;\r\n\r\n\t\tthis.deleteTexture(gl.TEXTURE0, this.textureY);\r\n\t\tthis.deleteTexture(gl.TEXTURE1, this.textureCb);\r\n\t\tthis.deleteTexture(gl.TEXTURE2, this.textureCr);\r\n\r\n\t\tgl.useProgram(null);\r\n\t\tgl.deleteProgram(this.program);\r\n\t\tgl.deleteProgram(this.loadingProgram);\r\n\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\t\tgl.deleteBuffer(this.vertexBuffer);\r\n\r\n\t\t// breaks:\r\n\t\t// gl.getExtension(\"WEBGL_lose_context\").loseContext();\r\n\t\t// window.lose_context = gl.getExtension(\"WEBGL_lose_context\");\r\n\t\t// window.lose_context.loseContext();\r\n\r\n\t\t// console.log(lose_context.restoreContext);\r\n\r\n\t\t// lose_context.restoreContext();\r\n\r\n\t\t// this.canvas.remove(); // don't do this because I need it // fosse\r\n\r\n\t\t// let newEl = document.createElement(\"canvas\");\r\n\t\t// newEl.id = this.canvas.id;\r\n\t\t// newEl.classList = this.canvas.classList;\r\n\t\t// newEl.width = this.canvas.width;\r\n\t\t// newEl.height = this.canvas.height;\r\n\t\t// newEl.style = this.canvas.style;\r\n\t\t// this.canvas.parentNode.replaceChild(newEl, this.canvas);\r\n\t\t// // window.newEl = newEl;\r\n\t\t// this.canvas.remove();\r\n\t};\r\n\r\n\tresize = (width, height) => {\r\n\t\tthis.width = width | 0;\r\n\t\tthis.height = height | 0;\r\n\r\n\t\tthis.canvas.width = this.width;\r\n\t\tthis.canvas.height = this.height;\r\n\r\n\t\tthis.gl.useProgram(this.program);\r\n\t\tlet codedWidth = ((this.width + 15) >> 4) << 4;\r\n\t\tthis.gl.viewport(0, 0, codedWidth, this.height);\r\n\t};\r\n\r\n\tcreateTexture = (index, name) => {\r\n\t\tlet gl = this.gl;\r\n\t\tlet texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\t\tgl.uniform1i(gl.getUniformLocation(this.program, name), index);\r\n\r\n\t\treturn texture;\r\n\t};\r\n\r\n\tcreateProgram = (vsh, fsh) => {\r\n\t\tlet gl = this.gl;\r\n\t\tlet program = gl.createProgram();\r\n\r\n\t\tgl.attachShader(program, this.compileShader(gl.VERTEX_SHADER, vsh));\r\n\t\tgl.attachShader(program, this.compileShader(gl.FRAGMENT_SHADER, fsh));\r\n\t\tgl.linkProgram(program);\r\n\t\tgl.useProgram(program);\r\n\r\n\t\treturn program;\r\n\t};\r\n\r\n\tcompileShader = (type, source) => {\r\n\t\tlet gl = this.gl;\r\n\t\tlet shader = gl.createShader(type);\r\n\r\n\t\tgl.shaderSource(shader, source);\r\n\t\tgl.compileShader(shader);\r\n\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tthrow new Error(gl.getShaderInfoLog(shader));\r\n\t\t}\r\n\r\n\t\treturn shader;\r\n\t};\r\n\r\n\tallowsClampedTextureData = () => {\r\n\t\tlet gl = this.gl;\r\n\t\tlet texture = gl.createTexture();\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texImage2D(\r\n\t\t\tgl.TEXTURE_2D,\r\n\t\t\t0,\r\n\t\t\tgl.LUMINANCE,\r\n\t\t\t1,\r\n\t\t\t1,\r\n\t\t\t0,\r\n\t\t\tgl.LUMINANCE,\r\n\t\t\tgl.UNSIGNED_BYTE,\r\n\t\t\tnew Uint8ClampedArray([0]),\r\n\t\t);\r\n\t\treturn gl.getError() === 0;\r\n\t};\r\n\r\n\trenderProgress = (progress) => {\r\n\t\tlet gl = this.gl;\r\n\r\n\t\tgl.useProgram(this.loadingProgram);\r\n\r\n\t\tlet loc = gl.getUniformLocation(this.loadingProgram, \"progress\");\r\n\t\tgl.uniform1f(loc, progress);\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\r\n\t};\r\n\r\n\trender = (y, cb, cr, isClampedArray) => {\r\n\t\tif (!this.enabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet gl = this.gl;\r\n\t\tlet w = ((this.width + 15) >> 4) << 4,\r\n\t\t\th = this.height,\r\n\t\t\tw2 = w >> 1,\r\n\t\t\th2 = h >> 1;\r\n\r\n\t\t// In some browsers WebGL doesn't like Uint8ClampedArrays (this is a bug\r\n\t\t// and should be fixed soon-ish), so we have to create a Uint8Array view\r\n\t\t// for each plane.\r\n\t\tif (isClampedArray && this.shouldCreateUnclampedViews) {\r\n\t\t\t(y = new Uint8Array(y.buffer)),\r\n\t\t\t\t(cb = new Uint8Array(cb.buffer)),\r\n\t\t\t\t(cr = new Uint8Array(cr.buffer));\r\n\t\t}\r\n\r\n\t\tgl.useProgram(this.program);\r\n\r\n\t\tthis.updateTexture(gl.TEXTURE0, this.textureY, w, h, y);\r\n\t\tthis.updateTexture(gl.TEXTURE1, this.textureCb, w2, h2, cb);\r\n\t\tthis.updateTexture(gl.TEXTURE2, this.textureCr, w2, h2, cr);\r\n\r\n\t\tgl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\r\n\t};\r\n\r\n\tupdateTexture = (unit, texture, w, h, data) => {\r\n\t\tlet gl = this.gl;\r\n\t\tgl.activeTexture(unit);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n\t\tif (this.hasTextureData[unit]) {\r\n\t\t\tgl.texSubImage2D(\r\n\t\t\t\tgl.TEXTURE_2D,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tw,\r\n\t\t\t\th,\r\n\t\t\t\tgl.LUMINANCE,\r\n\t\t\t\tgl.UNSIGNED_BYTE,\r\n\t\t\t\tdata,\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.hasTextureData[unit] = true;\r\n\t\t\tgl.texImage2D(\r\n\t\t\t\tgl.TEXTURE_2D,\r\n\t\t\t\t0,\r\n\t\t\t\tgl.LUMINANCE,\r\n\t\t\t\tw,\r\n\t\t\t\th,\r\n\t\t\t\t0,\r\n\t\t\t\tgl.LUMINANCE,\r\n\t\t\t\tgl.UNSIGNED_BYTE,\r\n\t\t\t\tdata,\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tdeleteTexture = (unit, texture) => {\r\n\t\tlet gl = this.gl;\r\n\t\tgl.activeTexture(unit);\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\r\n\t\tgl.deleteTexture(texture);\r\n\t};\r\n\r\n\tstatic IsSupported = () => {\r\n\t\ttry {\r\n\t\t\tif (!window.WebGLRenderingContext) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlet canvas = document.createElement(\"canvas\");\r\n\t\t\treturn !!(canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"));\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n}\r\n","import socketio from \"socket.io-client\";\r\n\r\nexport class WSSource {\r\n\tconstructor(url, options) {\r\n\t\tthis.url = url;\r\n\t\tthis.options = options;\r\n\t\tthis.socket = null;\r\n\t\tthis.streaming = true;\r\n\r\n\t\tthis.callbacks = { connect: [], data: [] };\r\n\t\tthis.destination = null;\r\n\r\n\t\tthis.reconnectInterval =\r\n\t\t\toptions.reconnectInterval !== undefined ? options.reconnectInterval : 5;\r\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\r\n\r\n\t\tthis.completed = false;\r\n\t\tthis.established = false;\r\n\t\tthis.progress = 0;\r\n\r\n\t\tthis.reconnectTimeoutId = 0;\r\n\r\n\t\tthis.onEstablishedCallback = options.onSourceEstablished;\r\n\t\tthis.onCompletedCallback = options.onSourceCompleted; // Never used\r\n\t}\r\n\r\n\tconnect = (destination) => {\r\n\t\tthis.destination = destination;\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tclearTimeout(this.reconnectTimeoutId);\r\n\t\tthis.shouldAttemptReconnect = false;\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.close();\r\n\t\t}\r\n\t};\r\n\r\n\tstart = () => {\r\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\r\n\t\tthis.progress = 0;\r\n\t\tthis.established = false;\r\n\r\n\t\tif (this.options.protocols) {\r\n\t\t\tthis.socket = new WebSocket(this.url, this.options.protocols);\r\n\t\t} else {\r\n\t\t\tthis.socket = new WebSocket(this.url);\r\n\t\t}\r\n\r\n\t\tthis.socket.binaryType = \"arraybuffer\";\r\n\t\tthis.socket.onmessage = this.onMessage.bind(this);\r\n\t\tthis.socket.onopen = this.onOpen.bind(this);\r\n\t\tthis.socket.onerror = this.onClose.bind(this);\r\n\t\tthis.socket.onclose = this.onClose.bind(this);\r\n\t};\r\n\r\n\tresume = (secondsHeadroom) => {\r\n\t\t// Nothing to do here\r\n\t};\r\n\r\n\tonOpen = () => {\r\n\t\tthis.progress = 1;\r\n\t};\r\n\r\n\tonClose = () => {\r\n\t\tif (this.shouldAttemptReconnect) {\r\n\t\t\tclearTimeout(this.reconnectTimeoutId);\r\n\t\t\tthis.reconnectTimeoutId = setTimeout(() => {\r\n\t\t\t\tthis.start();\r\n\t\t\t}, this.reconnectInterval * 1000);\r\n\t\t}\r\n\t};\r\n\r\n\tonMessage = (ev) => {\r\n\t\tlet isFirstChunk = !this.established;\r\n\t\tthis.established = true;\r\n\r\n\t\tif (isFirstChunk && this.onEstablishedCallback) {\r\n\t\t\tthis.onEstablishedCallback(this);\r\n\t\t}\r\n\r\n\t\tif (this.destination) {\r\n\t\t\tthis.destination.write(ev.data);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport class SIOSource {\r\n\tconstructor(url, options) {\r\n\t\tthis.url = url;\r\n\t\tthis.path = options.path;\r\n\t\tthis.options = options;\r\n\t\tthis.socket = null;\r\n\t\tthis.streaming = true;\r\n\r\n\t\tthis.callbacks = { connect: [], data: [] };\r\n\t\tthis.destination = null;\r\n\r\n\t\tthis.reconnectInterval =\r\n\t\t\toptions.reconnectInterval !== undefined ? options.reconnectInterval : 5;\r\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\r\n\r\n\t\tthis.completed = false;\r\n\t\tthis.established = false;\r\n\t\tthis.progress = 0;\r\n\r\n\t\tthis.reconnectTimeoutId = 0;\r\n\r\n\t\tthis.onEstablishedCallback = options.onSourceEstablished;\r\n\t\tthis.onCompletedCallback = options.onSourceCompleted; // Never used\r\n\t}\r\n\r\n\tconnect = (destination) => {\r\n\t\tthis.destination = destination;\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\tclearTimeout(this.reconnectTimeoutId);\r\n\t\tthis.shouldAttemptReconnect = false;\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.close();\r\n\t\t}\r\n\t};\r\n\r\n\tstart = () => {\r\n\t\tthis.shouldAttemptReconnect = !!this.reconnectInterval;\r\n\t\tthis.progress = 0;\r\n\t\tthis.established = false;\r\n\r\n\t\tif (!this.socket) {\r\n\t\t\tthis.socket = socketio(this.url, {\r\n\t\t\t\tpath: this.path,\r\n\t\t\t\ttransports: [\"websocket\"],\r\n\t\t\t});\r\n\t\t\tthis.socket.on(\"connect\", this.onOpen.bind(this));\r\n\t\t\tthis.socket.on(\"disconnect\", this.onClose.bind(this));\r\n\t\t\tthis.socket.on(\"videoData\", this.onMessage.bind(this));\r\n\t\t}\r\n\t};\r\n\r\n\tresume = (secondsHeadroom) => {\r\n\t\t// Nothing to do here\r\n\t};\r\n\r\n\tonOpen = () => {\r\n\t\tthis.progress = 1;\r\n\t};\r\n\r\n\tonClose = () => {\r\n\t\tif (this.shouldAttemptReconnect) {\r\n\t\t\tclearTimeout(this.reconnectTimeoutId);\r\n\t\t\tthis.reconnectTimeoutId = setTimeout(() => {\r\n\t\t\t\tthis.start();\r\n\t\t\t}, this.reconnectInterval * 1000);\r\n\t\t}\r\n\t};\r\n\r\n\tonMessage = (ev) => {\r\n\t\tlet isFirstChunk = !this.established;\r\n\t\tthis.established = true;\r\n\r\n\t\tif (isFirstChunk && this.onEstablishedCallback) {\r\n\t\t\tthis.onEstablishedCallback(this);\r\n\t\t}\r\n\r\n\t\tif (this.destination) {\r\n\t\t\tthis.destination.write(ev);\r\n\t\t}\r\n\t};\r\n}\r\n","import { Player } from \"libs/jsmpeg/src/player.js\";\n\n// import socketio from \"socket.io-client\";\n// window.io = socketio;\n// import JSMpeg from \"libs/jsmpeg/jsmpeg-old.min.js\";\n// window.JSMpeg = JSMpeg;\n\nexport default class Lagless2 {\n\tconstructor(options) {\n\t\tthis.videoCanvas = null;\n\t\tthis.graphicsCanvas = null;\n\t\tthis.context = null; // graphics context2d\n\t\tthis.player = {};\n\n\t\tthis.options = {\n\t\t\tvideoBufferSize: 512 * 1024, // 256kb (256 * 1024)\n\t\t\taudioBufferSize: 128 * 1024, // 128kb (128 * 1024)\n\t\t\t...options,\n\t\t};\n\n\t\tthis.times = [];\n\t\tthis.fps = 0;\n\t}\n\n\tpause = () => {\n\t\ttry {\n\t\t\tthis.player.pause();\n\t\t} catch (error) {}\n\t};\n\n\tplay = () => {\n\t\ttry {\n\t\t\tthis.player.play();\n\t\t} catch (error) {}\n\t};\n\n\tdestroy = () => {\n\t\ttry {\n\t\t\tthis.player.destroy();\n\t\t} catch (error) {}\n\t};\n\n\t// calculate fps:\n\t// https://www.growingwiththeweb.com/2017/12/fast-simple-js-fps-counter.html\n\tonVideoDecode = () => {\n\t\t// copy from internal canvas to external canvas:\n\t\t// this.context.drawImage(this.player.renderer.canvas, 0, 0, this.player.renderer.canvas.width, this.player.renderer.canvas.height);\n\n\t\t// calulate fps:\n\t\tlet now = performance.now();\n\t\twhile (this.times.length > 0 && this.times[0] <= now - 1000) {\n\t\t\tthis.times.shift();\n\t\t}\n\t\tthis.times.push(now);\n\n\t\tif (this.fps != this.times.length) {\n\t\t\tthis.fps = this.times.length;\n\n\t\t\t// this.context.font = \"25px sans-serif\";\n\t\t\t// this.context.lineWidth = 1;\n\t\t\t// this.context.clearRect(0, 0, 1000, 500);\n\n\t\t\t// this.context.fillStyle = \"#FFF\";\n\t\t\t// this.context.fillText(`FPS: ${this.fps}`, 5, 50);\n\t\t\t// // this.context.fillStyle = \"#000\";\n\t\t\t// // this.context.strokeText(`FPS: ${this.fps}`, 5, 50);\n\t\t}\n\t};\n\n\tresume = (videoCanvas, graphicsCanvas) => {\n\t\tthis.videoCanvas = videoCanvas || this.videoCanvas;\n\t\tthis.graphicsCanvas = graphicsCanvas || this.graphicsCanvas || null;\n\n\t\tlet onVideoDecode = null;\n\t\tif (this.graphicsCanvas) {\n\t\t\t// if (!this.context) {\n\t\t\tthis.context = this.graphicsCanvas.getContext(\"2d\");\n\t\t\t// }\n\t\t\tonVideoDecode = this.onVideoDecode;\n\t\t}\n\n\t\tthis.player = new Player(this.options.url, {\n\t\t\tcanvas: this.videoCanvas,\n\t\t\tvideoBufferSize: this.options.videoBufferSize,\n\t\t\taudioBufferSize: this.options.audioBufferSize,\n\t\t\tmaxAudioLag: this.options.maxAudioLag || 0.25,\n\t\t\tonVideoDecode: onVideoDecode,\n\t\t\taudio: !!this.options.audio,\n\t\t\tvideo: !!this.options.video,\n\t\t\tpath: this.options.path,\n\t\t});\n\t};\n}\n","import SimplePeer from \"simple-peer\";\r\nimport socketio from \"socket.io-client\";\r\n\r\nexport default class Lagless4 {\r\n\tconstructor(options) {\r\n\t\tthis.options = options;\r\n\t\tthis.canvas = null;\r\n\t\tthis.player = null;\r\n\t\tthis.connected = false;\r\n\r\n\t\tthis.videoConnection = null;\r\n\t}\r\n\r\n\trun = () => {\r\n\t\tthis.videoConnection = socketio(this.options.url, {\r\n\t\t\tpath: this.options.path,\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\r\n\t\tthis.peer = new SimplePeer({\r\n\t\t\tinitiator: false,\r\n\t\t\ttrickle: true,\r\n\t\t});\r\n\t\tthis.peer.on(\"error\", (error) => {\r\n\t\t\tconsole.log(\"error\", error);\r\n\t\t});\r\n\t\tthis.peer.on(\"signal\", (data) => {\r\n\t\t\tconsole.log(\"SIGNAL\", JSON.stringify(data));\r\n\t\t\tthis.videoConnection.emit(\"clientPeerSignal\", JSON.stringify(data));\r\n\t\t});\r\n\t\tthis.peer.on(\"connect\", () => {\r\n\t\t\tconsole.log(\"CONNECT\");\r\n\t\t\tthis.peer.send(Math.random());\r\n\t\t});\r\n\t\tthis.peer.on(\"data\", (data) => {\r\n\t\t\tconsole.log(\"data: \" + data);\r\n\t\t});\r\n\t\tthis.videoConnection.on(\"hostPeerSignal\", (data) => {\r\n\t\t\tthis.peer.signal(JSON.parse(data));\r\n\t\t});\r\n\t\tthis.peer.on(\"stream\", (stream) => {\r\n\t\t\t// if (canvas == null) {\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\t// got remote video stream, then show it in a video tag\r\n\t\t\ttry {\r\n\t\t\t\tthis.canvas.src = window.URL.createObjectURL(stream); // deprecated\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.canvas.srcObject = stream;\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tdestroy = () => {\r\n\t\ttry {\r\n\t\t\tthis.canvas.pause();\r\n\t\t} catch (error) {}\r\n\t};\r\n\r\n\tpause = () => {\r\n\t\ttry {\r\n\t\t\tthis.canvas.pause();\r\n\t\t} catch (error) {}\r\n\t};\r\n\r\n\tresume = (canvas) => {\r\n\t\tthis.canvas = canvas;\r\n\r\n\t\tif (!this.connected) {\r\n\t\t\tthis.connected = true;\r\n\t\t\tthis.videoConnection.emit(\"requestVideo\");\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tthis.canvas.play();\r\n\t\t\t} catch (error) {}\r\n\t\t}\r\n\t};\r\n}\r\n","export function getCookie(name) {\n\tlet dc = document.cookie;\n\tlet prefix = name + \"=\";\n\tlet begin = dc.indexOf(\"; \" + prefix);\n\tlet end;\n\tif (begin == -1) {\n\t\tbegin = dc.indexOf(prefix);\n\t\tif (begin !== 0) return null;\n\t} else {\n\t\tbegin += 2;\n\t\tend = document.cookie.indexOf(\";\", begin);\n\t\tif (end == -1) {\n\t\t\tend = dc.length;\n\t\t}\n\t}\n\t// because unescape has been deprecated, replaced with decodeURI\n\t//return unescape(dc.substring(begin + prefix.length, end));\n\treturn decodeURI(dc.substring(begin + prefix.length, end));\n}\n\nexport function setCookie(name, value, seconds) {\n\tlet expires = \"\";\n\tif (seconds) {\n\t\tlet date = new Date();\n\t\tdate.setTime(date.getTime() + seconds * 1000);\n\t\texpires = \"; expires=\" + date.toUTCString();\n\t}\n\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\n\nexport function clamp(n, min, max) {\n\treturn Math.min(Math.max(n, min), max);\n}\n\nexport function round(value, precision) {\n\tlet multiplier = Math.pow(10, precision || 0);\n\treturn Math.round(value * multiplier) / multiplier;\n}\n\nexport function msToTime(duration) {\n\t// \tvar milliseconds = parseInt((duration % 1000) / 100);\n\tlet milliseconds = parseInt((((duration / 1000) % 60) % 1) * 1000);\n\tlet seconds = parseInt((duration / 1000) % 60);\n\tlet minutes = parseInt((duration / (1000 * 60)) % 60);\n\tlet hours = parseInt((duration / (1000 * 60 * 60)) % 24);\n\thours = hours < 10 ? \"0\" + hours : hours;\n\tif (hours.length == 2 || (hours.length == 3 && hours[0] == \"0\")) {\n\t\thours = hours.substr(1);\n\t}\n\tminutes = minutes < 10 ? \"0\" + minutes : minutes;\n\tif (minutes.length == 3 || minutes.length == 4) {\n\t\tminutes = minutes.substr(1);\n\t}\n\tseconds = seconds < 10 ? \"0\" + seconds : seconds;\n\tif (seconds.length == 3 || seconds.length == 4) {\n\t\tseconds = seconds.substr(1);\n\t}\n\t//seconds = seconds.replaceAll(\"-\", \"\");\n\tif (seconds.length < 2) {\n\t\tseconds = \"0\" + seconds;\n\t}\n\tlet time = hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n\ttime = time.replaceAll(\"-\", \"\"); // remove negative signs\n\treturn time;\n}\n\nexport function toggleFullscreen(elem) {\n\t// ## The below if statement seems to work better ## if ((document.fullScreenElement && document.fullScreenElement !== null) || (document.msfullscreenElement && document.msfullscreenElement !== null) || (!document.mozFullScreen && !document.webkitIsFullScreen)) {\n\tif (\n\t\t(document.fullScreenElement !== undefined && document.fullScreenElement === null) ||\n\t\t(document.msFullscreenElement !== undefined &&\n\t\t\tdocument.msFullscreenElement === null) ||\n\t\t(document.mozFullScreen !== undefined && !document.mozFullScreen) ||\n\t\t(document.webkitIsFullScreen !== undefined && !document.webkitIsFullScreen)\n\t) {\n\t\tif (elem.requestFullScreen) {\n\t\t\telem.requestFullScreen();\n\t\t} else if (elem.mozRequestFullScreen) {\n\t\t\telem.mozRequestFullScreen();\n\t\t} else if (elem.webkitRequestFullScreen) {\n\t\t\telem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\n\t\t} else if (elem.msRequestFullscreen) {\n\t\t\telem.msRequestFullscreen();\n\t\t}\n\t} else {\n\t\tif (document.cancelFullScreen) {\n\t\t\tdocument.cancelFullScreen();\n\t\t} else if (document.mozCancelFullScreen) {\n\t\t\tdocument.mozCancelFullScreen();\n\t\t} else if (document.webkitCancelFullScreen) {\n\t\t\tdocument.webkitCancelFullScreen();\n\t\t} else if (document.msExitFullscreen) {\n\t\t\tdocument.msExitFullscreen();\n\t\t}\n\t}\n}\n\nexport function setToPercentParent(elem, percent) {\n\t$(elem).height(0);\n\tlet parentHeight = $(elem)\n\t\t.parent()\n\t\t.height();\n\tlet newHeight = (percent / 100) * parentHeight;\n\t$(elem).height(newHeight);\n}\n\n// like sleep, but worse:\nexport function wait(ms) {\n\tvar start = new Date().getTime();\n\tvar end = start;\n\twhile (end < start + ms) {\n\t\tend = new Date().getTime();\n\t}\n}\n\n// brings number closer to target by accel\nexport function mathZoom(current, target, accel) {\n\tif (current == target) {\n\t\treturn current;\n\t}\n\tif (Math.abs(current - target) < accel) {\n\t\treturn target;\n\t}\n\tif (current < target) {\n\t\treturn current + accel;\n\t} else {\n\t\treturn current - accel;\n\t}\n}\n\nexport function normalizeVector(vector, scale) {\n\tlet norm = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n\tif (norm !== 0) {\n\t\tvector.x = (scale * vector.x) / norm;\n\t\tvector.y = (scale * vector.y) / norm;\n\t}\n\treturn vector;\n}\n\nexport function abs(n) {\n\treturn Math.abs(n);\n}\n\n// delete all cookies:\nexport function deleteAllCookies() {\n\tlet cookies = document.cookie.split(\";\");\n\tfor (let i = 0; i < cookies.length; i++) {\n\t\tlet cookie = cookies[i];\n\t\tlet eqPos = cookie.indexOf(\"=\");\n\t\tlet name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n\t\tdocument.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n\t}\n}\n\nexport function fixedLengthString(string, pad, length) {\n\tstring = string + \"\";\n\twhile (string.length < length) {\n\t\tstring = pad + string;\n\t}\n\treturn string;\n}\n\nexport function getStickString(num) {\n\t// round to nearest tenth:\n\tnum = (Math.round((num + 1) * 10) / 10).toFixed(2);\n\tlet n = num * 10;\n\tif (n == 0) {\n\t\treturn \"900\";\n\t}\n\tif (n == 10) {\n\t\treturn \"090\";\n\t}\n\tif (n == 20) {\n\t\treturn \"009\";\n\t}\n\tif (n < 10) {\n\t\tn = 10 - n;\n\t\tn = 90 + 90 * n;\n\t} else {\n\t\tn = (20 - n) * 9;\n\t}\n\treturn String(n).padStart(3, \"0\");\n}\n\nexport function getAverage(array) {\n\treturn array.reduce((a, b) => a + b) / array.length;\n}\n\nexport function pick(...props) {\n\treturn (o) => props.reduce((a, e) => ({ ...a, [e]: o[e] }), {});\n}\n\n// String.prototype.replaceAll = function(search, replacement) {\n// \tlet target = this;\n// \treturn target.replace(new RegExp(search, \"g\"), replacement);\n// };\n\n// $.fn.sumHeights = function() {\n// \tlet h = 0;\n// \tthis.each(function() {\n// \t\th += $(this).outerHeight();\n// \t});\n// \treturn h;\n// };\n// $.fn.addUp = function(getter) {\n// \treturn Array.prototype.reduce.call(this, function(a, b) {\n// \t\treturn a + getter.call($(b));\n// \t}, 0);\n// }\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport { takeEvery } from \"redux-saga/effects\";\r\n\r\nconst handleChatActions = (params) => {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(types.SEND_MESSAGE, (action) => {\r\n\t\t\tparams.socket.emit(\"chatMessage\", { text: action.payload.text });\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handleChatActions;\r\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport { takeEvery } from \"redux-saga/effects\";\r\n\r\nconst handleClientInfoActions = (params) => {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(types.AUTHENTICATE, (action) => {\r\n\t\t\tparams.socket.emit(\"authenticate\", { authToken: action.payload.authToken });\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handleClientInfoActions;\r\n","import { all } from \"redux-saga/effects\";\r\n\r\nimport handleChatActions from \"./chat.js\";\r\nimport handlePlayersActions from \"./players.js\";\r\nimport handleClientInfoActions from \"./clientInfo.js\";\r\n\r\n// combine sagas?:\r\n// handles any outgoing actions w/ access to socket.io:\r\nconst handleActions = function*(params) {\r\n\tlet list = [];\r\n\tlist = list.concat(handleChatActions(params));\r\n\tlist = list.concat(handlePlayersActions(params));\r\n\tlist = list.concat(handleClientInfoActions(params));\r\n\r\n\t// yield to entire list:\r\n\tyield all(list);\r\n};\r\n\r\nexport default handleActions;\r\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport { takeEvery } from \"redux-saga/effects\";\r\n\r\nconst handlePlayersActions = function(params) {\r\n\tlet list = [];\r\n\tlist.push(\r\n\t\ttakeEvery(types.LEAVE_PLAYER_CONTROL_QUEUE, (action) => {\r\n\t\t\tparams.socket.emit(\"leaveQueue\", action.payload.controllerNumber);\r\n\t\t}),\r\n\t);\r\n\tlist.push(\r\n\t\ttakeEvery(types.JOIN_PLAYER_CONTROL_QUEUE, (action) => {\r\n\t\t\tconst NUM_CONTROLLERS = 9;\r\n\t\t\tfor (let i = 0; i < NUM_CONTROLLERS; i++) {\r\n\t\t\t\tif (i == action.payload.controllerNumber) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tparams.socket.emit(\"leaveQueue\", action.payload.controllerNumber);\r\n\t\t\t}\r\n\t\t\tparams.socket.emit(\"joinQueue\", action.payload.controllerNumber);\r\n\t\t}),\r\n\t);\r\n\treturn list;\r\n};\r\n\r\nexport default handlePlayersActions;\r\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport { receiveAccountMap } from \"src/actions/accountMap.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst accountMapEvents = (socket, dispatch) => {\r\n\tsocket.on(\"accountMap\", (data) => {\r\n\t\tdispatch(receiveAccountMap(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default accountMapEvents;\r\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport { receiveMessage } from \"src/actions/chat.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst chatSocketEvents = (socket, dispatch) => {\r\n\r\n\tsocket.on(\"chatMessage\", (data) => {\r\n\t\tdispatch(receiveMessage(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default chatSocketEvents;\r\n","import { updateClient } from \"features/client.js\";\r\n\r\n// libs:\r\nimport localforage from \"localforage\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nfunction authenticate(socket, dispatch) {\r\n\tlet authToken = Cookie.get(\"RemoteGames\");\r\n\tif (authToken) {\r\n\t\tsocket.emit(\r\n\t\t\t\"authenticate\",\r\n\t\t\t{\r\n\t\t\t\tauthToken: authToken,\r\n\t\t\t\tusernameIndex: 0,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tupdateClient({\r\n\t\t\t\t\t\t\t...data.clientInfo,\r\n\t\t\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\t\t\tloggedIn: true,\r\n\t\t\t\t\t\t\thostAuthed: true,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(`AUTHENTICATION_FAILURE: ${data.reason}`);\r\n\t\t\t\t\t// remove the authToken if it doesn't work:\r\n\t\t\t\t\tif (data.reason === \"ACCOUNT_NOT_FOUND\") {\r\n\t\t\t\t\t\tCookie.remove(\"RemoteGames\");\r\n\t\t\t\t\t\tdispatch(updateClientInfo({ authToken: null }));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst clientEvents = (socket, dispatch) => {\r\n\t/* AUTHENTICATION */\r\n\tauthenticate(socket, dispatch);\r\n\r\n\tsocket.on(\"banned\", (data) => {\r\n\t\tlocalforage.setItem(\"banned\", \"banned\");\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default clientEvents;\r\n","// combine socket event handlers into one socket:\r\nimport chatSocketEvents from \"./chat.js\";\r\nimport playersEvents from \"./players.js\";\r\nimport timeEvents from \"./time.js\";\r\nimport accountMapEvents from \"./accountMap.js\";\r\n// import waitlistEvents from \"./waitlist.js\";\r\nimport clientEvents from \"./client.js\";\r\n\r\nconst handleEvents = (socket, dispatch) => {\r\n\tsocket = chatSocketEvents(socket, dispatch);\r\n\tsocket = playersEvents(socket, dispatch);\r\n\tsocket = timeEvents(socket, dispatch);\r\n\tsocket = accountMapEvents(socket, dispatch);\r\n\t// socket = waitlistEvents(socket, dispatch);\r\n\tsocket = clientEvents(socket, dispatch);\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default handleEvents;\r\n","import * as types from \"src/actions/ActionTypes.js\";\r\nimport {\r\n\tupdatePlayerControlQueues,\r\n\tupdatePlayerTurnStartTimes,\r\n\tupdatePlayerTurnLengths,\r\n\tupdatePlayerControllerState,\r\n} from \"src/actions/players.js\";\r\n\r\n// listen to events w/ given socket and dispatch actions accordingly:\r\nconst playersEvents = (socket, dispatch) => {\r\n\tsocket.on(\"controlQueues\", (data) => {\r\n\t\tdispatch(updatePlayerControlQueues(data));\r\n\t});\r\n\r\n\tsocket.on(\"turnStartTimes\", (data) => {\r\n\t\tdispatch(updatePlayerTurnStartTimes(data));\r\n\t});\r\n\r\n\tsocket.on(\"turnLengths\", (data) => {\r\n\t\tdispatch(updatePlayerTurnLengths(data));\r\n\t});\r\n\r\n\tsocket.on(\"controllerState\", (data) => {\r\n\t\tdispatch(updatePlayerControllerState(data));\r\n\t});\r\n\r\n\treturn socket;\r\n};\r\n\r\nexport default playersEvents;\r\n","import * as types from \"src/actions/ActionTypes.js\";\nimport { updateServerTime, updatePing } from \"src/actions/time.js\";\nimport { getAverage } from \"src/libs/tools.js\";\n\n// listen to events w/ given socket and dispatch actions accordingly:\nconst timeEvents = (socket, dispatch) => {\n\tsocket.on(\"serverTime\", (data) => {\n\t\tdispatch(updateServerTime(data));\n\t});\n\n\t/* PING @@@@@@@@@@@@@@@@@@@@@@@@@@@@ */\n\t// let time = Date.now();\n\t// setInterval(() => {\n\t// \ttime = Date.now();\n\t// \tsocket.emit(\"ping2\");\n\t// }, 1000);\n\t// socket.on(\"pong2\", () => {\n\t// \tlet ping = Date.now() - time;\n\t// \tdispatch(updatePing(ping));\n\t// });\n\t// let pings = [];\n\tlet ping = 0;\n\tlet avgSize = 5;\n\tsetInterval(() => {\n\t\tsocket.emit(\"ping2\", Date.now(), (startTime) => {\n\t\t\tlet latency = Date.now() - startTime;\n\t\t\tping = (ping * (avgSize - 1) + latency) / avgSize;\n\t\t\tdispatch(updatePing(Math.round(ping)));\n\t\t});\n\t}, 1000);\n\n\treturn socket;\n};\n\nexport default timeEvents;\n","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}