(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{348:function(e,t,r){"use strict";var a=r(0),n=r.n(a),o=r(528),s=r(273),i=r(531);var l=e=>n.a.createElement(o.a,{open:e.open,anchorEl:e.anchorEl,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(s.a,{elevation:4,style:{padding:"10px"}},n.a.createElement(i.a,{variant:"contained",color:"primary"},"View Profile"),n.a.createElement(i.a,{variant:"contained",color:"secondary"},"Ban"),n.a.createElement(i.a,{variant:"contained",color:"primary"},"Kick from Queue"))),c=r(14),p=r(92),u=r(294);class d extends a.PureComponent{constructor(e){super(e),this.state={popoverOpen:!1},this.ref=n.a.createRef(),this.handleOpenPopover=this.handleOpenPopover.bind(this),this.handleClosePopover=this.handleClosePopover.bind(this)}handleOpenPopover(){this.setState({popoverOpen:!0})}handleClosePopover(){this.setState({popoverOpen:!1})}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:this.props.style,onClick:this.handleOpenPopover,ref:e=>{this.ref=e}},this.props.children),n.a.createElement(l,{open:this.state.popoverOpen,onClose:this.handleClosePopover,anchorEl:this.ref}))}}t.a=Object(u.a)(Object(c.a)(e=>({root:{}})),Object(p.b)(e=>({})))(d)},544:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(347),s=r(14),i=r(1),l=r(5),c=(r(7),r(15)),p=r(36),u=r(30),d=r(29),m=n.a.forwardRef((function(e,t){var r=e.classes,a=e.className,o=e.color,s=void 0===o?"primary":o,u=e.value,m=e.valueBuffer,h=e.variant,f=void 0===h?"indeterminate":h,b=Object(l.a)(e,["classes","className","color","value","valueBuffer","variant"]),g=Object(d.a)(),y={},v={bar1:{},bar2:{}};if("determinate"===f||"buffer"===f)if(void 0!==u){y["aria-valuenow"]=Math.round(u);var x=u-100;"rtl"===g.direction&&(x=-x),v.bar1.transform="translateX(".concat(x,"%)")}else 0;if("buffer"===f)if(void 0!==m){var O=(m||0)-100;"rtl"===g.direction&&(O=-O),v.bar2.transform="translateX(".concat(O,"%)")}else 0;return n.a.createElement("div",Object(i.a)({className:Object(c.a)(r.root,r["color".concat(Object(p.a)(s))],a,{determinate:r.determinate,indeterminate:r.indeterminate,buffer:r.buffer,query:r.query}[f]),role:"progressbar"},y,{ref:t},b),"buffer"===f?n.a.createElement("div",{className:Object(c.a)(r.dashed,r["dashedColor".concat(Object(p.a)(s))])}):null,n.a.createElement("div",{className:Object(c.a)(r.bar,r["barColor".concat(Object(p.a)(s))],("indeterminate"===f||"query"===f)&&r.bar1Indeterminate,{determinate:r.bar1Determinate,buffer:r.bar1Buffer}[f]),style:v.bar1}),"determinate"===f?null:n.a.createElement("div",{className:Object(c.a)(r.bar,("indeterminate"===f||"query"===f)&&r.bar2Indeterminate,"buffer"===f?[r["color".concat(Object(p.a)(s))],r.bar2Buffer]:r["barColor".concat(Object(p.a)(s))]),style:v.bar2}))})),h=Object(s.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(u.i)(t,.62):Object(u.a)(t,.5)},r=t(e.palette.primary.main),a=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4},colorPrimary:{backgroundColor:r},colorSecondary:{backgroundColor:a},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0px -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0px -23px"},"50%":{opacity:0,backgroundPosition:"0px -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(m),f=r(92),b=r(72),g=r.n(b);class y extends a.PureComponent{constructor(e){super(e),this.state={}}getBarText(){if(null==this.props.name){if("turn"==this.props.type)return"No one is playing right now.";if("forfeit"==this.props.type)return null}else{if("turn"==this.props.type)return`${this.props.name}: ${this.props.timeLeft} seconds`;if("forfeit"==this.props.type)return`${this.props.timeLeft} seconds until turn forfeit.`}}getStyle(){return null==this.props.name?{width:"100%"}:{width:this.props.percent+"%"}}render(){const{classes:e}=this.props;let t="turn"==this.props.type,r=t?"primary":"secondary",a=g()({[e.turn]:t,[e.forfeit]:!t}),o=null==this.props.name?100:this.props.percent,s=g()({[e.turnText]:t,[e.forfeitText]:!t});return n.a.createElement("div",{className:e.root},n.a.createElement(h,{classes:{root:a},variant:"determinate",value:o,color:r}),n.a.createElement("div",{className:s},this.getBarText()))}}var v=Object(s.a)({root:{position:"relative",marginBottom:"5px"},turnText:{width:"100%",position:"absolute",top:"0px",lineHeight:"24px"},forfeitText:{width:"100%",position:"absolute",top:"0px",lineHeight:"15px"},turn:{height:"24px",borderRadius:"6px"},forfeit:{height:"15px",borderRadius:"6px"}})(y);class x extends a.PureComponent{constructor(e){super(e),this.state={time:0}}componentDidMount(){this.interval=setInterval(()=>{this.setState({time:Date.now()})},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){let e=this.props.num,t=this.props.time.server,r=Date.now()-this.props.time.lastServerUpdate+t,a=this.props.turnTimers[e].turnStartTime,o=this.props.turnTimers[e].turnLength,s=o-(r-a),i=s/o*100,l=this.props.turnTimers[e].forfeitStartTime,c=this.props.turnTimers[e].forfeitLength,p=c-(r-l),u=p/c*100,d=this.props.accountMap[this.props.controlQueues[e][0]];return d=d?d.username:"loading",this.props.controlQueues[e][0]||(d=null),n.a.createElement(n.a.Fragment,null,n.a.createElement(v,{type:"turn",name:d,timeLeft:parseInt(s/1e3),percent:parseInt(i)}),n.a.createElement(v,{type:"forfeit",name:d,timeLeft:parseInt(p/1e3),percent:parseInt(u)}))}}var O=Object(f.b)(e=>({time:e.stream.time,turnTimers:e.stream.players.turnTimers,controlQueues:e.stream.players.controlQueues,accountMap:e.stream.accountMap}),e=>({}))(x),j=r(531),C=r(325),P=r(294);r(72);class E extends a.PureComponent{constructor(e){super(e),this.joinLeaveQueue=this.joinLeaveQueue.bind(this),this.state={}}joinLeaveQueue(){if(this.props.controlQueue.indexOf(this.props.userid)>-1)this.props.leavePlayerControlQueue(this.props.num);else{for(let e=0;e<this.props.playerCount;e++)e!==this.props.num&&this.props.leavePlayerControlQueue(e);this.props.joinPlayerControlQueue(this.props.num)}}render(){const{classes:e}=this.props;let t;this.props.num;return t=this.props.controlQueue.indexOf(this.props.userid)>-1?"Leave Queue":"Join Queue",n.a.createElement(j.a,{className:e.root,variant:"contained",onClick:this.joinLeaveQueue,disabled:!this.props.loggedIn},t)}}var w=Object(P.a)(Object(s.a)(e=>({root:{width:"100%"}})),Object(f.b)(e=>({loggedIn:e.client.loggedIn,playerCount:e.stream.players.count}),e=>({leavePlayerControlQueue:t=>{e(Object(C.b)(t))},joinPlayerControlQueue:t=>{e(Object(C.a)(t))}})))(E),k=r(404),Q=r(339),I=r(448),T=r(348);let N=r(72);class S extends a.PureComponent{constructor(e){super(e)}getQueue(){const{classes:e}=this.props;let t=[],r=this.props.controlQueues[this.props.num];if(0==r.length)return n.a.createElement(Q.a,{key:"0"},n.a.createElement(I.a,{primary:"The queue is empty."}));for(let a=0;a<r.length;a++){let o=this.props.accountMap[r[a]];o=o?o.username:"loading";let s=N(e.listItem,{[e.highlighted]:this.props.userid==r[a]});t.push(n.a.createElement(T.a,{key:a,style:{width:"100%"},userid:r[a]},n.a.createElement(Q.a,{button:!0,key:a,className:s,userid:r[a]},n.a.createElement(I.a,{primary:o}))))}return t}render(){const{classes:e}=this.props;return n.a.createElement(k.a,{className:e.root},this.getQueue())}}var L=Object(P.a)(Object(s.a)(e=>({root:{width:"100%",backgroundColor:e.palette.background.paper},listItem:{cursor:"pointer",userSelect:"none",width:"100%"},highlighted:{backgroundColor:e.palette.secondary.light}})),Object(f.b)(e=>({userid:e.client.userid,controlQueues:e.stream.players.controlQueues,accountMap:e.stream.accountMap})))(S),B=r(273),M=r(94),D=r(295);class z extends a.PureComponent{constructor(e){super(e),this.choosePlayer=this.choosePlayer.bind(this),this.state={}}choosePlayer(){[0,1,2,3,4,5,6,7].forEach(e=>{this.props.leavePlayerControlQueue(e)}),this.props.choosePlayer(this.props.num)}render(){const{classes:e}=this.props;let t=this.props.num;return n.a.createElement(B.a,{elevation:4,className:e.root},n.a.createElement(o.a,{text:`Player ${this.props.num+1}`,handleChange:this.choosePlayer,checked:this.props.currentPlayer==this.props.num}),n.a.createElement(O,{num:this.props.num}),n.a.createElement(w,{num:this.props.num,controlQueue:this.props.controlQueues[t],userid:this.props.userid}),n.a.createElement(L,{num:this.props.num}))}}var $=Object(P.a)(Object(s.a)(e=>({root:{width:"100%",padding:"5px"},[D.a.tablet]:{root:{width:"100%"}},[D.a.laptop]:{root:{width:"24%"}}})),Object(f.b)(e=>({controlQueues:e.stream.players.controlQueues,userid:e.client.userid,currentPlayer:e.settings.currentPlayer}),e=>({choosePlayer:t=>{e(Object(M.a)({currentPlayer:t}))},leavePlayerControlQueue:t=>{e(Object(C.b)(t))}})))(z);const q={root:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",overflowX:"hidden",padding:"10px",flexWrap:"wrap"},[D.a.tablet]:{root:{flexDirection:"row"}},[D.a.laptop]:{root:{}}};class R extends a.PureComponent{constructor(e){super(e),this.state={}}render(){const{classes:e}=this.props;return n.a.createElement(B.a,{className:e.root,elevation:0},n.a.createElement($,{num:0}),n.a.createElement($,{num:1}),n.a.createElement($,{num:2}),n.a.createElement($,{num:3}))}}var X=Object(P.a)(Object(s.a)(q),Object(f.b)(e=>({}),e=>({})))(R);class J extends a.PureComponent{constructor(e){super(e)}render(){const{classes:e}=this.props;return n.a.createElement(B.a,{elevation:3,className:e.root},n.a.createElement(X,null))}}t.default=Object(P.a)(Object(s.a)(e=>({root:{gridArea:"info",display:"flex",flexDirection:"column",width:"100%",padding:0,margin:0,overflowX:"hidden",textAlign:"center"},hideChat:{gridColumn:"1/3"},settings:{display:"flex",width:"100%",overflowY:"hidden",justifyContent:"space-evenly",padding:"10px"},settingsPanel:{width:"24%"}})),Object(f.b)(e=>({hideChat:e.settings.hideChat})))(J)}}]);